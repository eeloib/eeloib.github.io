// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ca,da,ea,y,fa,ga,ha,I,ia,ja,ka,ma,pa,qa,K,ra,sa,P,ta,ua,xa,ya,S,za,Aa,Ba,Ca,Da,T,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,U,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,V,Sb,Tb={},Ub={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(a,d,e,c){this.set(a,d,e,c)}function p(){this.lb=this.kb=this.nb=this.mb=this.wb=this.ub=this.Sa=this.Ra=0}function m(a,d,e,c){a<d?e<c?(r=a<e?a:e,k=d>c?d:c):(r=a<c?a:c,k=d>e?d:e):e<c?(r=d<e?d:e,k=a>c?a:c):(r=d<c?d:c,k=a>e?a:e)}function n(){this.items=this.Da=null;this.gh=0;z&&(this.Da=new Set);this.yg=[];this.Ud=!0}function v(a){x[A++]=a}function t(){this.ma=this.Rj=this.y=this.uk=0}function b(a){this.Qa=[];this.ai=this.ci=this.di=this.bi=0;this.Ih(a)}function a(a,d){this.yk=
a;this.xk=d;this.cells={}}function c(a,d){this.yk=a;this.xk=d;this.cells={}}function q(a,d,e){var c;return Z.length?(c=Z.pop(),c.fl=a,c.x=d,c.y=e,c):new ca(a,d,e)}function d(a,d,e){this.fl=a;this.x=d;this.y=e;this.Xa=new da}function e(a,d,e){var c;return Y.length?(c=Y.pop(),c.fl=a,c.x=d,c.y=e,c):new ea(a,d,e)}function h(a,d,e){this.fl=a;this.x=d;this.y=e;this.Xa=[];this.Wf=!0;this.md=new da;this.Cg=!1}function g(a,d){return a.$c-d.$c}y=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};I=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var d=1;32>d;d<<=1)a=a|a>>d;return a+1};ka=function(a){return 0>a?-a:a};ma=function(a,d){return a>d?a:d};pa=function(a,d){return a<d?a:d};qa=Math.PI;K=function(a){return 0<=a?a|0:(a|0)-1};ra=function(a){var d=a|0;return d===a?d:d+1};
sa=function(a,d,e,c,l,g,B,C){var b,q,h,k;a<e?(q=a,b=e):(q=e,b=a);l<B?(k=l,h=B):(k=B,h=l);if(b<k||q>h)return!1;d<c?(q=d,b=c):(q=c,b=d);g<C?(k=g,h=C):(k=C,h=g);if(b<k||q>h)return!1;b=l-a+B-e;q=g-d+C-c;a=e-a;d=c-d;l=B-l;g=C-g;C=ka(d*l-g*a);return ka(l*q-g*b)>C?!1:ka(a*q-d*b)<=C};f.prototype.set=function(a,d,e,c){this.left=a;this.top=d;this.right=e;this.bottom=c};f.prototype.Hf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};f.prototype.width=function(){return this.right-
this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(a,d){this.left+=a;this.top+=d;this.right+=a;this.bottom+=d;return this};f.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};f.prototype.eo=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};f.prototype.fo=function(a,d,e){return!(a.right+
d<this.left||a.bottom+e<this.top||a.left+d>this.right||a.top+e>this.bottom)};f.prototype.yb=function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom};f.prototype.Kg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};P=f;p.prototype.Ae=function(a){this.Ra=a.left;this.Sa=a.top;this.ub=a.right;this.wb=a.top;this.mb=a.right;this.nb=a.bottom;this.kb=a.left;this.lb=a.bottom};p.prototype.Gp=function(a,d){if(0===d)this.Ae(a);else{var e=
Math.sin(d),c=Math.cos(d),l=a.left*e,g=a.top*e,B=a.right*e,e=a.bottom*e,C=a.left*c,b=a.top*c,q=a.right*c,c=a.bottom*c;this.Ra=C-g;this.Sa=b+l;this.ub=q-g;this.wb=b+B;this.mb=q-e;this.nb=c+B;this.kb=C-e;this.lb=c+l}};p.prototype.offset=function(a,d){this.Ra+=a;this.Sa+=d;this.ub+=a;this.wb+=d;this.mb+=a;this.nb+=d;this.kb+=a;this.lb+=d;return this};var r=0,k=0;p.prototype.pn=function(a){m(this.Ra,this.ub,this.mb,this.kb);a.left=r;a.right=k;m(this.Sa,this.wb,this.nb,this.lb);a.top=r;a.bottom=k};p.prototype.yb=
function(a,d){var e=this.Ra,c=this.Sa,l=this.ub-e,g=this.wb-c,B=this.mb-e,C=this.nb-c,b=a-e,q=d-c,h=l*l+g*g,k=l*B+g*C,g=l*b+g*q,u=B*B+C*C,f=B*b+C*q,r=1/(h*u-k*k),l=(u*g-k*f)*r,h=(h*f-k*g)*r;if(0<=l&&0<h&&1>l+h)return!0;l=this.kb-e;g=this.lb-c;h=l*l+g*g;k=l*B+g*C;g=l*b+g*q;r=1/(h*u-k*k);l=(u*g-k*f)*r;h=(h*f-k*g)*r;return 0<=l&&0<h&&1>l+h};p.prototype.Td=function(a,d){if(d)switch(a){case 0:return this.Ra;case 1:return this.ub;case 2:return this.mb;case 3:return this.kb;case 4:return this.Ra;default:return this.Ra}else switch(a){case 0:return this.Sa;
case 1:return this.wb;case 2:return this.nb;case 3:return this.lb;case 4:return this.Sa;default:return this.Sa}};p.prototype.Ro=function(){return(this.Ra+this.ub+this.mb+this.kb)/4};p.prototype.So=function(){return(this.Sa+this.wb+this.nb+this.lb)/4};p.prototype.sl=function(a){var d=a.Ro(),e=a.So();if(this.yb(d,e))return!0;d=this.Ro();e=this.So();if(a.yb(d,e))return!0;var c,l,g,B,C,b,q,h;for(q=0;4>q;q++)for(h=0;4>h;h++)if(d=this.Td(q,!0),e=this.Td(q,!1),c=this.Td(q+1,!0),l=this.Td(q+1,!1),g=a.Td(h,
!0),B=a.Td(h,!1),C=a.Td(h+1,!0),b=a.Td(h+1,!1),sa(d,e,c,l,g,B,C,b))return!0;return!1};ta=p;ua=function(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);return a};xa=function(a,d){var e,c;d=K(d);if(!(0>d||d>=a.length)){e=d;for(c=a.length-1;e<c;e++)a[e]=a[e+1];ya(a,c)}};ya=function(a,d){a.length=d};S=function(a){ya(a,0)};za=function(a,d){S(a);var e,c;e=0;for(c=d.length;e<c;++e)a[e]=d[e]};Aa=function(a,d){a.push.apply(a,d)};Ba=function(a,d){var e,c;e=0;for(c=a.length;e<c;++e)if(a[e]===d)return e;
return-1};Ca=function(a,d){var e=Ba(a,d);-1!==e&&xa(a,e)};Da=function(a,d,e){return a<d?d:a>e?e:a};T=function(a){return a/(180/qa)};Ea=function(a){return 180/qa*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*qa;0>a&&(a+=2*qa);return a};Ha=function(a){return Fa(Ea(a))};Ia=function(a){return Ga(T(a))};Ja=function(a,d,e,c){return Math.atan2(c-d,e-a)};Ka=function(a,d){if(a===d)return 0;var e=Math.sin(a),c=Math.cos(a),l=Math.sin(d),g=Math.cos(d),e=e*l+c*g;return 1<=e?0:-1>=e?qa:Math.acos(e)};
La=function(a,d,e){var c=Math.sin(a),l=Math.cos(a),g=Math.sin(d),B=Math.cos(d);return Math.acos(c*g+l*B)>e?0<l*g-c*B?Ga(a+e):Ga(a-e):Ga(d)};Ma=function(a,d){var e=Math.sin(a),c=Math.cos(a),l=Math.sin(d),g=Math.cos(d);return 0>=c*l-e*g};U=function(a,d,e,c){a=e-a;d=c-d;return Math.sqrt(a*a+d*d)};Na=function(a,d){return!a!==!d};Oa=function(a){for(var d in a)if(a.hasOwnProperty(d))return!0;return!1};Pa=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var w=+new Date;Qa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-w};var l=!1,u=l=!1,aa=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),aa=window.c2ejecta);
var z=!l&&!aa&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;n.prototype.contains=function(a){return this.Cd()?!1:z?this.Da.has(a):this.items&&this.items.hasOwnProperty(a)};n.prototype.add=function(a){if(z)this.Da.has(a)||(this.Da.add(a),this.Ud=!1);else{var d=a.toString(),e=this.items;e?e.hasOwnProperty(d)||(e[d]=a,this.gh++,this.Ud=!1):(this.items={},this.items[d]=a,this.gh=1,this.Ud=!1)}};n.prototype.remove=function(a){if(!this.Cd())if(z)this.Da.has(a)&&(this.Da["delete"](a),
this.Ud=!1);else if(this.items){a=a.toString();var d=this.items;d.hasOwnProperty(a)&&(delete d[a],this.gh--,this.Ud=!1)}};n.prototype.clear=function(){this.Cd()||(z?this.Da.clear():(this.items=null,this.gh=0),S(this.yg),this.Ud=!0)};n.prototype.Cd=function(){return 0===this.count()};n.prototype.count=function(){return z?this.Da.size:this.gh};var x=null,A=0;n.prototype.gv=function(){if(!this.Ud){if(z)S(this.yg),x=this.yg,A=0,this.Da.forEach(v),x=null,A=0;else{var a=this.yg;S(a);var d,e=0,c=this.items;
if(c)for(d in c)c.hasOwnProperty(d)&&(a[e++]=c[d])}this.Ud=!0}};n.prototype.Ee=function(){this.gv();return this.yg};da=n;new da;Ra=function(a,d){z?Sa(a,d.Da):Ta(a,d.Ee())};Sa=function(a,d){var e,c,l,g;c=e=0;for(l=a.length;e<l;++e)g=a[e],d.has(g)||(a[c++]=g);ya(a,c)};Ta=function(a,d){var e,c,l,g;c=e=0;for(l=a.length;e<l;++e)g=a[e],-1===Ba(d,g)&&(a[c++]=g);ya(a,c)};t.prototype.add=function(a){this.y=a-this.uk;this.Rj=this.ma+this.y;this.uk=this.Rj-this.ma-this.y;this.ma=this.Rj};t.prototype.reset=function(){this.ma=
this.Rj=this.y=this.uk=0};Ua=t;Va=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.Ih=function(a){this.qp=a;this.Sc=a.length/2;this.Qa.length=a.length;this.gi=this.hi=-1;this.sn=0};b.prototype.df=function(){return!this.qp.length};b.prototype.ba=function(){for(var a=this.Qa,d=a[0],e=d,c=a[1],l=c,g,B,C=1,b=this.Sc;C<b;++C)B=2*C,g=a[B],B=a[B+1],g<d&&(d=g),g>e&&(e=g),B<c&&(c=B),B>l&&(l=B);this.bi=d;this.ci=e;this.di=c;this.ai=l};b.prototype.Ae=function(a,d,e){this.Qa.length=
8;this.Sc=4;var c=this.Qa;c[0]=a.left-d;c[1]=a.top-e;c[2]=a.right-d;c[3]=a.top-e;c[4]=a.right-d;c[5]=a.bottom-e;c[6]=a.left-d;c[7]=a.bottom-e;this.hi=a.right-a.left;this.gi=a.bottom-a.top;this.ba()};b.prototype.xf=function(a,d,e,c,l){this.Qa.length=8;this.Sc=4;var g=this.Qa;g[0]=a.Ra-d;g[1]=a.Sa-e;g[2]=a.ub-d;g[3]=a.wb-e;g[4]=a.mb-d;g[5]=a.nb-e;g[6]=a.kb-d;g[7]=a.lb-e;this.hi=c;this.gi=l;this.ba()};b.prototype.Fp=function(a){this.Sc=a.Sc;za(this.Qa,a.Qa);this.bi=a.bi;this.di-a.di;this.ci=a.ci;this.ai=
a.ai};b.prototype.Le=function(a,d,e){if(this.hi!==a||this.gi!==d||this.sn!==e){this.hi=a;this.gi=d;this.sn=e;var c,l,g,B,C,b=0,q=1,h=this.qp,k=this.Qa;0!==e&&(b=Math.sin(e),q=Math.cos(e));e=0;for(g=this.Sc;e<g;e++)c=2*e,l=c+1,B=h[c]*a,C=h[l]*d,k[c]=B*q-C*b,k[l]=C*q+B*b;this.ba()}};b.prototype.yb=function(a,d){var e=this.Qa;if(a===e[0]&&d===e[1])return!0;var c,l,g,B=this.Sc,C=this.bi-110,b=this.di-101,q=this.ci+131,h=this.ai+120,k,u,f=0,r=0;for(c=0;c<B;c++)l=2*c,g=(c+1)%B*2,k=e[l],l=e[l+1],u=e[g],
g=e[g+1],sa(C,b,a,d,k,l,u,g)&&f++,sa(q,h,a,d,k,l,u,g)&&r++;return 1===f%2||1===r%2};b.prototype.bf=function(a,d,e){var c=a.Qa,l=this.Qa;if(this.yb(c[0]+d,c[1]+e)||a.yb(l[0]-d,l[1]-e))return!0;var g,B,C,b,q,h,k,u,f,r,z,x;g=0;for(b=this.Sc;g<b;g++)for(B=2*g,C=(g+1)%b*2,u=l[B],B=l[B+1],f=l[C],r=l[C+1],C=0,k=a.Sc;C<k;C++)if(q=2*C,h=(C+1)%k*2,z=c[q]+d,q=c[q+1]+e,x=c[h]+d,h=c[h+1]+e,sa(u,B,f,r,z,q,x,h))return!0;return!1};Wa=b;a.prototype.be=function(a,d,e){var c;c=this.cells[a];return c?(c=c[d])?c:e?(c=
q(this,a,d),this.cells[a][d]=c):null:e?(c=q(this,a,d),this.cells[a]={},this.cells[a][d]=c):null};a.prototype.Db=function(a){return K(a/this.yk)};a.prototype.Eb=function(a){return K(a/this.xk)};a.prototype.update=function(a,d,e){var c,l,g,B,C;if(d)for(c=d.left,l=d.right;c<=l;++c)for(g=d.top,B=d.bottom;g<=B;++g)if(!e||!e.yb(c,g))if(C=this.be(c,g,!1))C.remove(a),C.Cd()&&(C.Xa.clear(),1E3>Z.length&&Z.push(C),this.cells[c][g]=null);if(e)for(c=e.left,l=e.right;c<=l;++c)for(g=e.top,B=e.bottom;g<=B;++g)d&&
d.yb(c,g)||this.be(c,g,!0).ql(a)};a.prototype.Aj=function(a,d){var e,c,l,g,B,C;e=this.Db(a.left);l=this.Eb(a.top);c=this.Db(a.right);for(B=this.Eb(a.bottom);e<=c;++e)for(g=l;g<=B;++g)(C=this.be(e,g,!1))&&C.dump(d)};Xa=a;c.prototype.be=function(a,d,c){var l;l=this.cells[a];return l?(l=l[d])?l:c?(l=e(this,a,d),this.cells[a][d]=l):null:c?(l=e(this,a,d),this.cells[a]={},this.cells[a][d]=l):null};c.prototype.Db=function(a){return K(a/this.yk)};c.prototype.Eb=function(a){return K(a/this.xk)};c.prototype.update=
function(a,d,e){var c,l,g,B,C;if(d)for(c=d.left,l=d.right;c<=l;++c)for(g=d.top,B=d.bottom;g<=B;++g)if(!e||!e.yb(c,g))if(C=this.be(c,g,!1))C.remove(a),C.Cd()&&(C.reset(),1E3>Y.length&&Y.push(C),this.cells[c][g]=null);if(e)for(c=e.left,l=e.right;c<=l;++c)for(g=e.top,B=e.bottom;g<=B;++g)d&&d.yb(c,g)||this.be(c,g,!0).ql(a)};c.prototype.Aj=function(a,d,e,c,l){var g,B;a=this.Db(a);d=this.Eb(d);e=this.Db(e);for(g=this.Eb(c);a<=e;++a)for(c=d;c<=g;++c)(B=this.be(a,c,!1))&&B.dump(l)};c.prototype.Yt=function(a){var d,
e,c,l,g;d=a.left;c=a.top;e=a.right;for(l=a.bottom;d<=e;++d)for(a=c;a<=l;++a)if(g=this.be(d,a,!1))g.Wf=!1};Za=c;var Z=[];d.prototype.Cd=function(){return this.Xa.Cd()};d.prototype.ql=function(a){this.Xa.add(a)};d.prototype.remove=function(a){this.Xa.remove(a)};d.prototype.dump=function(a){Aa(a,this.Xa.Ee())};ca=d;var Y=[];h.prototype.Cd=function(){if(!this.Xa.length)return!0;if(this.Xa.length>this.md.count())return!1;this.Tk();return!0};h.prototype.ql=function(a){this.md.contains(a)?(this.md.remove(a),
this.md.Cd()&&(this.Cg=!1)):this.Xa.length?(this.Xa[this.Xa.length-1].jd()>a.jd()&&(this.Wf=!1),this.Xa.push(a)):(this.Xa.push(a),this.Wf=!0)};h.prototype.remove=function(a){this.md.add(a);this.Cg=!0;30<=this.md.count()&&this.Tk()};h.prototype.Tk=function(){this.Cg&&(this.md.count()===this.Xa.length?this.reset():(Ra(this.Xa,this.md),this.md.clear(),this.Cg=!1))};h.prototype.js=function(){this.Wf||(this.Xa.sort(g),this.Wf=!0)};h.prototype.reset=function(){S(this.Xa);this.Wf=!0;this.md.clear();this.Cg=
!1};h.prototype.dump=function(a){this.Tk();this.js();this.Xa.length&&a.push(this.Xa)};ea=h;var ba="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");$a=function(a){return 0>=a||11<=a?"source-over":ba[a-1]};ab=function(a,d,e){if(e)switch(a.sb=e.ONE,a.ob=e.ONE_MINUS_SRC_ALPHA,d){case 1:a.sb=e.ONE;a.ob=e.ONE;break;case 3:a.sb=e.ONE;a.ob=e.ZERO;break;case 4:a.sb=e.ONE_MINUS_DST_ALPHA;a.ob=e.ONE;break;case 5:a.sb=e.DST_ALPHA;
a.ob=e.ZERO;break;case 6:a.sb=e.ZERO;a.ob=e.SRC_ALPHA;break;case 7:a.sb=e.ONE_MINUS_DST_ALPHA;a.ob=e.ZERO;break;case 8:a.sb=e.ZERO;a.ob=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.sb=e.DST_ALPHA;a.ob=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.sb=e.ONE_MINUS_DST_ALPHA,a.ob=e.SRC_ALPHA}};bb=function(a){return Math.round(1E6*a)/1E6};cb=function(a,d){return"string"!==typeof a||"string"!==typeof d||a.length!==d.length?!1:a===d?!0:a.toLowerCase()===d.toLowerCase()};db=function(a){a=a.target;return!a||a===document||
a===window||document&&document.body&&a===document.body||cb(a.tagName,"canvas")?!0:!1}})();var Vb="undefined"!==typeof Float32Array?Float32Array:Array;function Wb(f){var p=new Vb(3);f&&(p[0]=f[0],p[1]=f[1],p[2]=f[2]);return p}function Xb(f){var p=new Vb(16);f&&(p[0]=f[0],p[1]=f[1],p[2]=f[2],p[3]=f[3],p[4]=f[4],p[5]=f[5],p[6]=f[6],p[7]=f[7],p[8]=f[8],p[9]=f[9],p[10]=f[10],p[11]=f[11],p[12]=f[12],p[13]=f[13],p[14]=f[14],p[15]=f[15]);return p}
function Yb(f,p){p[0]=f[0];p[1]=f[1];p[2]=f[2];p[3]=f[3];p[4]=f[4];p[5]=f[5];p[6]=f[6];p[7]=f[7];p[8]=f[8];p[9]=f[9];p[10]=f[10];p[11]=f[11];p[12]=f[12];p[13]=f[13];p[14]=f[14];p[15]=f[15]}function Zb(f,p){var m=p[0],n=p[1];p=p[2];f[0]*=m;f[1]*=m;f[2]*=m;f[3]*=m;f[4]*=n;f[5]*=n;f[6]*=n;f[7]*=n;f[8]*=p;f[9]*=p;f[10]*=p;f[11]*=p}
function $b(f,p,m,n){n||(n=Xb());var v,t,b,a,c,q,d,e,h=f[0],g=f[1];f=f[2];t=m[0];b=m[1];v=m[2];m=p[1];q=p[2];h===p[0]&&g===m&&f===q?(f=n,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(m=h-p[0],q=g-p[1],d=f-p[2],e=1/Math.sqrt(m*m+q*q+d*d),m*=e,q*=e,d*=e,p=b*d-v*q,v=v*m-t*d,t=t*q-b*m,(e=Math.sqrt(p*p+v*v+t*t))?(e=1/e,p*=e,v*=e,t*=e):t=v=p=0,b=q*t-d*v,a=d*p-m*t,c=m*v-q*p,(e=Math.sqrt(b*b+a*a+c*c))?(e=1/e,b*=e,a*=e,c*=e):c=a=b=0,
n[0]=p,n[1]=b,n[2]=m,n[3]=0,n[4]=v,n[5]=a,n[6]=q,n[7]=0,n[8]=t,n[9]=c,n[10]=d,n[11]=0,n[12]=-(p*h+v*g+t*f),n[13]=-(b*h+a*g+c*f),n[14]=-(m*h+q*g+d*f),n[15]=1)}
(function(){function f(a,c,b){this.ge=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.fa=!!b;this.Ni=this.ah=!1;this.Ik=0;this.jk=1;this.Pm=1E3;this.nv=(this.Pm-this.jk)/32768;this.vk=Wb([0,0,100]);this.Bo=Wb([0,0,0]);this.$p=Wb([0,1,0]);this.Wh=Wb([1,1,1]);this.En=!0;this.hj=Xb();this.mc=Xb();this.Dl=Xb();this.Hk=Xb();this.u=a;this.$n()}function p(a,c,b){this.u=a;this.Jh=c;this.name=b;this.yc=a.getAttribLocation(c,"aPos");this.qe=a.getAttribLocation(c,
"aTex");this.zo=a.getUniformLocation(c,"matP");this.dj=a.getUniformLocation(c,"matMV");this.eg=a.getUniformLocation(c,"opacity");this.Jl=a.getUniformLocation(c,"colorFill");this.Ao=a.getUniformLocation(c,"samplerFront");this.ph=a.getUniformLocation(c,"samplerBack");this.lf=a.getUniformLocation(c,"destStart");this.kf=a.getUniformLocation(c,"destEnd");this.rh=a.getUniformLocation(c,"seconds");this.Ll=a.getUniformLocation(c,"pixelWidth");this.Kl=a.getUniformLocation(c,"pixelHeight");this.oh=a.getUniformLocation(c,
"layerScale");this.nh=a.getUniformLocation(c,"layerAngle");this.sh=a.getUniformLocation(c,"viewOrigin");this.qh=a.getUniformLocation(c,"scrollPos");this.Ft=!!(this.Ll||this.Kl||this.rh||this.ph||this.lf||this.kf||this.oh||this.nh||this.sh||this.qh);this.Jo=this.Ko=-999;this.gj=1;this.Fo=this.Eo=0;this.Ho=this.Do=this.Co=1;this.No=this.Mo=this.Lo=this.Po=this.Oo=this.Go=0;this.Cl=[];this.Io=Xb();this.eg&&a.uniform1f(this.eg,1);this.Jl&&a.uniform4f(this.Jl,1,1,1,1);this.Ao&&a.uniform1i(this.Ao,0);this.ph&&
a.uniform1i(this.ph,1);this.lf&&a.uniform2f(this.lf,0,0);this.kf&&a.uniform2f(this.kf,1,1);this.oh&&a.uniform1f(this.oh,1);this.nh&&a.uniform1f(this.nh,0);this.sh&&a.uniform2f(this.sh,0,0);this.qh&&a.uniform2f(this.qh,0,0);this.rh&&a.uniform1f(this.rh,0);this.Xe=!1}function m(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===
c[15]}function n(a,c){this.type=a;this.n=c;this.u=c.u;this.wc=this.tb=this.ip=0;this.O=this.Ec=null;this.Hp=[]}var v=Xb();f.prototype.$n=function(){var a=this.u,c;this.uo=1;this.ef=this.me=null;this.mi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.fa?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.vo=a.ONE;this.so=a.ONE_MINUS_SRC_ALPHA;
this.fk=new Float32Array(8E3*(this.fa?3:2));this.Uj=new Float32Array(16E3);this.$l=new Float32Array(32E3);this.Zl=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Zl);a.bufferData(a.ARRAY_BUFFER,this.$l.byteLength,a.DYNAMIC_DRAW);this.Vh=Array(4);this.Oh=Array(4);for(c=0;4>c;c++)this.Vh[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Vh[c]),a.bufferData(a.ARRAY_BUFFER,this.fk.byteLength,a.DYNAMIC_DRAW),this.Oh[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Oh[c]),a.bufferData(a.ARRAY_BUFFER,
this.Uj.byteLength,a.DYNAMIC_DRAW);this.ud=0;this.It=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.It);for(var b=new Uint16Array(12E3),d=c=0;12E3>c;)b[c++]=d,b[c++]=d+1,b[c++]=d+2,b[c++]=d,b[c++]=d+2,b[c++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.kg=this.tg=this.Nd=0;this.Ba=[];c=this.fa?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";b=this.Hg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},c,"<default>");this.Ba.push(b);b=this.Hg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ba.push(b);b=this.Hg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},c,"<earlyz>");this.Ba.push(b);b=this.Hg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
c,"<fill>");this.Ba.push(b);for(var e in ac)ac.hasOwnProperty(e)&&this.Ba.push(this.Hg(ac[e],c,e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.td=[];this.ed=0;this.qb=this.eb=!1;this.An=this.hh=-1;this.Jf=null;this.Sk=a.createFramebuffer();this.qi=this.Cj=null;this.ln=!1;this.fa&&(this.qi=a.createRenderbuffer());this.De=Wb([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.au=a[0];this.Nl=a[1];2048<this.Nl&&(this.Nl=2048);this.Pb(0)};p.prototype.Jm=function(a){m(this.Io,
a)||(Yb(a,this.Io),this.u.uniformMatrix4fv(this.dj,!1,a))};f.prototype.Hg=function(a,c,b){var d=this.u,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))return d.deleteShader(e),null;var h=d.createShader(d.VERTEX_SHADER);d.shaderSource(h,c);d.compileShader(h);if(!d.getShaderParameter(h,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(h),null;c=d.createProgram();d.attachShader(c,e);d.attachShader(c,h);d.linkProgram(c);
if(!d.getProgramParameter(c,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(h),d.deleteProgram(c),null;d.useProgram(c);d.deleteShader(e);d.deleteShader(h);b=new p(d,c,b);b.Qk=a.Qk||0;b.Rk=a.Rk||0;b.zn=!!a.zn;b.Qc=!!a.Qc;b.jn=!!a.jn;b.P=a.P||[];a=0;for(e=b.P.length;a<e;a++)b.P[a][1]=d.getUniformLocation(c,b.P[a][0]),b.Cl.push(0),d.uniform1f(b.P[a][1],0);return b};f.prototype.dl=function(a){var c,b;c=0;for(b=this.Ba.length;c<b;c++)if(this.Ba[c].name===a)return c;return-1};f.prototype.pp=function(a,
c,b){var d=this.mc,e=this.hj,h=[0,0,0,0,0,0,0,0];h[0]=d[0]*a+d[4]*c+d[12];h[1]=d[1]*a+d[5]*c+d[13];h[2]=d[2]*a+d[6]*c+d[14];h[3]=d[3]*a+d[7]*c+d[15];h[4]=e[0]*h[0]+e[4]*h[1]+e[8]*h[2]+e[12]*h[3];h[5]=e[1]*h[0]+e[5]*h[1]+e[9]*h[2]+e[13]*h[3];h[6]=e[2]*h[0]+e[6]*h[1]+e[10]*h[2]+e[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],b[0]=(.5*h[4]+.5)*this.width,b[1]=(.5*h[5]+.5)*this.height)};f.prototype.wf=function(a,c,b){if(this.width!==a||this.height!==c||b){this.yd();b=this.u;
this.width=a;this.height=c;b.viewport(0,0,a,c);$b(this.vk,this.Bo,this.$p,this.mc);if(this.fa){var d=-a/2;a=a/2;var e=c/2;c=-c/2;var h=this.jk,g=this.Pm,f=this.hj;f||(f=Xb());var k=a-d,w=c-e,l=g-h;f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/w;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=-2/l;f[11]=0;f[12]=-(d+a)/k;f[13]=-(c+e)/w;f[14]=-(g+h)/l;f[15]=1;this.Wh[0]=1;this.Wh[1]=1}else c=a/c,d=this.jk,a=this.Pm,f=this.hj,g=d*Math.tan(45*Math.PI/360),c*=g,e=-c,h=-g,f||(f=Xb()),k=c-e,w=g-h,l=a-d,f[0]=2*d/k,f[1]=0,
f[2]=0,f[3]=0,f[4]=0,f[5]=2*d/w,f[6]=0,f[7]=0,f[8]=(c+e)/k,f[9]=(g+h)/w,f[10]=-(a+d)/l,f[11]=-1,f[12]=0,f[13]=0,f[14]=-(a*d*2)/l,f[15]=0,d=[0,0],a=[0,0],this.pp(0,0,d),this.pp(1,1,a),this.Wh[0]=1/(a[0]-d[0]),this.Wh[1]=-1/(a[1]-d[1]);d=0;for(a=this.Ba.length;d<a;d++)e=this.Ba[d],e.Xe=!1,e.zo&&(b.useProgram(e.Jh),b.uniformMatrix4fv(e.zo,!1,this.hj));b.useProgram(this.Ba[this.hh].Jh);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);
this.ef=this.me=null;this.qi&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Sk),b.bindRenderbuffer(b.RENDERBUFFER,this.qi),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,this.width,this.height),this.ln||(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,this.qi),this.ln=!0),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),this.Cj=null)}};f.prototype.Bc=function(){$b(this.vk,this.Bo,this.$p,this.mc);Zb(this.mc,this.Wh)};f.prototype.translate=function(a,
c){if(0!==a||0!==c){this.De[0]=a;this.De[1]=c;this.De[2]=0;var b=this.mc,d=this.De,e=d[0],h=d[1],d=d[2];b[12]=b[0]*e+b[4]*h+b[8]*d+b[12];b[13]=b[1]*e+b[5]*h+b[9]*d+b[13];b[14]=b[2]*e+b[6]*h+b[10]*d+b[14];b[15]=b[3]*e+b[7]*h+b[11]*d+b[15]}};f.prototype.scale=function(a,c){if(1!==a||1!==c)this.De[0]=a,this.De[1]=c,this.De[2]=1,Zb(this.mc,this.De)};f.prototype.Ej=function(a){if(0!==a){var c=this.mc,b,d=Math.sin(a);a=Math.cos(a);var e=c[0],h=c[1],g=c[2],f=c[3],k=c[4],w=c[5],l=c[6],u=c[7];b?c!==b&&(b[8]=
c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15]):b=c;b[0]=e*a+k*d;b[1]=h*a+w*d;b[2]=g*a+l*d;b[3]=f*a+u*d;b[4]=e*-d+k*a;b[5]=h*-d+w*a;b[6]=g*-d+l*a;b[7]=f*-d+u*a}};f.prototype.pc=function(){if(!m(this.Dl,this.mc)){var a=this.Lb();a.type=5;a.O?Yb(this.mc,a.O):a.O=Xb(this.mc);Yb(this.mc,this.Dl);this.qb=this.eb=!1}};f.prototype.Hj=function(a){this.fa&&(32760<a&&(a=32760),this.Ik=this.vk[2]-this.jk-a*this.nv)};n.prototype.Rr=function(){var a=this.u,c=this.n;0!==
this.tb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,c.Sk),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),c.Ni=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),c.Ni=!1)};n.prototype.Vr=function(){this.u.bindTexture(this.u.TEXTURE_2D,this.Ec)};n.prototype.Wr=function(){var a=this.u;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ec);
a.activeTexture(a.TEXTURE0)};n.prototype.Sr=function(){var a=this.ip,c=this.n;c.mi=a;c=c.Jf;c.eg&&c.gj!==a&&(c.gj=a,this.u.uniform1f(c.eg,a))};n.prototype.Mr=function(){this.u.drawElements(this.u.TRIANGLES,this.wc,this.u.UNSIGNED_SHORT,this.tb)};n.prototype.Or=function(){this.u.blendFunc(this.tb,this.wc)};n.prototype.Xr=function(){var a,c,b,d=this.n.Ba,e=this.n.An;a=0;for(c=d.length;a<c;a++)b=d[a],a===e&&b.dj?(b.Jm(this.O),b.Xe=!0):b.Xe=!1;Yb(this.O,this.n.Hk)};n.prototype.Nr=function(){var a=this.u,
c=this.n;this.Ec?(c.ef===this.Ec&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),c.ef=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,c.Sk),c.Ni||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ec,0)):(c.fa||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};n.prototype.Jr=function(){var a=this.u,c=this.tb;0===c?(a.clearColor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clear(a.COLOR_BUFFER_BIT)):
1===c?(a.enable(a.SCISSOR_TEST),a.scissor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};n.prototype.Qr=function(){var a=this.u;0!==this.tb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};n.prototype.Lr=function(){var a=this.u,c=this.n;c.fa&&a.disable(a.DEPTH_TEST);var b=c.Ba[1];a.useProgram(b.Jh);!b.Xe&&b.dj&&(b.Jm(c.Hk),b.Xe=!0);a.enableVertexAttribArray(b.yc);a.bindBuffer(a.ARRAY_BUFFER,c.Zl);a.vertexAttribPointer(b.yc,
4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.tb/4,this.wc);b=c.Jf;a.useProgram(b.Jh);0<=b.yc&&(a.enableVertexAttribArray(b.yc),a.bindBuffer(a.ARRAY_BUFFER,c.Vh[c.ud]),a.vertexAttribPointer(b.yc,c.fa?3:2,a.FLOAT,!1,0,0));0<=b.qe&&(a.enableVertexAttribArray(b.qe),a.bindBuffer(a.ARRAY_BUFFER,c.Oh[c.ud]),a.vertexAttribPointer(b.qe,2,a.FLOAT,!1,0,0));c.fa&&a.enable(a.DEPTH_TEST)};n.prototype.Tr=function(){var a=this.u,c=this.n,b=c.Ba[this.tb];c.An=this.tb;c.Jf=b;a.useProgram(b.Jh);!b.Xe&&b.dj&&(b.Jm(c.Hk),
b.Xe=!0);b.eg&&b.gj!==c.mi&&(b.gj=c.mi,a.uniform1f(b.eg,c.mi));0<=b.yc&&(a.enableVertexAttribArray(b.yc),a.bindBuffer(a.ARRAY_BUFFER,c.Vh[c.ud]),a.vertexAttribPointer(b.yc,c.fa?3:2,a.FLOAT,!1,0,0));0<=b.qe&&(a.enableVertexAttribArray(b.qe),a.bindBuffer(a.ARRAY_BUFFER,c.Oh[c.ud]),a.vertexAttribPointer(b.qe,2,a.FLOAT,!1,0,0))};n.prototype.Pr=function(){var a=this.O;this.u.uniform4f(this.n.Jf.Jl,a[0],a[1],a[2],a[3])};n.prototype.Ur=function(){var a,c,b=this.n.Jf,d=this.u;a=this.O;b.ph&&this.n.ef!==this.Ec&&
(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Ec),this.n.ef=this.Ec,d.activeTexture(d.TEXTURE0));var e=a[0];b.Ll&&e!==b.Ko&&(b.Ko=e,d.uniform1f(b.Ll,e));e=a[1];b.Kl&&e!==b.Jo&&(b.Jo=e,d.uniform1f(b.Kl,e));e=a[2];c=a[3];!b.lf||e===b.Eo&&c===b.Fo||(b.Eo=e,b.Fo=c,d.uniform2f(b.lf,e,c));e=a[4];c=a[5];!b.kf||e===b.Co&&c===b.Do||(b.Co=e,b.Do=c,d.uniform2f(b.kf,e,c));e=a[6];b.oh&&e!==b.Ho&&(b.Ho=e,d.uniform1f(b.oh,e));e=a[7];b.nh&&e!==b.Go&&(b.Go=e,d.uniform1f(b.nh,e));e=a[8];c=a[9];!b.sh||
e===b.Oo&&c===b.Po||(b.Oo=e,b.Po=c,d.uniform2f(b.sh,e,c));e=a[10];c=a[11];!b.qh||e===b.Lo&&c===b.Mo||(b.Lo=e,b.Mo=c,d.uniform2f(b.qh,e,c));e=a[12];b.rh&&e!==b.No&&(b.No=e,d.uniform1f(b.rh,e));if(b.P.length)for(a=0,c=b.P.length;a<c;a++)e=this.Hp[a],e!==b.Cl[a]&&(b.Cl[a]=e,d.uniform1f(b.P[a][1],e))};f.prototype.Lb=function(){this.ed===this.td.length&&this.td.push(new n(0,this));return this.td[this.ed++]};f.prototype.yd=function(){if(0!==this.ed&&!this.u.isContextLost()){var a=this.u;0<this.kg&&(a.bindBuffer(a.ARRAY_BUFFER,
this.Zl),a.bufferSubData(a.ARRAY_BUFFER,0,this.$l.subarray(0,this.kg)),c&&0<=c.yc&&"<point>"===c.name&&a.vertexAttribPointer(c.yc,4,a.FLOAT,!1,0,0));if(0<this.Nd){var c=this.Jf;a.bindBuffer(a.ARRAY_BUFFER,this.Vh[this.ud]);a.bufferSubData(a.ARRAY_BUFFER,0,this.fk.subarray(0,this.Nd));c&&0<=c.yc&&"<point>"!==c.name&&a.vertexAttribPointer(c.yc,this.fa?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Oh[this.ud]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Uj.subarray(0,this.tg));c&&0<=c.qe&&"<point>"!==
c.name&&a.vertexAttribPointer(c.qe,2,a.FLOAT,!1,0,0)}for(var b,a=0,c=this.ed;a<c;a++)switch(b=this.td[a],b.type){case 1:b.Mr();break;case 2:b.Vr();break;case 3:b.Sr();break;case 4:b.Or();break;case 5:b.Xr();break;case 6:b.Nr();break;case 7:b.Jr();break;case 8:b.Lr();break;case 9:b.Tr();break;case 10:b.Ur();break;case 11:b.Wr();break;case 12:b.Pr();break;case 13:b.Qr();break;case 14:b.Rr()}this.kg=this.tg=this.Nd=this.ed=0;this.Ni=this.qb=this.eb=!1;this.ud++;4<=this.ud&&(this.ud=0)}};f.prototype.ze=
function(a){if(a!==this.uo&&!this.ah){var c=this.Lb();c.type=3;this.uo=c.ip=a;this.qb=this.eb=!1}};f.prototype.Ob=function(a){if(a!==this.me){var c=this.Lb();c.type=2;this.me=c.Ec=a;this.qb=this.eb=!1}};f.prototype.ye=function(a,c){if((a!==this.vo||c!==this.so)&&!this.ah){var b=this.Lb();b.type=4;b.tb=a;b.wc=c;this.vo=a;this.so=c;this.qb=this.eb=!1}};f.prototype.zp=function(){this.ye(this.u.ONE,this.u.ONE_MINUS_SRC_ALPHA)};f.prototype.lg=function(a,c,b,d,e,h,g,f){15992<=this.Nd&&this.yd();var k=this.Nd,
w=this.tg,l=this.fk,u=this.Uj,p=this.Ik;if(this.eb)this.td[this.ed-1].wc+=6;else{var z=this.Lb();z.type=1;z.tb=this.fa?k:k/2*3;z.wc=6;this.eb=!0;this.qb=!1}this.fa?(l[k++]=a,l[k++]=c,l[k++]=p,l[k++]=b,l[k++]=d,l[k++]=p,l[k++]=e,l[k++]=h,l[k++]=p,l[k++]=g,l[k++]=f,l[k++]=p):(l[k++]=a,l[k++]=c,l[k++]=b,l[k++]=d,l[k++]=e,l[k++]=h,l[k++]=g,l[k++]=f);u[w++]=0;u[w++]=0;u[w++]=1;u[w++]=0;u[w++]=1;u[w++]=1;u[w++]=0;u[w++]=1;this.Nd=k;this.tg=w};f.prototype.nd=function(a,c,b,d,e,h,g,f,k){15992<=this.Nd&&this.yd();
var w=this.Nd,l=this.tg,u=this.fk,p=this.Uj,z=this.Ik;if(this.eb)this.td[this.ed-1].wc+=6;else{var x=this.Lb();x.type=1;x.tb=this.fa?w:w/2*3;x.wc=6;this.eb=!0;this.qb=!1}var x=k.left,A=k.top,v=k.right;k=k.bottom;this.fa?(u[w++]=a,u[w++]=c,u[w++]=z,u[w++]=b,u[w++]=d,u[w++]=z,u[w++]=e,u[w++]=h,u[w++]=z,u[w++]=g,u[w++]=f,u[w++]=z):(u[w++]=a,u[w++]=c,u[w++]=b,u[w++]=d,u[w++]=e,u[w++]=h,u[w++]=g,u[w++]=f);p[l++]=x;p[l++]=A;p[l++]=v;p[l++]=A;p[l++]=v;p[l++]=k;p[l++]=x;p[l++]=k;this.Nd=w;this.tg=l};f.prototype.ru=
function(a,c,b,d){7996<=this.kg&&this.yd();var e=this.kg,h=this.$l;if(this.qb)this.td[this.ed-1].wc++;else{var g=this.Lb();g.type=8;g.tb=e;g.wc=1;this.qb=!0;this.eb=!1}h[e++]=a;h[e++]=c;h[e++]=b;h[e++]=d;this.kg=e};f.prototype.Pb=function(a){if(this.hh!==a){if(!this.Ba[a]){if(0===this.hh)return;a=0}var c=this.Lb();c.type=9;this.hh=c.tb=a;this.qb=this.eb=!1}};f.prototype.Ch=function(a){a=this.Ba[a];return!(!a.lf&&!a.kf)};f.prototype.cm=function(a){a=this.Ba[a];return!!(a.lf||a.kf||a.zn)};f.prototype.am=
function(a){return this.Ba[a].Qc};f.prototype.zu=function(a){a=this.Ba[a];return 0!==a.Qk||0!==a.Rk};f.prototype.jt=function(a){return this.Ba[a].Qk};f.prototype.kt=function(a){return this.Ba[a].Rk};f.prototype.lt=function(a,c){return this.Ba[a].P[c][2]};f.prototype.xj=function(a){return this.Ba[a].jn};f.prototype.pg=function(a,c,b,d,e,h,g,f,k,w,l,u,p,z,x){var A=this.Ba[this.hh],v,m;if(A.Ft||x.length){v=this.Lb();v.type=10;v.O?Yb(this.mc,v.O):v.O=Xb();m=v.O;m[0]=c;m[1]=b;m[2]=d;m[3]=e;m[4]=h;m[5]=
g;m[6]=f;m[7]=k;m[8]=w;m[9]=l;m[10]=u;m[11]=p;m[12]=z;A.ph?v.Ec=a:v.Ec=null;if(x.length)for(b=v.Hp,b.length=x.length,a=0,c=x.length;a<c;a++)b[a]=x[a];this.qb=this.eb=!1}};f.prototype.clear=function(a,c,b,d){var e=this.Lb();e.type=7;e.tb=0;e.O||(e.O=Xb());e.O[0]=a;e.O[1]=c;e.O[2]=b;e.O[3]=d;this.qb=this.eb=!1};f.prototype.clearRect=function(a,c,b,d){if(!(0>b||0>d)){var e=this.Lb();e.type=7;e.tb=1;e.O||(e.O=Xb());e.O[0]=a;e.O[1]=c;e.O[2]=b;e.O[3]=d;this.qb=this.eb=!1}};f.prototype.Cp=function(a){if(this.fa&&
(a=!!a,this.ah!==a)){var b=this.Lb();b.type=14;b.tb=a?1:0;this.qb=this.eb=!1;this.ah=a;this.Cj=null;this.ah?this.Pb(2):this.Pb(0)}};f.prototype.Bp=function(a){if(this.fa){var b=this.Lb();b.type=13;b.tb=a?1:0;this.qb=this.eb=!1}};f.prototype.Nn=function(){Yb(this.Dl,v);this.Bc();this.pc();var a=this.width/2,b=this.height/2;this.lg(-a,b,a,b,a,-b,-a,-b);Yb(v,this.mc);this.pc()};f.prototype.Ap=function(a,b,f){this.Pb(3);var d=this.Lb();d.type=12;d.O||(d.O=Xb());d.O[0]=a;d.O[1]=b;d.O[2]=f;d.O[3]=1;this.qb=
this.eb=!1};f.prototype.Tu=function(){this.Pb(0)};f.prototype.Iu=function(){this.Pb(2)};f.prototype.yu=function(){this.yd();this.u.flush()};var t=[],b={};f.prototype.Ar=function(){S(t);b={}};f.prototype.dg=function(a,c,f,d){c=!!c;f=!!f;var e=a.src+","+c+","+f+(c?",undefined":""),h=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(e))return h=b[e],h.fi++,h;this.yd();var g=this.u,r=ia(a.width)&&ia(a.height),h=g.createTexture();g.bindTexture(g.TEXTURE_2D,h);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var k=g.RGBA,w=g.RGBA,l=g.UNSIGNED_BYTE;if(d&&!this.ge)switch(d){case 1:w=k=g.RGB;break;case 2:l=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:w=k=g.RGB,l=g.UNSIGNED_SHORT_5_6_5}if(!r&&c){d=document.createElement("canvas");d.width=ja(a.width);d.height=ja(a.height);var u=d.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?u.imageSmoothingEnabled=f:(u.webkitImageSmoothingEnabled=f,u.mozImageSmoothingEnabled=f,u.msImageSmoothingEnabled=f);u.drawImage(a,
0,0,a.width,a.height,0,0,d.width,d.height);g.texImage2D(g.TEXTURE_2D,0,k,w,l,d)}else g.texImage2D(g.TEXTURE_2D,0,k,w,l,a);c?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));f?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),r&&this.En?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),
g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.me=null;h.Ke=a.width;h.Je=a.height;h.fi=1;h.rn=e;t.push(h);return b[e]=h};f.prototype.gc=function(a,b,f,d){this.yd();var e=this.u;this.ge&&(d=!1);var h=e.createTexture();e.bindTexture(e.TEXTURE_2D,h);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,
d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,f?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,f?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.me=null;h.Ke=a;h.Je=b;t.push(h);return h};f.prototype.lv=function(a,b,f){this.yd();var d=this.u;this.ge&&(f=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,f?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.me=null};f.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.fi&&1<a.fi?a.fi--:(this.yd(),a===this.me&&(this.u.bindTexture(this.u.TEXTURE_2D,null),this.me=null),a===this.ef&&(this.u.activeTexture(this.u.TEXTURE1),this.u.bindTexture(this.u.TEXTURE_2D,null),this.u.activeTexture(this.u.TEXTURE0),
this.ef=null),Ca(t,a),"undefined"!==typeof a.rn&&delete b[a.rn],this.u.deleteTexture(a)))};f.prototype.Cc=function(a){if(a!==this.Cj){var b=this.Lb();b.type=6;this.Cj=b.Ec=a;this.qb=this.eb=!1}};eb=f})();
(function(){function f(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var d=this;this.kc=(this.Oi=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.fe=!!a.dc;this.Lt="undefined"!==typeof window.AppMobi||
this.fe;this.xc=!!window.c2cocoonjs;this.Nc=!!window.c2ejecta;this.xc&&(CocoonJS.App.onSuspended.addEventListener(function(){d.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){d.setSuspended(!1)}));this.Nc&&(document.addEventListener("pagehide",function(){d.setSuspended(!0)}),document.addEventListener("pageshow",function(){d.setSuspended(!1)}),document.addEventListener("resize",function(){d.setSize(window.innerWidth,window.innerHeight)}));this.fb=this.fe||this.xc||this.Nc;this.Pi=
/edge\//i.test(navigator.userAgent);this.ge=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Pi;this.mo=/tizen/i.test(navigator.userAgent);this.jo=/android/i.test(navigator.userAgent)&&!this.mo&&!this.ge&&!this.Pi;this.ro=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ge&&!this.Pi;this.St=/ipad/i.test(navigator.userAgent);this.Ti=this.ro||this.St||this.Nc;this.tl=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ge&&!this.Pi;this.ho=/amazonwebappplatform/i.test(navigator.userAgent);this.Ot=/firefox/i.test(navigator.userAgent);this.ke="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.po=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Rt=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Uf=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Al=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.oo=!!window.cr_windows10;this.no=this.po||this.Rt||this.Al||this.oo;this.Mt=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.ko=this.jo&&!this.tl&&!this.Oi&&!this.Ot&&!this.ho&&!this.fb;this.devicePixelRatio=1;this.ie=this.kc||this.Oi||this.Lt||this.xc||this.jo||this.Ti||this.Uf||this.Al||this.Mt||this.mo||this.Nc;this.ie||
(this.ie=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.zl=!!(this.Ti&&this.kc&&window.webkit);this.jl=null;this.Gt="";this.zl&&(this.jl=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.ke||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.ke=!0);this.canvas=a;this.vn=document.getElementById("c2canvasdiv");
this.n=this.u=null;this.el="(unavailable)";this.fa=!1;this.Pe=0;this.oa=null;this.Vk="";this.xi=!1;this.bp=this.cp=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.fe&&(window.c2runtime=this);this.ke&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.ko&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.H=this.width;this.G=this.height;this.ki=this.width;this.Jg=this.height;this.$f=window.innerWidth;this.Zf=window.innerHeight;this.Vs=!1;this.X=!0;this.eh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.q=[];this.wa=[];this.Gl={};this.Pc=[];this.Pk={};this.zd=[];this.Ag=[];this.ak=[];this.jr=[];this.kr=[];this.Np=null;this.Me=
{};this.wl=this.ee=!1;this.lc=0;this.ul=this.yl=!1;this.Kc=[];this.bh=!1;this.Dd=this.rb=this.aj=this.qm="";this.Nh=this.Kp=!1;this.wi=[];this.Oe=this.Mf=0;this.To=30;this.Ek=this.uh=0;this.Qh=1;this.Wb=new Ua;this.gk=new Ua;this.jj=this.Ci=this.Se=this.qd=this.gf=this.Uk=this.Wi=0;this.Bk=null;this.ri=[];this.Ok=[];this.ti=-1;this.Ml=[[]];this.Fm=this.ej=0;this.zj(null);this.Ng=this.Xo=this.xh=0;this.Qj=[];this.Cm=this.gm=-1;this.Ui=!0;this.cj=0;this.dh=!1;this.Wu=0;this.Fg=null;this.he=this.Vn=
!1;this.$o=new da;this.Sl=new da;this.Tl=new da;this.Gh=[];this.Qb=new Wa([]);this.zm=new Wa([]);this.Gf=[];this.Wg={};this.Vd={};this.Rd={};this.zg={};this.nn={};this.yo=this.$i=this.Ga=this.Na=this.xo=this.Zi=this.V=null;this.xg=this.Bl=!1;this.Wk=[null,null];this.Te=0;this.Gd={};this.Kh=this.oe=null;this.Lp="";this.ij=[];this.Hu()}}function p(a,d){return 128>=d?a[3]:256>=d?a[2]:512>=d?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function n(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function v(a,d,e,b){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=n;c.onerror=b;c.onsuccess=function(c){c=c.target.result;c.onerror=b;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:d}).onsuccess=e}}catch(l){b(l)}}function t(a,d,e){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=n;b.onerror=e;b.onsuccess=function(b){b=b.target.result;b.onerror=e;var c=b.transaction(["saves"]).objectStore("saves").get(a);c.onsuccess=function(){c.result?
d(c.result.data):d(null)}}}catch(c){e(c)}}function b(){y("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var d,e={};for(d in a)!a.hasOwnProperty(d)||a[d]instanceof da||a[d]&&"undefined"!==typeof a[d].uw||"spriteCreatedDestroyCallback"!==d&&(e[d]=a[d]);return e}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.Hu=function(){var a=this;if(this.zl)this.jl?this.jl.startServer({port:0,localhost_only:!0},function(d){a.Gt=d;a.Jn(function(d){a.bg(JSON.parse(d))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.Jn(function(d){a.bg(JSON.parse(d))},function(){alert("Error fetching data.js")});else{var d;this.Uf?d=new ActiveXObject("Microsoft.XMLHTTP"):d=new XMLHttpRequest;var e="data.js";
if(this.po||this.Uf||this.Al||this.oo)e="data.json";d.open("GET",e,!0);var b=!1;if(!this.fb&&"response"in d&&"responseType"in d)try{d.responseType="json",b="json"===d.responseType}catch(c){b=!1}if(!b&&"responseType"in d)try{d.responseType="text"}catch(l){}if("overrideMimeType"in d)try{d.overrideMimeType("application/json; charset=utf-8")}catch(g){}this.Uf?d.onreadystatechange=function(){4===d.readyState&&a.bg(JSON.parse(d.responseText))}:(d.onload=function(){if(b)a.bg(d.response);else if(a.Nc){var e=
d.responseText,e=e.substr(e.indexOf("{"));a.bg(JSON.parse(e))}else a.bg(JSON.parse(d.responseText))},d.onerror=function(a){fa("Error requesting "+e+":");fa(a)});d.send()}};f.prototype.Jt=function(){var a=this,d,e,b,c,l,g,h,f,k;this.cf=(!this.fb||this.Nc||this.kc)&&this.hv&&!this.ko;0===this.Gb&&this.Ti&&(this.cf=!1);this.devicePixelRatio=this.cf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ib();e=!(!this.Vs&&(!this.qk||this.ke||
this.no||this.Uf||this.Oi||this.kc||this.ho));0<this.Gb&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.gs&&(this.xc||this.Nc||!this.fb)&&(d={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.u=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(u){}if(this.u){if(d=this.u.getExtension("WEBGL_debug_renderer_info"))this.el=this.u.getParameter(d.UNMASKED_RENDERER_WEBGL)+" ["+this.u.getParameter(d.UNMASKED_VENDOR_WEBGL)+"]";this.fa&&
(this.el+=" [front-to-back enabled]");this.fb||(this.gb=document.createElement("canvas"),jQuery(this.gb).appendTo(this.canvas.parentNode),this.gb.oncontextmenu=function(){return!1},this.gb.onselectstart=function(){return!1},this.gb.width=Math.round(this.ki*this.devicePixelRatio),this.gb.height=Math.round(this.Jg*this.devicePixelRatio),jQuery(this.gb).css({width:this.ki+"px",height:this.Jg+"px"}),this.op(),this.Yl=this.gb.getContext("2d"));this.n=new eb(this.u,this.ie,this.fa);this.n.wf(this.canvas.width,
this.canvas.height);this.n.En=0!==this.Yr;this.oa=null;this.canvas.addEventListener("webglcontextlost",function(d){d.preventDefault();a.eu();y("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.n.$n();a.n.wf(a.n.width,a.n.height,!0);a.Na=null;a.Ga=null;a.Wk[0]=null;a.Wk[1]=null;a.fu();a.X=!0;y("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(e=this.q.length;d<e;d++)for(l=this.q[d],b=0,
c=l.J.length;b<c;b++)h=l.J[b],h.Ia=this.n.dl(h.id),h.Qc=this.n.am(h.Ia),this.xg=this.xg||this.n.Ch(h.Ia);d=0;for(e=this.Pc.length;d<e;d++){f=this.Pc[d];b=0;for(c=f.J.length;b<c;b++)h=f.J[b],h.Ia=this.n.dl(h.id),h.Qc=this.n.am(h.Ia);f.Zc();b=0;for(c=f.K.length;b<c;b++){k=f.K[b];l=0;for(g=k.J.length;l<g;l++)h=k.J[l],h.Ia=this.n.dl(h.id),h.Qc=this.n.am(h.Ia),this.xg=this.xg||this.n.Ch(h.Ia);k.Zc()}}}else{if(0<this.Gb&&this.fe){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=
function(){return!1};this.oa=AppMobi.canvas.getContext("2d");try{this.oa.samplingMode=this.ga?"smooth":"sharp",this.oa.globalScale=1,this.oa.HTML5CompatibilityMode=!0,this.oa.imageSmoothingEnabled=this.ga}catch(z){}0!==this.width&&0!==this.height&&(this.oa.width=this.width,this.oa.height=this.height)}this.oa||(this.xc?(d={antialias:!!this.ga,alpha:e},this.oa=this.canvas.getContext("2d",d)):(d={alpha:e},this.oa=this.canvas.getContext("2d",d)),this.Gj(this.oa,this.ga));this.Yl=this.gb=null}this.Tp=
function(d){a.Rb(!1,d)};window==window.top||this.fb||this.no||this.Uf||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.xc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(y("Reloading for continuous preview"),this.aj="__c2_continuouspreview",this.Nh=!0),this.qu&&!this.ie&&(jQuery(window).focus(function(){a.setSuspended(!1)}),
jQuery(window).blur(function(){var d=window.parent;d&&d.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.fb||(d=function(a){if(db(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(d){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",
d),document.addEventListener("mousedown",d));0===this.Gb&&this.cf&&1<this.devicePixelRatio&&this.setSize(this.Pa,this.Oa,!0);this.Xp();this.Ct();this.go();this.C={}};f.prototype.setSize=function(a,d,e){var b=0,c=0,l=0,g=0,g=0;if(this.$f!==a||this.Zf!==d||e){this.$f=a;this.Zf=d;var h=this.Gb,f=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.dh)&&!this.kc;if(f||0!==this.Gb||e)f&&0<this.Te&&(h=this.Te),e=this.devicePixelRatio,4<=h?(l=this.Pa/
this.Oa,a/d>l?(l*=d,5===h?(g=l*e/this.Pa,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),l=this.Pa*g/e,g=this.Oa*g/e,b=(a-l)/2,c=(d-g)/2,a=l,d=g):(b=(a-l)/2,a=l)):(g=a/l,5===h?(g=g*e/this.Oa,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),l=this.Pa*g/e,g=this.Oa*g/e,b=(a-l)/2,c=(d-g)/2,a=l):c=(d-g)/2,d=g),f&&!this.ke&&(c=b=0)):this.ke&&this.dh&&0===this.On&&(b=Math.floor((a-this.Pa)/2),c=Math.floor((d-this.Oa)/2),a=this.Pa,d=this.Oa),2>h&&(this.Eg=e),this.ki=Math.round(a),this.Jg=Math.round(d),this.width=
Math.round(a*e),this.height=Math.round(d*e),this.X=!0,this.iq?(this.H=this.width,this.G=this.height,this.ic=!0):this.width<this.Pa&&this.height<this.Oa||1===h?(this.H=this.width,this.G=this.height,this.ic=!0):(this.H=this.Pa,this.G=this.Oa,this.ic=!1,2===h?(l=this.Pa/this.Oa,h=this.$f/this.Zf,h<l?this.H=this.G*h:h>l&&(this.G=this.H/h)):3===h&&(l=this.Pa/this.Oa,h=this.$f/this.Zf,h>l?this.H=this.G*h:h<l&&(this.G=this.H/h))),this.vn&&!this.fb&&(jQuery(this.vn).css({width:Math.round(a)+"px",height:Math.round(d)+
"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(c)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(d)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*e),this.canvas.height=Math.round(d*e),this.Nc?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(c)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px"):this.cf&&!this.fb&&(this.canvas.style.width=Math.round(a)+
"px",this.canvas.style.height=Math.round(d)+"px")),this.gb&&(this.gb.width=Math.round(a*e),this.gb.height=Math.round(d*e),this.gb.style.width=this.ki+"px",this.gb.style.height=this.Jg+"px"),this.n&&this.n.wf(Math.round(a*e),Math.round(d*e)),this.fe&&this.oa&&(this.oa.width=Math.round(a),this.oa.height=Math.round(d)),this.oa&&this.Gj(this.oa,this.ga),this.Xp(),this.ro&&!this.kc&&window.scrollTo(0,0)}};f.prototype.Xp=function(){if(this.mr&&0!==this.Xl){var a="portrait";2===this.Xl&&(a="landscape");
try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(d){console&&console.warn&&console.warn("Failed to lock orientation: ",d)}}};f.prototype.eu=function(){this.n.Ar();this.Bl=!0;var a,d,e;a=0;for(d=this.q.length;a<d;a++)e=this.q[a],e.Ah&&
e.Ah()};f.prototype.fu=function(){this.Bl=!1;var a,d,e;a=0;for(d=this.q.length;a<d;a++)e=this.q[a],e.lj&&e.lj()};f.prototype.op=function(){if(!this.fb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.dh)&&!this.kc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.gb).css(a)}};var q=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||
window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var d;if(a&&!this.eh)for(y("[Construct 2] Suspending"),this.eh=!0,-1!==this.gm&&q&&q(this.gm),-1!==this.Cm&&clearTimeout(this.Cm),a=0,d=this.Qj.length;a<d;a++)this.Qj[a](!0);else if(!a&&this.eh){y("[Construct 2] Resuming");this.eh=!1;this.Wi=Qa();this.gf=Qa();a=this.uh=this.Ci=0;for(d=this.Qj.length;a<d;a++)this.Qj[a](!1);this.Rb(!1)}};f.prototype.Pd=function(a){return this.ij[a]};f.prototype.bg=function(a){a&&a.project||fa("Project model unavailable");
a=a.project;this.name=a[0];this.Mn=a[1];this.Gb=a[12];this.On=a[12];this.Pa=a[10];this.Oa=a[11];this.jp=this.Pa/2;this.kp=this.Oa/2;this.fb&&!this.Nc&&(4<=a[12]||0===a[12])&&(y("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.On=this.Gb=3);this.Mm=a[18];this.pe=a[19];if(0===this.pe){var d=new Image;d.crossOrigin="anonymous";this.Dp(d,"loading-logo.png");this.oe={fj:d}}else if(4===this.pe){d=new Image;d.src="";var e=new Image;
e.src="";var b=new Image;b.src="";var c=new Image;c.src="";var l=new Image;l.src="";var g=new Image;g.src="";var h=new Image;h.src="";var f=new Image;f.src="";var k=new Image;k.src="";var u=new Image;u.src="";var z=new Image;z.src="";var x=new Image;x.src="";this.oe={fj:[d,e,b,c],vu:[l,g,h,f],mv:[k,u,z,x]}}this.xh=a[21];this.ij=bc();this.pd=new W(this);d=0;for(e=a[2].length;d<e;d++)h=a[2][d],b=this.Pd(h[0]),fb(h,b.prototype),f=new b(this),f.Jj=h[1],f.le=h[2],f.Uo=h[9],f.W&&f.W(),this.plugins.push(f);
this.ij=bc();d=0;for(e=a[3].length;d<e;d++){h=a[3][d];l=this.Pd(h[1]);f=null;b=0;for(c=this.plugins.length;b<c;b++)if(this.plugins[b]instanceof l){f=this.plugins[b];break}k=new f.Ea(f);k.name=h[0];k.B=h[2];k.rl=h[3].slice(0);k.jv=h[3].length;k.nr=h[4];k.Ws=h[5];k.M=h[11];k.B?(k.nf=[],k.Ad=this.Ng++,k.qa=null):(k.nf=null,k.Ad=-1,k.qa=[]);k.vi=null;k.Of=null;k.Fn=null;k.Ab=!1;k.Tb=null;h[6]?(k.Vj=h[6][0],k.Wj=h[6][1],k.Ph=h[6][2]):(k.Vj=null,k.Wj=0,k.Ph=0);h[7]?k.Sb=h[7]:k.Sb=null;k.index=d;k.d=[];
k.ni=[];k.Kd=[new gb(k)];k.gd=0;k.vc=null;k.Fr=0;k.sg=!0;k.ck=hb;k.ct=ib;k.it=jb;k.R=kb;k.Eh=lb;k.yj=mb;k.uf=nb;k.Di=ob;k.Xk=pb;k.Zk=qb;k.uc=rb;k.$k=sb;k.ii=new Xa(this.Pa,this.Oa);k.Xh=!0;k.Yh=!1;k.C={};k.toString=tb;k.wa=[];b=0;for(c=h[8].length;b<c;b++){u=h[8][b];z=this.Pd(u[1]);x=null;l=0;for(g=this.wa.length;l<g;l++)if(this.wa[l]instanceof z){x=this.wa[l];break}x||(x=new z(this),x.Rl=[],x.Ql=new da,x.W&&x.W(),this.wa.push(x),cc&&x instanceof cc&&(this.Np=x));-1===x.Rl.indexOf(k)&&x.Rl.push(k);
l=new x.Ea(x,k);l.name=u[0];l.M=u[2];l.W();k.wa.push(l)}k.global=h[9];k.xl=h[10];k.J=[];b=0;for(c=h[12].length;b<c;b++)k.J.push({id:h[12][b][0],name:h[12][b][1],Ia:-1,Qc:!1,Ta:!0,index:b});k.Ow=h[13];this.Mm&&!k.B&&!k.xl&&f.le||k.W();k.name&&(this.types[k.name]=k);this.q.push(k);f.Jj&&(b=new f.na(k),b.uid=this.xh++,b.rp=this.Xo++,b.Ye=0,b.Ug=ub,b.toString=vb,b.D=h[14],b.W(),k.d.push(b),this.Gd[b.uid.toString()]=b)}d=0;for(e=a[4].length;d<e;d++)for(l=a[4][d],g=this.q[l[0]],b=1,c=l.length;b<c;b++)h=
this.q[l[b]],h.qa.push(g),g.nf.push(h);d=0;for(e=a[28].length;d<e;d++){l=a[28][d];g=[];b=0;for(c=l.length;b<c;b++)g.push(this.q[l[b]]);b=0;for(c=g.length;b<c;b++)g[b].Ab=!0,g[b].Tb=g}if(0<this.Ng)for(d=0,e=this.q.length;d<e;d++)if(h=this.q[d],!h.B&&h.qa.length){h.vi=Array(this.Ng);h.Of=Array(this.Ng);h.Fn=Array(this.Ng);k=[];b=x=z=u=0;for(c=h.qa.length;b<c;b++)for(f=h.qa[b],h.vi[f.Ad]=u,u+=f.jv,h.Of[f.Ad]=z,z+=f.nr,h.Fn[f.Ad]=x,x+=f.Ws,l=0,g=f.J.length;l<g;l++)k.push(ua({},f.J[l]));h.J=k.concat(h.J);
b=0;for(c=h.J.length;b<c;b++)h.J[b].index=b}d=0;for(e=a[5].length;d<e;d++)h=a[5][d],b=new wb(this,h),this.Gl[b.name]=b,this.Pc.push(b);d=0;for(e=a[6].length;d<e;d++)h=a[6][d],b=new xb(this,h),this.Pk[b.name]=b,this.zd.push(b);d=0;for(e=this.zd.length;d<e;d++)this.zd[d].Ca();d=0;for(e=this.zd.length;d<e;d++)this.zd[d].Im();d=0;for(e=this.ak.length;d<e;d++)this.ak[d].Ca();S(this.ak);this.lr=a[7];this.oc=a[9];this.Eg=1;this.gs=a[13];this.ga=a[14];this.qk=a[15];this.hv=a[17];this.Xl=a[20];this.mr=0<this.Xl;
this.qu=a[22];this.ic=this.iq=a[23];this.Yr=a[24];this.wu=a[25];this.fa=a[27]&&!this.ge;this.Nj=Date.now();S(this.ij);this.Jt()};var d=!1;f.prototype.Nm=function(a,e){a.cocoonLazyLoad=!0;a.onerror=function(e){d=a.qn=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",e)};this.Nc?a.src=e:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(d){a.src=d},function(b){d=a.qn=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",
b)}):(a.crossOrigin="anonymous",this.Dp(a,e)));this.Ag.push(a)};f.prototype.Us=function(a){var d,e;d=0;for(e=this.Ag.length;d<e;d++)if(this.Ag[d].Cr===a)return this.Ag[d];return null};var e=0,h=!1;f.prototype.Ct=function(){this.Fg&&(e=this.Fg.Lw(this.lr))};f.prototype.kn=function(){var a=e,d=0,b=0,c=!0,l,g,b=0;for(l=this.Ag.length;b<l;b++){g=this.Ag[b];var k=g.Fk;if(!k||0>=k)k=5E4;a+=k;g.src&&(g.complete||g.loaded)&&!g.qn?d+=k:c=!1}c&&this.wu&&this.Fg&&(h||(this.Fg.Mw(),h=!0),b=this.Fg.yw(),d+=b,
b<e&&(c=!1));this.Rc=0==a?1:d/a;return c};var g=!1;f.prototype.go=function(){if(this.oa||this.n){var a=this.oa||this.Yl;this.gb&&this.op();var e=window.innerWidth,b=window.innerHeight;this.$f===e&&this.Zf===b||this.setSize(e,b);this.Rc=0;this.wo=-1;var l=this;if(this.kn()&&(4!==this.pe||g))this.Dt();else{b=Date.now()-this.Nj;if(a){var h=this.width,k=this.height,e=this.devicePixelRatio;if(3>this.pe&&(this.xc||500<=b&&this.wo!=this.Rc)){a.clearRect(0,0,h,k);var b=h/2,k=k/2,h=0===this.pe&&this.oe.fj.complete,
f=40*e,u=0,z=80*e,x;if(h){var r=this.oe.fj,z=r.width*e;x=r.height*e;f=z/2;u=x/2;a.drawImage(r,K(b-f),K(k-u),z,x)}1>=this.pe?(b=K(b-f)+.5,k=K(k+(u+(h?12*e:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(b,k,Math.floor(z*this.Rc),6*e),a.strokeStyle="black",a.strokeRect(b,k,z,6*e),a.strokeStyle="white",a.strokeRect(b-1*e,k-1*e,z+2*e,8*e)):2===this.pe&&(a.font=this.Nc?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.Nw="middle",e=Math.round(100*this.Rc)+"%",h=a.measureText?a.measureText(e):
null,a.fillText(e,b-(h?h.width:0)/2,k));this.wo=this.Rc}else if(4===this.pe){this.ds(a);c?c(function(){l.go()}):setTimeout(function(){l.go()},16);return}}setTimeout(function(){l.go()},this.xc?10:100)}}};var r=-1,k="undefined"===typeof cr_is_preview?200:0,w=!0,l=!1,u=0,aa=0,z="undefined"===typeof cr_is_preview?3E3:0,x=null,A=null,Z=0;f.prototype.ds=function(a){if(!g){for(var e=Math.ceil(this.width),b=Math.ceil(this.height),c=this.oe.fj,h=this.oe.vu,f=this.oe.mv,q=0;4>q;++q)if(!c[q].complete||!h[q].complete||
!f[q].complete)return;0===Z&&(r=Date.now());var q=Date.now(),v=!1,m=a,n,t;w||l?(a.clearRect(0,0,e,b),x&&x.width===e&&x.height===b||(x=document.createElement("canvas"),x.width=e,x.height=b,A=x.getContext("2d")),m=A,v=!0,w&&1===Z&&(r=Date.now())):a.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,e,b);256<this.Jg?(n=Da(.22*b,105,.6*e),t=.25*n,m.drawImage(p(h,n),.5*e-n/2,.2*b-t/2,n,t),t=n=Math.min(.395*b,.95*e),m.drawImage(p(c,n),.5*e-n/2,.485*b-t/2,n,t),n=Da(.22*b,105,.6*e),t=.25*n,m.drawImage(p(f,
n),.5*e-n/2,.868*b-t/2,n,t),m.fillStyle="#3C3C3C",n=e,t=Math.max(.005*b,2),m.fillRect(0,.8*b-t/2,n,t),m.fillStyle=d?"red":"#E0FF65",n=e*this.Rc,m.fillRect(.5*e-n/2,.8*b-t/2,n,t)):(t=n=.55*b,m.drawImage(p(c,n),.5*e-n/2,.45*b-t/2,n,t),m.fillStyle="#3C3C3C",n=e,t=Math.max(.005*b,2),m.fillRect(0,.85*b-t/2,n,t),m.fillStyle=d?"red":"#E0FF65",n=e*this.Rc,m.fillRect(.5*e-n/2,.85*b-t/2,n,t));v&&(w?a.globalAlpha=0===Z?0:Math.min((q-r)/300,1):l&&(a.globalAlpha=Math.max(1-(q-aa)/300,0)),a.drawImage(x,0,0,e,b));
w&&300<=q-r&&2<=Z&&(w=!1,u=q);!w&&q-u>=z&&!l&&1<=this.Rc&&(l=!0,aa=q);if(l&&q-aa>=300+k||"undefined"!==typeof cr_is_preview&&1<=this.Rc&&500>Date.now()-r)g=!0,l=w=!1,this.oe=A=x=null;++Z}};f.prototype.Dt=function(){this.gb&&(this.canvas.parentNode.removeChild(this.gb),this.gb=this.Yl=null);this.Nj=Date.now();this.gf=Qa();var a,d,e;if(this.Mm)for(a=0,d=this.q.length;a<d;a++)e=this.q[a],e.B||e.xl||!e.ja.le||e.W();else this.Ui=!1;a=0;for(d=this.Pc.length;a<d;a++)this.Pc[a].Dr();2<=this.Gb&&(a=this.Pa/
this.Oa,d=this.width/this.height,this.Eg=2!==this.Gb&&d>a||2===this.Gb&&d<a?this.height/this.Oa:this.width/this.Pa);this.Mn?this.Gl[this.Mn].xm():this.Pc[0].xm();this.Mm||(this.cj=1,this.trigger(W.prototype.k.Rm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(d=this.q.length;a<d;a++)e=this.q[a],e.du&&e.du();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.Rb(!1);this.fe&&AppMobi.webview.execute("onGameReady();")};f.prototype.Rb=function(a,d,e){if(this.V){var b=Qa();if(e||!this.eh||a){a||(c?this.gm=c(this.Tp):this.Cm=setTimeout(this.Tp,this.ie?1:16));d=d||b;var l=this.Gb;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.kc)||this.dh)&&0<this.Te&&(l=this.Te);if(0<l){var l=window.innerWidth,g=window.innerHeight;this.$f===l&&this.Zf===g||this.setSize(l,g)}this.fb||(e?(this.xi||(this.Vk=
jQuery(this.canvas).css("margin")||"0",this.xi=!0),this.tl||this.ke||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.xi?(this.tl||this.ke||jQuery(this.canvas).css("margin",this.Vk),this.Vk="",this.xi=!1,0===this.Gb&&this.setSize(Math.round(this.cp/this.devicePixelRatio),Math.round(this.bp/this.devicePixelRatio),!0)):(this.cp=this.width,this.bp=this.height));
this.Ui&&(e=this.kn(),this.cj=this.Rc,e&&(this.Ui=!1,this.Rc=1,this.trigger(W.prototype.k.Rm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Vt(d);!this.X&&!this.xc||this.Bl||this.Nh||a||(this.X=!1,this.n?this.pb():this.hc(),this.Kh&&(this.canvas&&this.canvas.toDataURL&&(this.Lp=this.canvas.toDataURL(this.Kh[0],this.Kh[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Lp),this.trigger(W.prototype.k.Fq,null)),this.Kh=null));this.zw||(this.qd++,this.Se++,this.Ci++);this.uh+=Qa()-b}}};f.prototype.Vt=
function(a){var d,e,b,c,l,g,h,k;1E3<=a-this.gf&&(this.gf+=1E3,1E3<=a-this.gf&&(this.gf=a),this.Uk=this.Ci,this.Ci=0,this.Ek=this.uh,this.uh=0);d=0;0!==this.Wi&&(d=a-this.Wi,0>d&&(d=0),this.Oe=d/=1E3,.5<this.Oe?this.Oe=0:this.Oe>1/this.To&&(this.Oe=1/this.To));this.Wi=a;this.Mf=this.Oe*this.Qh;this.Wb.add(this.Mf);this.gk.add(d);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.dh)&&!this.kc;2<=this.Gb||a&&0<this.Te?(d=this.Pa/this.Oa,
e=this.width/this.height,b=this.Gb,a&&0<this.Te&&(b=this.Te),this.Eg=2!==b&&e>d||2===b&&e<d?this.height/this.Oa:this.width/this.Pa,this.V&&(this.V.xp(this.V.scrollX),this.V.yp(this.V.scrollY))):this.Eg=this.cf?this.devicePixelRatio:1;this.ib();this.lc++;this.pd.Lu();this.lc--;this.ib();this.lc++;e=this.$o.Ee();a=0;for(d=e.length;a<d;a++)e[a].Hw();a=0;for(d=this.q.length;a<d;a++)if(g=this.q[a],!g.B&&(g.wa.length||g.qa.length))for(e=0,b=g.d.length;e<b;e++)for(h=g.d[e],c=0,l=h.N.length;c<l;c++)h.N[c].Rb();
a=0;for(d=this.q.length;a<d;a++)if(g=this.q[a],!g.B&&(g.wa.length||g.qa.length))for(e=0,b=g.d.length;e<b;e++)for(h=g.d[e],c=0,l=h.N.length;c<l;c++)k=h.N[c],k.uu&&k.uu();e=this.Sl.Ee();a=0;for(d=e.length;a<d;a++)e[a].Rb();this.lc--;this.Et();for(a=0;this.Bk&&10>a++;)this.Cn(this.Bk);a=0;for(d=this.zd.length;a<d;a++)this.zd[a].il=!1;this.V.Qe&&this.V.Qe.Ha();S(this.Gh);this.lc++;a=0;for(d=this.q.length;a<d;a++)if(g=this.q[a],!g.B&&(g.wa.length||g.qa.length))for(e=0,b=g.d.length;e<b;e++)for(h=g.d[e],
c=0,l=h.N.length;c<l;c++)k=h.N[c],k.Yj&&k.Yj();e=this.Tl.Ee();a=0;for(d=e.length;a<d;a++)e[a].Yj();this.lc--};f.prototype.Cn=function(a){var d=this.V;this.V.Xu();var e,b,c;if(this.n)for(e=0,b=this.q.length;e<b;e++)c=this.q[e],c.B||!c.bk||c.global&&0!==c.d.length||-1!==a.Zg.indexOf(c)||c.bk();d==a&&S(this.pd.cc);S(this.Gh);this.up(!0);a.xm();this.up(!1);this.X=!0;this.ib()};f.prototype.up=function(a){var d,e,b,c,l,g,h,k,f;d=0;for(e=this.wa.length;d<e;d++)b=this.wa[d],a?b.ig&&b.ig():b.zh&&b.zh();d=
0;for(e=this.q.length;d<e;d++)if(b=this.q[d],b.global||b.ja.Jj)for(c=0,l=b.d.length;c<l;c++)if(g=b.d[c],a?g.ig&&g.ig():g.zh&&g.zh(),g.N)for(h=0,k=g.N.length;h<k;h++)f=g.N[h],a?f.ig&&f.ig():f.zh&&f.zh()};f.prototype.Bm=function(a){this.Sl.add(a)};f.prototype.$u=function(a){this.Tl.add(a)};f.prototype.Ue=function(a){return a&&-1!==a.wh?this.Oe*a.wh:this.Mf};f.prototype.hc=function(){this.V.hc(this.oa);this.fe&&this.oa.present()};f.prototype.pb=function(){this.fa&&(this.Pe=1,this.V.Ne(this.n));this.V.pb(this.n);
this.n.yu()};f.prototype.dn=function(a){a&&this.ri.push(a)};f.prototype.Gu=function(a){Ca(this.ri,a)};f.prototype.bl=function(a){a=a.toString();return this.Gd.hasOwnProperty(a)?this.Gd[a]:null};var Y=[];f.prototype.Fe=function(a){var d,e;d=a.type.name;var b=null;if(this.Me.hasOwnProperty(d)){if(b=this.Me[d],b.contains(a))return}else b=Y.length?Y.pop():new da,this.Me[d]=b;b.add(a);this.ee=!0;if(a.Ab)for(d=0,e=a.siblings.length;d<e;d++)this.Fe(a.siblings[d]);this.wl&&b.yg.push(a);this.ul||(this.lc++,
this.trigger(Object.getPrototypeOf(a.type.ja).k.Hq,a),this.lc--)};f.prototype.ib=function(){if(this.ee){var a,d,e,b,c,l;this.wl=!0;e=0;for(c=this.Kc.length;e<c;++e)for(a=this.Kc[e],d=a.type,d.d.push(a),b=0,l=d.qa.length;b<l;++b)d.qa[b].d.push(a),d.qa[b].sg=!0;S(this.Kc);this.Aq();Pa(this.Me);this.ee=this.wl=!1}};f.prototype.Aq=function(){for(var a in this.Me)this.Me.hasOwnProperty(a)&&this.nq(this.Me[a])};f.prototype.nq=function(a){var d=a.Ee(),e=d[0].type,b,c,l,g,h,k;Ra(e.d,a);e.sg=!0;0===e.d.length&&
(e.Yh=!1);b=0;for(c=e.qa.length;b<c;++b)k=e.qa[b],Ra(k.d,a),k.sg=!0;b=0;for(c=this.pd.cc.length;b<c;++b)if(h=this.pd.cc[b],h.ac.hasOwnProperty(e.index)&&Ra(h.ac[e.index].$e,a),!e.B)for(l=0,g=e.qa.length;l<g;++l)k=e.qa[l],h.ac.hasOwnProperty(k.index)&&Ra(h.ac[k.index].$e,a);if(h=d[0].j){if(h.qc)for(l=h.d,b=0,c=l.length;b<c;++b)g=l[b],a.contains(g)&&(g.ba(),h.hb.update(g,g.Nb,null),g.Nb.set(0,0,-1,-1));Ra(h.d,a);h.Hh(0)}for(b=0;b<d.length;++b)this.mq(d[b],e);a.clear();Y.push(a);this.X=!0};f.prototype.mq=
function(a,d){var e,b,c;e=0;for(b=this.ri.length;e<b;++e)this.ri[e](a);a.Wd&&d.ii.update(a,a.Wd,null);(e=a.j)&&e.ng(a,!0);if(a.N)for(e=0,b=a.N.length;e<b;++e)c=a.N[e],c.te&&c.te(),c.behavior.Ql.remove(a);this.$o.remove(a);this.Sl.remove(a);this.Tl.remove(a);a.te&&a.te();this.Gd.hasOwnProperty(a.uid.toString())&&delete this.Gd[a.uid.toString()];this.jj--;100>d.ni.length&&d.ni.push(a)};f.prototype.Gk=function(a,d,e,b){if(a.B){var c=K(Math.random()*a.nf.length);return this.Gk(a.nf[c],d,e,b)}return a.vc?
this.Yd(a.vc,d,!1,e,b,!1):null};var ba=[];f.prototype.Yd=function(a,d,e,b,c,l){var g,h,k,f;if(!a)return null;var u=this.q[a[1]],z=u.ja.le;if(this.Ui&&z&&!u.xl||z&&!this.n&&11===a[0][11])return null;var x=d;z||(d=null);var r;u.ni.length?(r=u.ni.pop(),r.Mb=!0,u.ja.na.call(r,u)):(r=new u.ja.na(u),r.Mb=!1);!e||l||this.Gd.hasOwnProperty(a[2].toString())?r.uid=this.xh++:r.uid=a[2];this.Gd[r.uid.toString()]=r;r.rp=this.Xo++;r.Ye=u.d.length;g=0;for(h=this.Kc.length;g<h;++g)this.Kc[g].type===u&&r.Ye++;r.Ug=
ub;r.toString=vb;k=a[3];if(r.Mb)Pa(r.C);else{r.C={};if("undefined"!==typeof cr_is_preview)for(r.co=[],r.co.length=k.length,g=0,h=k.length;g<h;g++)r.co[g]=k[g][1];r.Ma=[];r.Ma.length=k.length}g=0;for(h=k.length;g<h;g++)r.Ma[g]=k[g][0];if(z){var A=a[0];r.x=ga(b)?A[0]:b;r.y=ga(c)?A[1]:c;r.z=A[2];r.width=A[3];r.height=A[4];r.depth=A[5];r.i=A[6];r.opacity=A[7];r.Ib=A[8];r.Jb=A[9];r.jb=A[10];g=A[11];!this.n&&u.J.length&&(r.jb=g);r.Gg=$a(r.jb);this.u&&ab(r,r.jb,this.u);if(r.Mb){g=0;for(h=A[12].length;g<
h;g++)for(k=0,f=A[12][g].length;k<f;k++)r.ya[g][k]=A[12][g][k];r.ea.set(0,0,0,0);r.Wd.set(0,0,-1,-1);r.Nb.set(0,0,-1,-1);r.Ya.Ae(r.ea);S(r.tk)}else{r.ya=A[12].slice(0);g=0;for(h=r.ya.length;g<h;g++)r.ya[g]=A[12][g].slice(0);r.U=[];r.Qd=[];r.Qd.length=u.J.length;r.ea=new P(0,0,0,0);r.Wd=new P(0,0,-1,-1);r.Nb=new P(0,0,-1,-1);r.Ya=new ta;r.tk=[];r.Q=yb;r.ir=zb;r.yb=Ab;r.ba=Bb;r.dq=Cb;r.Lm=Db;r.jd=Eb}r.vg=!1;r.dv=0;r.cv=0;r.bv=null;14===A.length&&(r.vg=!0,r.dv=A[13][0],r.cv=A[13][1],r.bv=A[13][2]);g=
0;for(h=u.J.length;g<h;g++)r.Qd[g]=!0;r.Id=!0;r.Zc=Fb;r.Zc();r.gq=!!r.U.length;r.ei=!0;r.wk=!0;u.Xh=!0;r.visible=!0;r.wh=-1;r.j=d;r.$c=d.d.length;r.Pe=0;"undefined"===typeof r.T&&(r.T=null);this.X=r.fd=!0}var q;S(ba);g=0;for(h=u.qa.length;g<h;g++)ba.push.apply(ba,u.qa[g].wa);ba.push.apply(ba,u.wa);if(r.Mb)for(g=0,h=ba.length;g<h;g++){var w=ba[g];q=r.N[g];q.Mb=!0;w.behavior.na.call(q,w,r);A=a[4][g];k=0;for(f=A.length;k<f;k++)q.D[k]=A[k];q.W();w.behavior.Ql.add(r)}else for(r.N=[],g=0,h=ba.length;g<
h;g++)w=ba[g],q=new w.behavior.na(w,r),q.Mb=!1,q.D=a[4][g].slice(0),q.W(),r.N.push(q),w.behavior.Ql.add(r);A=a[5];if(r.Mb)for(g=0,h=A.length;g<h;g++)r.D[g]=A[g];else r.D=A.slice(0);this.Kc.push(r);this.ee=!0;d&&(d.Dg(r,!0),1!==d.zc||1!==d.Ac)&&(u.Yh=!0);this.jj++;if(u.Ab){if(r.Ab=!0,r.Mb?S(r.siblings):r.siblings=[],!e&&!l){g=0;for(h=u.Tb.length;g<h;g++)if(u.Tb[g]!==u){if(!u.Tb[g].vc)return null;r.siblings.push(this.Yd(u.Tb[g].vc,x,!1,z?r.x:b,z?r.y:c,!0))}g=0;for(h=r.siblings.length;g<h;g++)for(r.siblings[g].siblings.push(r),
k=0;k<h;k++)g!==k&&r.siblings[g].siblings.push(r.siblings[k])}}else r.Ab=!1,r.siblings=null;r.W();g=0;for(h=r.N.length;g<h;g++)r.N[g].tu&&r.N[g].tu();return r};f.prototype.al=function(a){var d,e;d=0;for(e=this.V.K.length;d<e;d++){var b=this.V.K[d];if(cb(b.name,a))return b}return null};f.prototype.Sg=function(a){a=K(a);0>a&&(a=0);a>=this.V.K.length&&(a=this.V.K.length-1);return this.V.K[a]};f.prototype.Ck=function(a){var d,e;d=0;for(e=a.length;d<e;d++)a[d].R().Y=!0};f.prototype.Eh=function(a){var d,
e;d=0;for(e=a.length;d<e;d++)a[d].Eh()};f.prototype.yj=function(a){var d,e;d=0;for(e=a.length;d<e;d++)a[d].yj()};f.prototype.uf=function(a){var d,e;d=0;for(e=a.length;d<e;d++)a[d].uf()};f.prototype.bq=function(a){if(a.Xh){var d,e,b=a.d;d=0;for(e=b.length;d<e;++d)b[d].Lm();b=this.Kc;d=0;for(e=b.length;d<e;++d)b[d].type===a&&b[d].Lm();a.Xh=!1}};f.prototype.Ei=function(a,d,e,b){var c,g,l=a?1!==a.zc||1!==a.Ac:!1;if(d.B)for(a=0,c=d.nf.length;a<c;++a)g=d.nf[a],l||g.Yh?Aa(b,g.d):(this.bq(g),g.ii.Aj(e,b));
else l||d.Yh?Aa(b,d.d):(this.bq(d),d.ii.Aj(e,b))};f.prototype.Hi=function(a,d,e,b){var c,g;c=0;for(g=d.length;c<g;++c)this.Ei(a,d[c],e,b)};f.prototype.Un=function(a,d,e){var b=this.Np;b&&this.Hi(a,b.Rl,d,e)};f.prototype.Tj=function(a,d,e){var b=a.R(),c,g,l,h,k=this.La().Fb.nc,f,u,r;if(b.Y)for(b.Y=!1,S(b.d),c=0,h=a.d.length;c<h;c++)l=a.d[c],l.ba(),f=l.j.xb(d,e,!0),u=l.j.xb(d,e,!1),l.yb(f,u)?b.d.push(l):k&&b.L.push(l);else{g=0;r=k?b.L:b.d;c=0;for(h=r.length;c<h;c++)l=r[c],l.ba(),f=l.j.xb(d,e,!0),u=
l.j.xb(d,e,!1),l.yb(f,u)&&(k?b.d.push(l):(b.d[g]=b.d[c],g++));r.length=g}a.uc();return b.hl()};f.prototype.Ce=function(a,d){if(!(a&&d&&a!==d&&a.fd&&d.fd))return!1;a.ba();d.ba();var e=a.j,b=d.j,c,g,l,h,k,f,u,r;if(e===b||e.zc===b.zc&&b.Ac===b.Ac&&e.scale===b.scale&&e.i===b.i&&e.ad===b.ad){if(!a.ea.eo(d.ea)||!a.Ya.sl(d.Ya)||a.vg&&d.vg)return!1;if(a.vg)return this.Qp(a,d);if(d.vg)return this.Qp(d,a);u=a.T&&!a.T.df();c=d.T&&!d.T.df();if(!u&&!c)return!0;u?(a.T.Le(a.width,a.height,a.i),u=a.T):(this.Qb.xf(a.Ya,
a.x,a.y,a.width,a.height),u=this.Qb);c?(d.T.Le(d.width,d.height,d.i),r=d.T):(this.Qb.xf(d.Ya,d.x,d.y,d.width,d.height),r=this.Qb);return u.bf(r,d.x-a.x,d.y-a.y)}u=a.T&&!a.T.df();c=d.T&&!d.T.df();u?(a.T.Le(a.width,a.height,a.i),this.Qb.Fp(a.T)):this.Qb.xf(a.Ya,a.x,a.y,a.width,a.height);u=this.Qb;c?(d.T.Le(d.width,d.height,d.i),this.zm.Fp(d.T)):this.zm.xf(d.Ya,d.x,d.y,d.width,d.height);r=this.zm;c=0;for(g=u.Sc;c<g;c++)l=2*c,h=l+1,k=u.Qa[l],f=u.Qa[h],u.Qa[l]=e.ta(k+a.x,f+a.y,!0),u.Qa[h]=e.ta(k+a.x,f+
a.y,!1);u.ba();c=0;for(g=r.Sc;c<g;c++)l=2*c,h=l+1,k=r.Qa[l],f=r.Qa[h],r.Qa[l]=b.ta(k+d.x,f+d.y,!0),r.Qa[h]=b.ta(k+d.x,f+d.y,!1);r.ba();return u.bf(r,0,0)};var na=new ta;new P(0,0,0,0);var O=[];f.prototype.Qp=function(a,d){var e,b,c,g,l=d.ea,h=a.x,k=a.y;a.$s(l,O);var f=d.T&&!d.T.df();e=0;for(b=O.length;e<b;++e)if(c=O[e],g=c.Eu,l.fo(g,h,k)&&(na.Ae(g),na.offset(h,k),na.sl(d.Ya)))if(f)if(d.T.Le(d.width,d.height,d.i),c.Bh){if(c.Bh.bf(d.T,d.x-(h+g.left),d.y-(k+g.top)))return S(O),!0}else{if(this.Qb.xf(na,
0,0,g.right-g.left,g.bottom-g.top),this.Qb.bf(d.T,d.x,d.y))return S(O),!0}else if(c.Bh){if(this.Qb.xf(d.Ya,0,0,d.width,d.height),c.Bh.bf(this.Qb,-(h+g.left),-(k+g.top)))return S(O),!0}else return S(O),!0;S(O);return!1};f.prototype.Am=function(a,d){if(!d||!d.fd)return!1;d.ba();if(!d.ea.eo(a))return!1;if(d.vg){d.$s(a,O);var e,b,c,g,l=d.x,h=d.y;e=0;for(b=O.length;e<b;++e)if(c=O[e],g=c.Eu,a.fo(g,l,h))if(c.Bh){if(this.Qb.Ae(a,0,0),c.Bh.bf(this.Qb,-(l+g.left),-(h+g.top)))return S(O),!0}else return S(O),
!0;S(O);return!1}na.Ae(a);if(!d.Ya.sl(na))return!1;if(!d.T||d.T.df())return!0;d.T.Le(d.width,d.height,d.i);na.offset(-a.left,-a.top);this.Qb.xf(na,0,0,1,1);return d.T.bf(this.Qb,a.left-d.x,a.top-d.y)};f.prototype.Yp=function(a,d){if(!d)return!1;var e,b,c,g,l;e=0;for(b=a.wa.length;e<b;e++)if(a.wa[e].behavior instanceof d)return!0;if(!a.B)for(e=0,b=a.qa.length;e<b;e++)for(l=a.qa[e],c=0,g=l.wa.length;c<g;c++)if(l.wa[c].behavior instanceof d)return!0;return!1};f.prototype.Gm=function(a){return this.Yp(a,
Ub.Pv)};f.prototype.Hm=function(a){return this.Yp(a,Ub.Qv)};var Q=[];f.prototype.zf=function(a){var d,e,b;a.ba();this.Un(a.j,a.ea,Q);d=0;for(e=Q.length;d<e;++d)if(b=Q[d],b.C.solidEnabled&&this.Ce(a,b))return S(Q),b;S(Q);return null};f.prototype.Zu=function(a){var d,e,b;this.Un(null,a,Q);d=0;for(e=Q.length;d<e;++d)if(b=Q[d],b.C.solidEnabled&&this.Am(a,b))return S(Q),b;S(Q);return null};f.prototype.Cu=function(a,d,e,b){b=b||50;var c=a.x,g=a.y,l,h=null,k=null;for(l=0;l<b;l++)if(a.x=c+d*l,a.y=g+e*l,a.Q(),
!this.Ce(a,h)&&((h=this.zf(a))&&(k=h),!h&&!h))return k&&this.Au(a,d,e,k),!0;a.x=c;a.y=g;a.Q();return!1};f.prototype.Au=function(a,d,e,b){var c=2,g,l=!1;g=!1;for(var h=a.x,k=a.y;16>=c;)g=1/c,c*=2,a.x+=d*g*(l?1:-1),a.y+=e*g*(l?1:-1),a.Q(),this.Ce(a,b)?g=l=!0:(g=l=!1,h=a.x,k=a.y);g&&(a.x=h,a.y=k,a.Q())};f.prototype.Du=function(a){var d=0,e=a.x,b=a.y,c=0,g=0,l=0,h=this.zf(a);if(h){for(;100>=d;){switch(c){case 0:g=0;l=-1;d++;break;case 1:g=1;l=-1;break;case 2:g=1;l=0;break;case 3:l=g=1;break;case 4:g=
0;l=1;break;case 5:g=-1;l=1;break;case 6:g=-1;l=0;break;case 7:l=g=-1}c=(c+1)%8;a.x=K(e+g*d);a.y=K(b+l*d);a.Q();if(!this.Ce(a,h)&&(h=this.zf(a),!h))return}a.x=e;a.y=b;a.Q()}};f.prototype.Fu=function(a,d){a.fd&&d.fd&&this.Gh.push([a,d])};f.prototype.tr=function(a,d){var e,b,c;e=0;for(b=this.Gh.length;e<b;e++)if(c=this.Gh[e],c[0]==a&&c[1]==d||c[0]==d&&c[1]==a)return!0;return!1};f.prototype.rr=function(a,d,e){var b=a.x,c=a.y,g=ma(10,U(d,e,b,c)),l=Ja(d,e,b,c),h=this.zf(a);if(!h)return Ga(l+qa);var k=
h,f,u,r,z,x=T(5);for(f=1;36>f;f++)if(u=l-f*x,a.x=d+Math.cos(u)*g,a.y=e+Math.sin(u)*g,a.Q(),!this.Ce(a,k)&&(k=this.zf(a),!k)){r=u;break}36===f&&(r=Ga(l+qa));k=h;for(f=1;36>f;f++)if(u=l+f*x,a.x=d+Math.cos(u)*g,a.y=e+Math.sin(u)*g,a.Q(),!this.Ce(a,k)&&(k=this.zf(a),!k)){z=u;break}36===f&&(z=Ga(l+qa));a.x=b;a.y=c;a.Q();if(z===r)return z;a=Ka(z,r)/2;a=Ma(z,r)?Ga(r+a+qa):Ga(z+a);r=Math.cos(l);l=Math.sin(l);z=Math.cos(a);a=Math.sin(a);d=r*z+l*a;return Ja(0,0,r-2*d*z,l-2*d*a)};var la=-1;f.prototype.trigger=
function(a,d,e){if(!this.V)return!1;var b=this.V.Qe;if(!b)return!1;var c=!1,g,l,h;la++;var k=b.Lk;l=0;for(h=k.length;l<h;++l)g=this.Vp(a,d,k[l],e),c=c||g;g=this.Vp(a,d,b,e);la--;return c||g};f.prototype.Vp=function(a,d,e,b){var c=!1,g,l,h,k;if(d)for(h=this.Em(a,d,d.type.name,e,b),c=c||h,k=d.type.qa,g=0,l=k.length;g<l;++g)h=this.Em(a,d,k[g].name,e,b),c=c||h;else h=this.Em(a,d,"system",e,b),c=c||h;return c};f.prototype.Em=function(a,d,e,b,c){var g,l=!1,h=!1,h="undefined"!==typeof c,k=(h?b.Hn:b.Wp)[e];
if(!k)return l;var f=null;b=0;for(g=k.length;b<g;++b)if(k[b].method==a){f=k[b].Mg;break}if(!f)return l;var u;h?u=f[c]:u=f;if(!u)return null;b=0;for(g=u.length;b<g;b++)a=u[b][0],c=u[b][1],h=this.Rs(d,e,a,c),l=l||h;return l};f.prototype.Rs=function(a,d,e,b){var c,g,l=!1;this.Fm++;var h=this.La().Fb;h&&this.Eh(h.Be);var k=1<this.Fm;this.Eh(e.Be);k&&this.Bu();var f=this.zj(e);f.Fb=e;a&&(c=this.types[d].R(),c.Y=!1,S(c.d),c.d[0]=a,this.types[d].uc());a=!0;if(e.parent){d=f.Pp;for(c=e.parent;c;)d.push(c),
c=c.parent;d.reverse();c=0;for(g=d.length;c<g;c++)if(!d[c].Nu()){a=!1;break}}a&&(this.Se++,e.nc?e.Mu(b):e.Ha(),l=l||f.ff);this.uj();k&&this.su();this.uf(e.Be);h&&this.uf(h.Be);this.ee&&0===this.lc&&0===la&&!this.yl&&this.ib();this.Fm--;return l};f.prototype.Fi=function(){var a=this.La();return a.Fb.Ua[a.Ja]};f.prototype.Nt=function(){return 0===this.La().Ja};f.prototype.bt=function(){var a=this.La();return a.Fb.tc[a.ec]};f.prototype.Bu=function(){this.ej++;this.ej>=this.Ml.length&&this.Ml.push([])};
f.prototype.su=function(){this.ej--};f.prototype.Qn=function(){return this.Ml[this.ej]};f.prototype.zj=function(a){this.ti++;this.ti>=this.Ok.length&&this.Ok.push(new Gb);var d=this.La();d.reset(a);return d};f.prototype.uj=function(){this.ti--};f.prototype.La=function(){return this.Ok[this.ti]};f.prototype.Rn=function(a,d){for(var e,b,c,g,l,h;d;){e=0;for(b=d.Dc.length;e<b;e++)if(h=d.Dc[e],h instanceof Hb&&cb(a,h.name))return h;d=d.parent}e=0;for(b=this.zd.length;e<b;e++)for(l=this.zd[e],c=0,g=l.$d.length;c<
g;c++)if(h=l.$d[c],h instanceof Hb&&cb(a,h.name))return h;return null};f.prototype.Sn=function(a){var d,e;d=0;for(e=this.Pc.length;d<e;d++)if(this.Pc[d].M===a)return this.Pc[d];return null};f.prototype.We=function(a){var d,e;d=0;for(e=this.q.length;d<e;d++)if(this.q[d].M===a)return this.q[d];return null};f.prototype.dt=function(a){var d,e;d=0;for(e=this.Gf.length;d<e;d++)if(this.Gf[d].M===a)return this.Gf[d];return null};f.prototype.Gr=function(a,d){this.Kh=[a,d];this.X=!0};f.prototype.Et=function(){var a=
this,d=this.qm,e=this.Dd,c=this.aj,g=!1;this.Kp&&(g=!0,d="__c2_continuouspreview",this.Kp=!1);if(d.length){this.ib();e=this.Ru();if(m()&&!this.xc)v(d,e,function(){y("Saved state to IndexedDB storage ("+e.length+" bytes)");a.Dd=e;a.trigger(W.prototype.k.lk,null);a.Dd="";g&&b()},function(c){try{localStorage.setItem("__c2save_"+d,e),y("Saved state to WebStorage ("+e.length+" bytes)"),a.Dd=e,a.trigger(W.prototype.k.lk,null),a.Dd="",g&&b()}catch(l){y("Failed to save game state: "+c+"; "+l),a.trigger(W.prototype.k.Vm,
null)}});else try{localStorage.setItem("__c2save_"+d,e),y("Saved state to WebStorage ("+e.length+" bytes)"),a.Dd=e,this.trigger(W.prototype.k.lk,null),a.Dd="",g&&b()}catch(l){y("Error saving to WebStorage: "+l),a.trigger(W.prototype.k.Vm,null)}this.rb=this.aj=this.qm=""}if(c.length){if(m()&&!this.xc)t(c,function(d){d?(a.rb=d,y("Loaded state from IndexedDB storage ("+a.rb.length+" bytes)")):(a.rb=localStorage.getItem("__c2save_"+c)||"",y("Loaded state from WebStorage ("+a.rb.length+" bytes)"));a.Nh=
!1;a.rb.length||a.trigger(W.prototype.k.kk,null)},function(){a.rb=localStorage.getItem("__c2save_"+c)||"";y("Loaded state from WebStorage ("+a.rb.length+" bytes)");a.Nh=!1;a.rb.length||a.trigger(W.prototype.k.kk,null)});else{try{this.rb=localStorage.getItem("__c2save_"+c)||"",y("Loaded state from WebStorage ("+this.rb.length+" bytes)")}catch(h){this.rb=""}this.Nh=!1;a.rb.length||a.trigger(W.prototype.k.kk,null)}this.qm=this.aj=""}this.rb.length&&(this.ib(),this.Ut(this.rb),this.Dd=this.rb,this.trigger(W.prototype.k.Pq,
null),this.rb=this.Dd="")};f.prototype.Ru=function(){var d,e,b,c,g,l,h,k={c2save:!0,version:1,rt:{time:this.Wb.ma,walltime:this.gk.ma,timescale:this.Qh,tickcount:this.qd,execcount:this.Se,next_uid:this.xh,running_layout:this.V.M,start_time_offset:Date.now()-this.Nj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(e=this.q.length;d<e;d++)if(g=this.q[d],!g.B&&!this.Gm(g)){l={instances:[]};Oa(g.C)&&(l.ex=a(g.C));b=0;for(c=g.d.length;b<c;b++)l.instances.push(this.pm(g.d[b]));k.types[g.M.toString()]=
l}d=0;for(e=this.Pc.length;d<e;d++)b=this.Pc[d],k.layouts[b.M.toString()]=b.Cb();c=k.events.groups;d=0;for(e=this.Gf.length;d<e;d++)b=this.Gf[d],c[b.M.toString()]=this.Wg[b.Vg].Rf;e=k.events.cnds;for(h in this.Vd)this.Vd.hasOwnProperty(h)&&(d=this.Vd[h],Oa(d.C)&&(e[h]={ex:a(d.C)}));e=k.events.acts;for(h in this.Rd)this.Rd.hasOwnProperty(h)&&(d=this.Rd[h],Oa(d.C)&&(e[h]={ex:a(d.C)}));e=k.events.vars;for(h in this.zg)this.zg.hasOwnProperty(h)&&(d=this.zg[h],d.Qi||d.parent&&!d.fh||(e[h]=d.data));k.system=
this.pd.Cb();return JSON.stringify(k)};f.prototype.tp=function(){var a,d,e,b,c,g;this.Gd={};a=0;for(d=this.q.length;a<d;a++)if(e=this.q[a],!e.B)for(b=0,c=e.d.length;b<c;b++)g=e.d[b],this.Gd[g.uid.toString()]=g};f.prototype.Ut=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.bh=!0;var d=a.rt;this.Wb.reset();this.Wb.ma=d.time;this.gk.reset();this.gk.ma=d.walltime||0;this.Qh=d.timescale;this.qd=d.tickcount;this.Se=d.execcount;this.Nj=Date.now()-d.start_time_offset;var e=d.running_layout;
if(e!==this.V.M)if(e=this.Sn(e))this.Cn(e);else return;var b,c,g,l,h,k,f;k=a.types;for(c in k)if(k.hasOwnProperty(c)&&(l=this.We(parseInt(c,10)))&&!l.B&&!this.Gm(l)){k[c].ex?l.C=k[c].ex:Pa(l.C);h=l.d;g=k[c].instances;e=0;for(b=pa(h.length,g.length);e<b;e++)this.bj(h[e],g[e]);e=g.length;for(b=h.length;e<b;e++)this.Fe(h[e]);e=h.length;for(b=g.length;e<b;e++){h=null;if(l.ja.le&&(h=this.V.Gi(g[e].w.l),!h))continue;h=this.Yd(l.vc,h,!1,0,0,!0);this.bj(h,g[e])}l.sg=!0}this.ib();this.tp();b=a.layouts;for(c in b)b.hasOwnProperty(c)&&
(e=this.Sn(parseInt(c,10)))&&e.Xb(b[c]);b=a.events.groups;for(c in b)b.hasOwnProperty(c)&&(e=this.dt(parseInt(c,10)))&&this.Wg[e.Vg]&&this.Wg[e.Vg].Su(b[c]);e=a.events.cnds;for(c in this.Vd)this.Vd.hasOwnProperty(c)&&(e.hasOwnProperty(c)?this.Vd[c].C=e[c].ex:this.Vd[c].C={});e=a.events.acts;for(c in this.Rd)this.Rd.hasOwnProperty(c)&&(e.hasOwnProperty(c)?this.Rd[c].C=e[c].ex:this.Rd[c].C={});e=a.events.vars;for(c in e)e.hasOwnProperty(c)&&this.zg.hasOwnProperty(c)&&(this.zg[c].data=e[c]);this.xh=
d.next_uid;this.bh=!1;e=0;for(b=this.wi.length;e<b;++e)h=this.wi[e],this.trigger(Object.getPrototypeOf(h.type.ja).k.Ef,h);S(this.wi);this.pd.Xb(a.system);e=0;for(b=this.q.length;e<b;e++)if(l=this.q[e],!l.B&&!this.Gm(l))for(c=0,a=l.d.length;c<a;c++){h=l.d[c];if(l.Ab)for(k=h.Ug(),S(h.siblings),d=0,g=l.Tb.length;d<g;d++)f=l.Tb[d],l!==f&&h.siblings.push(f.d[k]);h.cd&&h.cd();if(h.N)for(d=0,g=h.N.length;d<g;d++)k=h.N[d],k.cd&&k.cd()}this.X=!0}};f.prototype.pm=function(d,e){var b,c,g,l,h;l=d.type;g=l.ja;
var k={};e?k.c2=!0:k.uid=d.uid;Oa(d.C)&&(k.ex=a(d.C));if(d.Ma&&d.Ma.length)for(k.ivs={},b=0,c=d.Ma.length;b<c;b++)k.ivs[d.type.rl[b].toString()]=d.Ma[b];if(g.le){g={x:d.x,y:d.y,w:d.width,h:d.height,l:d.j.M,zi:d.jd()};0!==d.i&&(g.a=d.i);1!==d.opacity&&(g.o=d.opacity);.5!==d.Ib&&(g.hX=d.Ib);.5!==d.Jb&&(g.hY=d.Jb);0!==d.jb&&(g.bm=d.jb);d.visible||(g.v=d.visible);d.fd||(g.ce=d.fd);-1!==d.wh&&(g.mts=d.wh);if(l.J.length)for(g.fx=[],b=0,c=l.J.length;b<c;b++)h=l.J[b],g.fx.push({name:h.name,active:d.Qd[h.index],
params:d.ya[h.index]});k.w=g}if(d.N&&d.N.length)for(k.behs={},b=0,c=d.N.length;b<c;b++)l=d.N[b],l.Cb&&(k.behs[l.type.M.toString()]=l.Cb());d.Cb&&(k.data=d.Cb());return k};f.prototype.gt=function(a,d){var e,b;e=0;for(b=a.rl.length;e<b;e++)if(a.rl[e]===d)return e;return-1};f.prototype.Zs=function(a,d){var e,b;e=0;for(b=a.N.length;e<b;e++)if(a.N[e].type.M===d)return e;return-1};f.prototype.bj=function(a,d,e){var b,c,g,l,h;h=a.type;l=h.ja;if(e){if(!d.c2)return}else a.uid=d.uid;d.ex?a.C=d.ex:Pa(a.C);if(c=
d.ivs)for(b in c)c.hasOwnProperty(b)&&(g=this.gt(h,parseInt(b,10)),0>g||g>=a.Ma.length||(a.Ma[g]=c[b]));if(l.le){g=d.w;a.j.M!==g.l&&(c=a.j,a.j=this.V.Gi(g.l),a.j?(c.ng(a,!0),a.j.Dg(a,!0),a.Q(),a.j.Hh(0)):(a.j=c,e||this.Fe(a)));a.x=g.x;a.y=g.y;a.width=g.w;a.height=g.h;a.$c=g.zi;a.i=g.hasOwnProperty("a")?g.a:0;a.opacity=g.hasOwnProperty("o")?g.o:1;a.Ib=g.hasOwnProperty("hX")?g.hX:.5;a.Jb=g.hasOwnProperty("hY")?g.hY:.5;a.visible=g.hasOwnProperty("v")?g.v:!0;a.fd=g.hasOwnProperty("ce")?g.ce:!0;a.wh=g.hasOwnProperty("mts")?
g.mts:-1;a.jb=g.hasOwnProperty("bm")?g.bm:0;a.Gg=$a(a.jb);this.u&&ab(a,a.jb,this.u);a.Q();if(g.hasOwnProperty("fx"))for(e=0,c=g.fx.length;e<c;e++)l=h.Zk(g.fx[e].name),0>l||(a.Qd[l]=g.fx[e].active,a.ya[l]=g.fx[e].params);a.Zc()}if(h=d.behs)for(b in h)h.hasOwnProperty(b)&&(e=this.Zs(a,parseInt(b,10)),0>e||a.N[e].Xb(h[b]));d.data&&a.Xb(d.data)};f.prototype.In=function(a,d,e){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(d,e)},e)};f.prototype.Jn=function(a,
d){this.In("data.js",function(e){var b=new FileReader;b.onload=function(d){a(d.target.result)};b.onerror=d;b.readAsText(e)},d)};var M=[],J=0;f.prototype.Ol=function(){if(M.length&&!(8<=J)){J++;var a=M.shift();this.Kr(a.filename,a.Yu,a.ks)}};f.prototype.Ss=function(a,d,e){var b=this;M.push({filename:a,Yu:function(a){J--;b.Ol();d(a)},ks:function(a){J--;b.Ol();e(a)}});this.Ol()};f.prototype.Kr=function(a,d,e){this.In(a,function(a){var e=new FileReader;e.onload=function(a){d(a.target.result)};e.readAsArrayBuffer(a)},
e)};f.prototype.Ts=function(a,d,e){this.Ss(a,function(a){a=URL.createObjectURL(new Blob([a]));d(a)},e)};f.prototype.Kt=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.prototype.Dp=function(a,d){this.zl&&!this.Kt(d)?this.Ts(d,function(d){a.src=d},function(a){alert("Failed to load image: "+a)}):a.src=d};f.prototype.Gj=function(a,d){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=d:(a.webkitImageSmoothingEnabled=d,a.mozImageSmoothingEnabled=
d,a.msImageSmoothingEnabled=d)};Ib=function(a){return new f(document.getElementById(a))};Jb=function(a,d){return new f({dc:!0,width:a,height:d})};window.cr_createRuntime=Ib;window.cr_createDCRuntime=Jb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.$h=!0;document.body.appendChild(a);a=new f(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,p){var m=window.cr_getC2Runtime();m&&m.Gr(f,p)};
window.cr_sizeCanvas=function(f,p){if(0!==f&&0!==p){var m=window.cr_getC2Runtime();m&&m.setSize(f,p)}};window.cr_setSuspended=function(f){var p=window.cr_getC2Runtime();p&&p.setSuspended(f)};
(function(){function f(a,e){this.b=a;this.Qe=null;this.scrollX=this.b.Pa/2;this.scrollY=this.b.Oa/2;this.scale=1;this.i=0;this.Pf=!0;this.name=e[0];this.mu=e[1];this.lu=e[2];this.width=e[1];this.height=e[2];this.Zp=e[3];this.Ip=e[4];this.M=e[5];var b=e[6],c,f;this.K=[];this.Zg=[];c=0;for(f=b.length;c<f;c++){var k=new Kb(this,b[c]);k.Yo=c;this.K.push(k)}b=e[7];this.Ze=[];c=0;for(f=b.length;c<f;c++){var k=b[c],q=this.b.q[k[1]];q.vc||(q.vc=k);this.Ze.push(k);-1===this.Zg.indexOf(q)&&this.Zg.push(q)}this.J=
[];this.U=[];this.Id=!0;this.ya=[];c=0;for(f=e[8].length;c<f;c++)this.J.push({id:e[8][c][0],name:e[8][c][1],Ia:-1,Qc:!1,Ta:!0,index:c}),this.ya.push(e[8][c][2].slice(0));this.Zc();this.we=new P(0,0,1,1);this.hm=new P(0,0,1,1);this.ue={}}function p(a,e){return a.$c-e.$c}function m(a,e){this.Wa=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.xd=!1;this.Md=new P(0,0,0,0);this.Up=new ta;this.ca=this.aa=this.da=this.Z=0;this.Bf=!1;this.Od=-1;this.Dk=0;this.name=e[0];this.index=e[1];this.M=e[2];this.visible=
e[3];this.Hc=e[4];this.Yc=e[5];this.zc=e[6];this.Ac=e[7];this.opacity=e[8];this.Bi=e[9];this.qc=e[10];this.ad=e[11];this.jb=e[12];this.es=e[13];this.Gg="source-over";this.ob=this.sb=0;this.hb=null;this.Ed=n();this.Vc=!0;this.ag=new P(0,0,-1,-1);this.$a=new P(0,0,-1,-1);this.qc&&(this.hb=new Za(this.b.Pa,this.b.Oa));this.od=!1;var b=e[14],c,f;this.Op=[];this.jc=[];this.Ig=[];c=0;for(f=b.length;c<f;c++){var k=b[c],q=this.b.q[k[1]];q.vc||(q.vc=k,q.Fr=this.index);this.jc.push(k);-1===this.Wa.Zg.indexOf(q)&&
this.Wa.Zg.push(q)}za(this.Op,this.jc);this.J=[];this.U=[];this.Id=!0;this.ya=[];c=0;for(f=e[15].length;c<f;c++)this.J.push({id:e[15][c][0],name:e[15][c][1],Ia:-1,Qc:!1,Ta:!0,index:c}),this.ya.push(e[15][c][2].slice(0));this.Zc();this.we=new P(0,0,1,1);this.hm=new P(0,0,1,1)}function n(){return a.length?a.pop():[]}function v(d){S(d);a.push(d)}f.prototype.Qu=function(a){var e=a.type.M.toString();this.ue.hasOwnProperty(e)||(this.ue[e]=[]);this.ue[e].push(this.b.pm(a))};f.prototype.Wn=function(){var a=
this.K[0];return!a.Yc&&1===a.opacity&&!a.Bi&&a.visible};f.prototype.Zc=function(){S(this.U);this.Id=!0;var a,e,b;a=0;for(e=this.J.length;a<e;a++)b=this.J[a],b.Ta&&(this.U.push(b),b.Qc||(this.Id=!1))};f.prototype.Yk=function(a){var e,b,c;e=0;for(b=this.J.length;e<b;e++)if(c=this.J[e],c.name===a)return c;return null};var t=[],b=!0;f.prototype.xm=function(){this.Ip&&(this.Qe=this.b.Pk[this.Ip],this.Qe.Im());this.b.V=this;this.width=this.mu;this.height=this.lu;this.scrollX=this.b.Pa/2;this.scrollY=this.b.Oa/
2;var a,e,c,g,f,k,q;a=0;for(c=this.b.q.length;a<c;a++)if(e=this.b.q[a],!e.B)for(f=e.d,e=0,g=f.length;e<g;e++)if(k=f[e],k.j){var l=k.j.Yo;l>=this.K.length&&(l=this.K.length-1);k.j=this.K[l];-1===k.j.d.indexOf(k)&&k.j.d.push(k);k.j.Bf=!0}if(!b)for(a=0,c=this.K.length;a<c;++a)this.K[a].d.sort(p);S(t);this.pr();a=0;for(c=this.K.length;a<c;a++)k=this.K[a],k.Er(),k.dk();f=!1;if(!this.Pf){for(q in this.ue)if(this.ue.hasOwnProperty(q)&&(e=this.b.We(parseInt(q,10)))&&!e.B&&this.b.Hm(e)){g=this.ue[q];a=0;for(c=
g.length;a<c;a++){k=null;if(e.ja.le&&(k=this.Gi(g[a].w.l),!k))continue;k=this.b.Yd(e.vc,k,!1,0,0,!0);this.b.bj(k,g[a]);f=!0;t.push(k)}S(g)}a=0;for(c=this.K.length;a<c;a++)this.K[a].d.sort(p),this.K[a].Bf=!0}f&&(this.b.ib(),this.b.tp());for(a=0;a<t.length;a++)if(k=t[a],k.type.Ab)for(c=k.Ug(),e=0,g=k.type.Tb.length;e<g;e++)q=k.type.Tb[e],k.type!==q&&(q.d.length>c?k.siblings.push(q.d[c]):q.vc&&(f=this.b.Yd(q.vc,k.j,!0,k.x,k.y,!0),this.b.ib(),q.ck(),k.siblings.push(f),t.push(f)));a=0;for(c=this.Ze.length;a<
c;a++)this.b.Yd(this.Ze[a],null,!0);this.b.Bk=null;this.b.ib();if(this.b.oa&&!this.b.fb)for(a=0,c=this.b.q.length;a<c;a++)q=this.b.q[a],!q.B&&q.d.length&&q.wj&&q.wj(this.b.oa);if(this.b.bh)za(this.b.wi,t);else for(a=0,c=t.length;a<c;a++)k=t[a],this.b.trigger(Object.getPrototypeOf(k.type.ja).k.Ef,k);S(t);this.b.bh||this.b.trigger(W.prototype.k.Qm,null);this.Pf=!1};f.prototype.Dr=function(){var a,e,b,c,f;e=a=0;for(b=this.Ze.length;a<b;a++)c=this.Ze[a],f=this.b.q[c[1]],f.global?f.Ab||this.b.Yd(c,null,
!0):(this.Ze[e]=c,e++);ya(this.Ze,e)};f.prototype.Xu=function(){this.b.bh||this.b.trigger(W.prototype.k.Oq,null);this.b.ul=!0;S(this.b.pd.cc);var a,e,c,g,f,k;if(!this.Pf)for(a=0,e=this.K.length;a<e;a++)for(this.K[a].Km(),f=this.K[a].d,c=0,g=f.length;c<g;c++)k=f[c],k.type.global||this.b.Hm(k.type)&&this.Qu(k);a=0;for(e=this.K.length;a<e;a++){f=this.K[a].d;c=0;for(g=f.length;c<g;c++)k=f[c],k.type.global||this.b.Fe(k);this.b.ib();S(f);this.K[a].Bf=!0}a=0;for(e=this.b.q.length;a<e;a++)if(f=this.b.q[a],
!(f.global||f.ja.le||f.ja.Jj||f.B)){c=0;for(g=f.d.length;c<g;c++)this.b.Fe(f.d[c]);this.b.ib()}b=!1;this.b.ul=!1};new P(0,0,0,0);f.prototype.hc=function(a){var e,b=a,c=!1,f=!this.b.ic;f&&(this.b.$i||(this.b.$i=document.createElement("canvas"),e=this.b.$i,e.width=this.b.H,e.height=this.b.G,this.b.yo=e.getContext("2d"),c=!0),e=this.b.$i,b=this.b.yo,e.width!==this.b.H&&(e.width=this.b.H,c=!0),e.height!==this.b.G&&(e.height=this.b.G,c=!0),c&&this.b.Gj(b,this.b.ga));b.globalAlpha=1;b.globalCompositeOperation=
"source-over";this.b.qk&&!this.Wn()&&b.clearRect(0,0,this.b.H,this.b.G);var k,q,c=0;for(k=this.K.length;c<k;c++)q=this.K[c],q.visible&&0<q.opacity&&11!==q.jb&&(q.d.length||!q.Yc)?q.hc(b):q.dk();f&&a.drawImage(e,0,0,this.b.width,this.b.height)};f.prototype.Ne=function(a){a.Cp(!0);this.b.Ga||(this.b.Ga=a.gc(this.b.H,this.b.G,this.b.ga));if(this.b.Ga.Ke!==this.b.H||this.b.Ga.Je!==this.b.G)a.deleteTexture(this.b.Ga),this.b.Ga=a.gc(this.b.H,this.b.G,this.b.ga);a.Cc(this.b.Ga);this.b.ic||a.wf(this.b.H,
this.b.G);var e,b;for(e=this.K.length-1;0<=e;--e)b=this.K[e],b.visible&&1===b.opacity&&b.Id&&0===b.jb&&(b.d.length||!b.Yc)?b.Ne(a):b.dk();a.Cp(!1)};f.prototype.pb=function(a){var e=0<this.U.length||this.b.xg||!this.b.ic||this.b.fa;if(e){this.b.Ga||(this.b.Ga=a.gc(this.b.H,this.b.G,this.b.ga));if(this.b.Ga.Ke!==this.b.H||this.b.Ga.Je!==this.b.G)a.deleteTexture(this.b.Ga),this.b.Ga=a.gc(this.b.H,this.b.G,this.b.ga);a.Cc(this.b.Ga);this.b.ic||a.wf(this.b.H,this.b.G)}else this.b.Ga&&(a.Cc(null),a.deleteTexture(this.b.Ga),
this.b.Ga=null);this.b.qk&&!this.Wn()&&a.clear(0,0,0,0);var b,c,f;b=0;for(c=this.K.length;b<c;b++)f=this.K[b],f.visible&&0<f.opacity&&(f.d.length||!f.Yc)?f.pb(a):f.dk();e&&(0===this.U.length||1===this.U.length&&this.b.ic?(1===this.U.length?(e=this.U[0].index,a.Pb(this.U[0].Ia),a.pg(null,1/this.b.H,1/this.b.G,0,0,1,1,this.scale,this.i,0,0,this.b.H/2,this.b.G/2,this.b.Wb.ma,this.ya[e]),a.xj(this.U[0].Ia)&&(this.b.X=!0)):a.Pb(0),this.b.ic||a.wf(this.b.width,this.b.height),a.Cc(null),a.Bp(!1),a.ze(1),
a.Ob(this.b.Ga),a.zp(),a.Bc(),a.pc(),e=this.b.width/2,b=this.b.height/2,a.lg(-e,b,e,b,e,-b,-e,-b),a.Ob(null),a.Bp(!0)):this.jm(a,null,null,null))};f.prototype.Tg=function(){return 0<this.U.length||this.b.xg||!this.b.ic||this.b.fa?this.b.Ga:null};f.prototype.Tn=function(){var a=this.K[0].Hb(),e,b,c;e=1;for(b=this.K.length;e<b;e++)c=this.K[e],(0!==c.zc||0!==c.Ac)&&c.Hb()<a&&(a=c.Hb());return a};f.prototype.xp=function(a){if(!this.Zp){var e=1/this.Tn()*this.b.H/2;a>this.width-e&&(a=this.width-e);a<e&&
(a=e)}this.scrollX!==a&&(this.scrollX=a,this.b.X=!0)};f.prototype.yp=function(a){if(!this.Zp){var e=1/this.Tn()*this.b.G/2;a>this.height-e&&(a=this.height-e);a<e&&(a=e)}this.scrollY!==a&&(this.scrollY=a,this.b.X=!0)};f.prototype.pr=function(){this.xp(this.scrollX);this.yp(this.scrollY)};f.prototype.jm=function(a,e,b,c){var f=b?b.U:e?e.U:this.U,k=1,q=0,l=0,u=0,p=this.b.H,z=this.b.G;b?(k=b.j.Hb(),q=b.j.Ub(),l=b.j.Z,u=b.j.aa,p=b.j.da,z=b.j.ca):e&&(k=e.Hb(),q=e.Ub(),l=e.Z,u=e.aa,p=e.da,z=e.ca);var x=
this.b.Wk,A,m,v,n,t=0,O=1,Q,la,M=this.b.H,J=this.b.G,B=M/2,C=J/2,G=e?e.we:this.we,D=e?e.hm:this.hm,H=0,R=0,F=0,E=0,N=M,va=M,L=J,wa=J,oa=v=0;n=b?b.j.Ub():0;if(b){A=0;for(m=f.length;A<m;A++)v+=a.jt(f[A].Ia),oa+=a.kt(f[A].Ia);E=b.ea;H=e.ta(E.left,E.top,!0,!0);F=e.ta(E.left,E.top,!1,!0);N=e.ta(E.right,E.bottom,!0,!0);L=e.ta(E.right,E.bottom,!1,!0);0!==n&&(A=e.ta(E.right,E.top,!0,!0),m=e.ta(E.right,E.top,!1,!0),R=e.ta(E.left,E.bottom,!0,!0),E=e.ta(E.left,E.bottom,!1,!0),n=Math.min(H,N,A,R),N=Math.max(H,
N,A,R),H=n,n=Math.min(F,L,m,E),L=Math.max(F,L,m,E),F=n);H-=v;F-=oa;N+=v;L+=oa;D.left=H/M;D.top=1-F/J;D.right=N/M;D.bottom=1-L/J;R=H=K(H);E=F=K(F);va=N=ra(N);wa=L=ra(L);R-=v;E-=oa;va+=v;wa+=oa;0>H&&(H=0);0>F&&(F=0);N>M&&(N=M);L>J&&(L=J);0>R&&(R=0);0>E&&(E=0);va>M&&(va=M);wa>J&&(wa=J);G.left=H/M;G.top=1-F/J;G.right=N/M;G.bottom=1-L/J}else G.left=D.left=0,G.top=D.top=0,G.right=D.right=1,G.bottom=D.bottom=1;oa=b&&(a.Ch(f[0].Ia)||0!==v||0!==oa||1!==b.opacity||b.type.ja.Uo)||e&&!b&&1!==e.opacity;a.zp();
if(oa){x[t]||(x[t]=a.gc(M,J,this.b.ga));if(x[t].Ke!==M||x[t].Je!==J)a.deleteTexture(x[t]),x[t]=a.gc(M,J,this.b.ga);a.Pb(0);a.Cc(x[t]);la=wa-E;a.clearRect(R,J-E-la,va-R,la);b?b.pb(a):(a.Ob(this.b.Na),a.ze(e.opacity),a.Bc(),a.translate(-B,-C),a.pc(),a.nd(H,L,N,L,N,F,H,F,G));D.left=D.top=0;D.right=D.bottom=1;b&&(n=G.top,G.top=G.bottom,G.bottom=n);t=1;O=0}a.ze(1);v=f.length-1;var Ya=a.cm(f[v].Ia)||!e&&!b&&!this.b.ic;A=n=0;for(m=f.length;A<m;A++){x[t]||(x[t]=a.gc(M,J,this.b.ga));if(x[t].Ke!==M||x[t].Je!==
J)a.deleteTexture(x[t]),x[t]=a.gc(M,J,this.b.ga);a.Pb(f[A].Ia);n=f[A].index;a.xj(f[A].Ia)&&(this.b.X=!0);0!=A||oa?(a.pg(c,1/M,1/J,D.left,D.top,D.right,D.bottom,k,q,l,u,(l+p)/2,(u+z)/2,this.b.Wb.ma,b?b.ya[n]:e?e.ya[n]:this.ya[n]),a.Ob(null),A!==v||Ya?(a.Cc(x[t]),la=wa-E,Q=J-E-la,a.clearRect(R,Q,va-R,la)):(b?a.ye(b.sb,b.ob):e&&a.ye(e.sb,e.ob),a.Cc(c)),a.Ob(x[O]),a.Bc(),a.translate(-B,-C),a.pc(),a.nd(H,L,N,L,N,F,H,F,G),A!==v||Ya||a.Ob(null)):(a.Cc(x[t]),la=wa-E,Q=J-E-la,a.clearRect(R,Q,va-R,la),b?(b.Za&&
b.Za.I?(Q=b.Za.I,O=1/Q.width,Q=1/Q.height):(O=1/b.width,Q=1/b.height),a.pg(c,O,Q,D.left,D.top,D.right,D.bottom,k,q,l,u,(l+p)/2,(u+z)/2,this.b.Wb.ma,b.ya[n]),b.pb(a)):(a.pg(c,1/M,1/J,0,0,1,1,k,q,l,u,(l+p)/2,(u+z)/2,this.b.Wb.ma,e?e.ya[n]:this.ya[n]),a.Ob(e?this.b.Na:this.b.Ga),a.Bc(),a.translate(-B,-C),a.pc(),a.nd(H,L,N,L,N,F,H,F,G)),D.left=D.top=0,D.right=D.bottom=1,b&&!Ya&&(n=L,L=F,F=n));t=0===t?1:0;O=0===t?1:0}Ya&&(a.Pb(0),b?a.ye(b.sb,b.ob):e?a.ye(e.sb,e.ob):this.b.ic||(a.wf(this.b.width,this.b.height),
B=this.b.width/2,C=this.b.height/2,F=H=0,N=this.b.width,L=this.b.height),a.Cc(c),a.Ob(x[O]),a.Bc(),a.translate(-B,-C),a.pc(),b&&1===f.length&&!oa?a.nd(H,F,N,F,N,L,H,L,G):a.nd(H,L,N,L,N,F,H,F,G),a.Ob(null))};f.prototype.Gi=function(a){var e,b;e=0;for(b=this.K.length;e<b;e++)if(this.K[e].M===a)return this.K[e];return null};f.prototype.Cb=function(){var a,b,c,g={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Pf,persist:this.ue,fx:[],layers:{}};a=0;for(b=this.J.length;a<
b;a++)c=this.J[a],g.fx.push({name:c.name,active:c.Ta,params:this.ya[c.index]});a=0;for(b=this.K.length;a<b;a++)c=this.K[a],g.layers[c.M.toString()]=c.Cb();return g};f.prototype.Xb=function(a){var b,c,g,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.ue=a.persist;"undefined"!==typeof a.fv&&(this.Pf=a.fv);var k=a.fx;b=0;for(c=k.length;b<c;b++)if(g=this.Yk(k[b].name))g.Ta=k[b].active,this.ya[g.index]=k[b].params;this.Zc();b=a.layers;for(f in b)b.hasOwnProperty(f)&&
(a=this.Gi(parseInt(f,10)))&&a.Xb(b[f])};wb=f;m.prototype.Zc=function(){S(this.U);this.Id=!0;var a,b,c;a=0;for(b=this.J.length;a<b;a++)c=this.J[a],c.Ta&&(this.U.push(c),c.Qc||(this.Id=!1))};m.prototype.Yk=function(a){var b,c,g;b=0;for(c=this.J.length;b<c;b++)if(g=this.J[b],g.name===a)return g;return null};m.prototype.Er=function(){var a,b,c,g,f,k;b=a=0;for(c=this.jc.length;a<c;a++){g=this.jc[a];f=this.b.q[g[1]];k=this.b.Hm(f);f=!0;if(!k||this.Wa.Pf){g=this.b.Yd(g,this,!0);if(!g)continue;t.push(g);
g.type.global&&(f=!1,this.Ig.push(g.uid))}f&&(this.jc[b]=this.jc[a],b++)}this.jc.length=b;this.b.ib();!this.b.n&&this.J.length&&(this.jb=this.es);this.Gg=$a(this.jb);this.b.u&&ab(this,this.jb,this.b.u);this.Vc=!0};m.prototype.ng=function(a,b){var c=Ba(this.d,a);0>c||(b&&this.qc&&a.Nb&&a.Nb.right>=a.Nb.left&&(a.ba(),this.hb.update(a,a.Nb,null),a.Nb.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(xa(this.d,c),this.Hh(c)),this.Vc=!0)};m.prototype.Dg=function(a,b){a.$c=this.d.length;this.d.push(a);
b&&this.qc&&a.Nb&&a.Q();this.Vc=!0};m.prototype.xu=function(a){this.d.unshift(a);this.Hh(0)};m.prototype.bu=function(a,b,c){var g=a.jd();b=b.jd();xa(this.d,g);g<b&&b--;c&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.Hh(g<b?g:b)};m.prototype.Hh=function(a){-1===this.Od?this.Od=a:a<this.Od&&(this.Od=a);this.Vc=this.Bf=!0};m.prototype.Km=function(){if(this.Bf){-1===this.Od&&(this.Od=0);var a,b,c;if(this.qc)for(a=this.Od,b=this.d.length;a<b;++a)c=this.d[a],c.$c=a,this.hb.Yt(c.Nb);else for(a=
this.Od,b=this.d.length;a<b;++a)this.d[a].$c=a;this.Bf=!1;this.Od=-1}};m.prototype.Hb=function(a){return this.ht()*(this.b.ic||a?this.b.Eg:1)};m.prototype.ht=function(){return(this.scale*this.Wa.scale-1)*this.ad+1};m.prototype.Ub=function(){return this.xd?0:Ga(this.Wa.i+this.i)};var a=[],c=[],q=[];m.prototype.cl=function(){this.Km();this.hb.Aj(this.Z,this.aa,this.da,this.ca,q);if(!q.length)return n();if(1===q.length){var a=n();za(a,q[0]);S(q);return a}for(var b=!0;1<q.length;){for(var a=q,f=void 0,
g=void 0,r=void 0,k=void 0,p=void 0,f=0,g=a.length;f<g-1;f+=2){var r=a[f],k=a[f+1],p=n(),l=r,u=k,m=p,z=0,x=0,A=0,t=l.length,Y=u.length,ba=void 0,na=void 0;for(m.length=t+Y;z<t&&x<Y;++A)ba=l[z],na=u[x],ba.$c<na.$c?(m[A]=ba,++z):(m[A]=na,++x);for(;z<t;++z,++A)m[A]=l[z];for(;x<Y;++x,++A)m[A]=u[x];b||(v(r),v(k));c.push(p)}1===g%2&&(b?(r=n(),za(r,a[g-1]),c.push(r)):c.push(a[g-1]));za(a,c);S(c);b=!1}a=q[0];S(q);return a};m.prototype.hc=function(a){this.od=this.Bi||1!==this.opacity||0!==this.jb;var b=this.b.canvas,
c=a,g=!1;this.od&&(this.b.Zi||(this.b.Zi=document.createElement("canvas"),b=this.b.Zi,b.width=this.b.H,b.height=this.b.G,this.b.xo=b.getContext("2d"),g=!0),b=this.b.Zi,c=this.b.xo,b.width!==this.b.H&&(b.width=this.b.H,g=!0),b.height!==this.b.G&&(b.height=this.b.G,g=!0),g&&this.b.Gj(c,this.b.ga),this.Yc&&c.clearRect(0,0,this.b.H,this.b.G));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Yc||(c.fillStyle="rgb("+this.Hc[0]+","+this.Hc[1]+","+this.Hc[2]+")",c.fillRect(0,0,this.b.H,this.b.G));
c.save();this.xd=!0;var g=this.xb(0,0,!0,!0),f=this.xb(0,0,!1,!0);this.xd=!1;this.b.oc&&(g=Math.round(g),f=Math.round(f));this.Dj(g,f,c);var k=this.Hb();c.scale(k,k);c.translate(-g,-f);this.qc?(this.$a.left=this.hb.Db(this.Z),this.$a.top=this.hb.Eb(this.aa),this.$a.right=this.hb.Db(this.da),this.$a.bottom=this.hb.Eb(this.ca),this.Vc||!this.$a.Kg(this.ag)?(v(this.Ed),g=this.cl(),this.Vc=!1,this.ag.Hf(this.$a)):g=this.Ed):g=this.d;for(var q,l=null,f=0,k=g.length;f<k;++f)q=g[f],q!==l&&(this.Zr(q,c),
l=q);this.qc&&(this.Ed=g);c.restore();this.od&&(a.globalCompositeOperation=this.Gg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};m.prototype.Zr=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var c=a.ea;c.right<this.Z||c.bottom<this.aa||c.left>this.da||c.top>this.ca||(b.globalCompositeOperation=a.Gg,a.hc(b))}};m.prototype.dk=function(){this.xd=!0;var a=this.xb(0,0,!0,!0),b=this.xb(0,0,!1,!0);this.xd=!1;this.b.oc&&(a=Math.round(a),b=Math.round(b));this.Dj(a,b,null)};m.prototype.Dj=
function(a,b,c){var g=this.Hb();this.Z=a;this.aa=b;this.da=a+1/g*this.b.H;this.ca=b+1/g*this.b.G;this.Z>this.da&&(a=this.Z,this.Z=this.da,this.da=a);this.aa>this.ca&&(a=this.aa,this.aa=this.ca,this.ca=a);a=this.Ub();0!==a&&(c&&(c.translate(this.b.H/2,this.b.G/2),c.rotate(-a),c.translate(this.b.H/-2,this.b.G/-2)),this.Md.set(this.Z,this.aa,this.da,this.ca),this.Md.offset((this.Z+this.da)/-2,(this.aa+this.ca)/-2),this.Up.Gp(this.Md,a),this.Up.pn(this.Md),this.Md.offset((this.Z+this.da)/2,(this.aa+this.ca)/
2),this.Z=this.Md.left,this.aa=this.Md.top,this.da=this.Md.right,this.ca=this.Md.bottom)};m.prototype.Ne=function(a){if(this.od=this.Bi){this.b.Na||(this.b.Na=a.gc(this.b.H,this.b.G,this.b.ga));if(this.b.Na.Ke!==this.b.H||this.b.Na.Je!==this.b.G)a.deleteTexture(this.b.Na),this.b.Na=a.gc(this.b.H,this.b.G,this.b.ga);a.Cc(this.b.Na)}this.xd=!0;var b=this.xb(0,0,!0,!0),c=this.xb(0,0,!1,!0);this.xd=!1;this.b.oc&&(b=Math.round(b),c=Math.round(c));this.Dj(b,c,null);b=this.Hb();a.Bc();a.scale(b,b);a.Ej(-this.Ub());
a.translate((this.Z+this.da)/-2,(this.aa+this.ca)/-2);a.pc();this.qc?(this.$a.left=this.hb.Db(this.Z),this.$a.top=this.hb.Eb(this.aa),this.$a.right=this.hb.Db(this.da),this.$a.bottom=this.hb.Eb(this.ca),this.Vc||!this.$a.Kg(this.ag)?(v(this.Ed),b=this.cl(),this.Vc=!1,this.ag.Hf(this.$a)):b=this.Ed):b=this.d;for(var g,f=null,c=b.length-1;0<=c;--c)g=b[c],g!==f&&(this.as(b[c],a),f=g);this.qc&&(this.Ed=b);this.Yc||(this.Dk=this.b.Pe++,a.Hj(this.Dk),a.Ap(1,1,1),a.Nn(),a.Iu())};m.prototype.pb=function(a){var b=
0,c=0;if(this.od=this.Bi||1!==this.opacity||0<this.U.length||0!==this.jb){this.b.Na||(this.b.Na=a.gc(this.b.H,this.b.G,this.b.ga));if(this.b.Na.Ke!==this.b.H||this.b.Na.Je!==this.b.G)a.deleteTexture(this.b.Na),this.b.Na=a.gc(this.b.H,this.b.G,this.b.ga);a.Cc(this.b.Na);this.Yc&&a.clear(0,0,0,0)}this.Yc||(this.b.fa?(a.Hj(this.Dk),a.Ap(this.Hc[0]/255,this.Hc[1]/255,this.Hc[2]/255),a.Nn(),a.Tu()):a.clear(this.Hc[0]/255,this.Hc[1]/255,this.Hc[2]/255,1));this.xd=!0;var g=this.xb(0,0,!0,!0),b=this.xb(0,
0,!1,!0);this.xd=!1;this.b.oc&&(g=Math.round(g),b=Math.round(b));this.Dj(g,b,null);g=this.Hb();a.Bc();a.scale(g,g);a.Ej(-this.Ub());a.translate((this.Z+this.da)/-2,(this.aa+this.ca)/-2);a.pc();this.qc?(this.$a.left=this.hb.Db(this.Z),this.$a.top=this.hb.Eb(this.aa),this.$a.right=this.hb.Db(this.da),this.$a.bottom=this.hb.Eb(this.ca),this.Vc||!this.$a.Kg(this.ag)?(v(this.Ed),b=this.cl(),this.Vc=!1,this.ag.Hf(this.$a)):b=this.Ed):b=this.d;var f,k,q=null,c=0;for(f=b.length;c<f;++c)k=b[c],k!==q&&(this.$r(b[c],
a),q=k);this.qc&&(this.Ed=b);this.od&&(b=this.U.length?this.U[0].Ia:0,c=this.U.length?this.U[0].index:0,0===this.U.length||1===this.U.length&&!a.cm(b)&&1===this.opacity?(1===this.U.length?(a.Pb(b),a.pg(this.Wa.Tg(),1/this.b.H,1/this.b.G,0,0,1,1,g,this.Ub(),this.Z,this.aa,(this.Z+this.da)/2,(this.aa+this.ca)/2,this.b.Wb.ma,this.ya[c]),a.xj(b)&&(this.b.X=!0)):a.Pb(0),a.Cc(this.Wa.Tg()),a.ze(this.opacity),a.Ob(this.b.Na),a.ye(this.sb,this.ob),a.Bc(),a.pc(),g=this.b.H/2,b=this.b.G/2,a.lg(-g,b,g,b,g,-b,
-g,-b),a.Ob(null)):this.Wa.jm(a,this,null,this.Wa.Tg()))};m.prototype.$r=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var c=a.ea;c.right<this.Z||c.bottom<this.aa||c.left>this.da||c.top>this.ca||(b.Hj(a.Pe),a.gq?this.bs(a,b):(b.Pb(0),b.ye(a.sb,a.ob),a.pb(b)))}};m.prototype.as=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var c=a.ea;c.right<this.Z||c.bottom<this.aa||c.left>this.da||c.top>this.ca||(a.Pe=this.b.Pe++,0===a.jb&&1===a.opacity&&a.Id&&a.Ne&&(b.Hj(a.Pe),a.Ne(b)))}};
m.prototype.bs=function(a,b){var c=a.U[0].Ia,g=a.U[0].index,f=this.Hb();if(1!==a.U.length||b.cm(c)||b.zu(c)||(a.i||a.j.Ub())&&b.Ch(c)||1!==a.opacity||a.type.ja.Uo)this.Wa.jm(b,this,a,this.od?this.b.Na:this.Wa.Tg()),b.Bc(),b.scale(f,f),b.Ej(-this.Ub()),b.translate((this.Z+this.da)/-2,(this.aa+this.ca)/-2),b.pc();else{b.Pb(c);b.ye(a.sb,a.ob);b.xj(c)&&(this.b.X=!0);var k=0,q=0,l=0,u=0;b.Ch(c)&&(u=a.ea,k=this.ta(u.left,u.top,!0,!0),q=this.ta(u.left,u.top,!1,!0),l=this.ta(u.right,u.bottom,!0,!0),u=this.ta(u.right,
u.bottom,!1,!0),k=k/windowWidth,q=1-q/windowHeight,l=l/windowWidth,u=1-u/windowHeight);var p;a.Za&&a.Za.I?(p=a.Za.I,c=1/p.width,p=1/p.height):(c=1/a.width,p=1/a.height);b.pg(this.od?this.b.Na:this.Wa.Tg(),c,p,k,q,l,u,f,this.Ub(),this.Z,this.aa,(this.Z+this.da)/2,(this.aa+this.ca)/2,this.b.Wb.ma,a.ya[g]);a.pb(b)}};m.prototype.xb=function(a,b,c,g){var f=this.b.devicePixelRatio;this.b.cf&&(a*=f,b*=f);var f=this.b.jp,k=this.b.kp,f=(this.Wa.scrollX-f)*this.zc+f,k=(this.Wa.scrollY-k)*this.Ac+k,q=f,l=k,
u=1/this.Hb(!g);g?(q-=this.b.H*u/2,l-=this.b.G*u/2):(q-=this.b.width*u/2,l-=this.b.height*u/2);q+=a*u;l+=b*u;b=this.Ub();0!==b&&(q-=f,l-=k,a=Math.cos(b),b=Math.sin(b),g=q*a-l*b,l=l*a+q*b,q=g+f,l+=k);return c?q:l};m.prototype.ta=function(a,b,c,g){var f=this.b.jp,k=this.b.kp,q=(this.Wa.scrollX-f)*this.zc+f,l=(this.Wa.scrollY-k)*this.Ac+k,k=q,f=l,u=this.Ub();if(0!==u){a-=q;b-=l;var p=Math.cos(-u),u=Math.sin(-u),z=a*p-b*u;b=b*p+a*u;a=z+q;b+=l}q=1/this.Hb(!g);g?(k-=this.b.H*q/2,f-=this.b.G*q/2):(k-=this.b.width*
q/2,f-=this.b.height*q/2);k=(a-k)/q;f=(b-f)/q;a=this.b.devicePixelRatio;this.b.cf&&!g&&(k/=a,f/=a);return c?k:f};m.prototype.Cb=function(){var a,b,c,g={s:this.scale,a:this.i,vl:this.Z,vt:this.aa,vr:this.da,vb:this.ca,v:this.visible,bc:this.Hc,t:this.Yc,px:this.zc,py:this.Ac,o:this.opacity,zr:this.ad,fx:[],cg:this.Ig,instances:[]};a=0;for(b=this.J.length;a<b;a++)c=this.J[a],g.fx.push({name:c.name,active:c.Ta,params:this.ya[c.index]});return g};m.prototype.Xb=function(a){var b,c,g;this.scale=a.s;this.i=
a.a;this.Z=a.vl;this.aa=a.vt;this.da=a.vr;this.ca=a.vb;this.visible=a.v;this.Hc=a.bc;this.Yc=a.t;this.zc=a.px;this.Ac=a.py;this.opacity=a.o;this.ad=a.zr;this.Ig=a.cg||[];za(this.jc,this.Op);var f=new da;b=0;for(g=this.Ig.length;b<g;++b)f.add(this.Ig[b]);c=b=0;for(g=this.jc.length;b<g;++b)f.contains(this.jc[b][2])||(this.jc[c]=this.jc[b],++c);ya(this.jc,c);c=a.fx;b=0;for(g=c.length;b<g;b++)if(a=this.Yk(c[b].name))a.Ta=c[b].active,this.ya[a.index]=c[b].params;this.Zc();this.d.sort(p);this.Bf=!0};Kb=
m})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function p(a,b){return a.index-b.index}function m(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(p);a.length>=r.length&&(r.length=a.length+1);r[a.length]||(r[a.length]=[]);e=r[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}function n(a,
b){this.b=a;this.Wp={};this.Hn={};this.il=!1;this.Zn=new da;this.Lk=[];this.rk=[];this.name=b[0];var c=b[1];this.$d=[];var d,e;d=0;for(e=c.length;d<e;d++)this.ao(c[d],null,this.$d)}function v(a){this.type=a;this.d=[];this.L=[];this.Y=!0}function t(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ua=[];this.Be=[];this.Xn=this.Zj=this.Dm=this.ml=this.group=this.Mp=!1;this.Ua=[];this.tc=[];this.Dc=[];this.Vg="";this.Rf=this.ml=this.group=!1;this.ji=null;c[1]&&(this.Vg=c[1][1].toLowerCase(),this.group=
!0,this.ml=!!c[1][0],this.ji=[],this.Rf=this.ml,this.b.Gf.push(this),this.b.Wg[this.Vg]=this);this.nc=c[2];this.M=c[4];this.group||(this.b.nn[this.M.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Lb(this,d[a]);e.index=a;this.Ua.push(e);this.gn(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Mb(this,d[a]),e.index=a,this.tc.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.ao(c[a],this,this.Dc);this.Si=!1;this.Ua.length&&(this.Si=null==this.Ua[0].type&&this.Ua[0].bb==
W.prototype.k.tq)}function b(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ab))for(c=0,d=a.Tb.length;c<d;c++)e=a.Tb[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.P=[];this.Aa=[];this.C={};this.index=-1;this.Bg=!1;this.bb=this.b.Pd(b[1]);this.trigger=0<b[3];this.Gn=2===b[3];this.Mi=b[5];this.Tt=b[6];this.M=b[7];this.b.Vd[this.M.toString()]=this;-1===b[0]?(this.type=null,this.Ha=this.om,this.Ie=null,this.Ic=-1):(this.type=this.b.q[b[0]],this.Ha=
this.Tt?this.Ou:this.nm,b[2]?(this.Ie=this.type.Di(b[2]),this.Ic=this.type.Xk(b[2])):(this.Ie=null,this.Ic=-1),this.fc.parent&&this.fc.parent.Ij());this.Gn&&(this.Ha=this.Pu);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Nb(this,e[c]);this.P.push(g)}this.Aa.length=e.length}}function c(a,b){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.P=[];this.Aa=[];this.C={};this.index=-1;this.Bg=!1;this.bb=this.b.Pd(b[1]);-1===b[0]?(this.type=null,this.Ha=this.om,this.Ie=null,this.Ic=-1):
(this.type=this.b.q[b[0]],this.Ha=this.nm,b[2]?(this.Ie=this.type.Di(b[2]),this.Ic=this.type.Xk(b[2])):(this.Ie=null,this.Ic=-1));this.M=b[3];this.b.Rd[this.M.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Nb(this,e[c]);this.P.push(g)}this.Aa.length=e.length}}function q(){w++;k.length===w&&k.push(new Ob);return k[w]}function d(a,b){this.ia=a;this.fc=a.fc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.hd=null;this.Jd=0;this.get=null;this.xn=0;this.Wa=null;
this.key=0;this.object=null;this.index=0;this.Th=this.yf=this.Th=this.yf=this.Kn=this.Re=this.Uh=null;this.Fc=!1;var c,d,e;switch(b[0]){case 0:case 7:this.hd=new Pb(this,b[1]);this.Jd=0;this.get=this.qt;break;case 1:this.hd=new Pb(this,b[1]);this.Jd=0;this.get=this.tt;break;case 5:this.hd=new Pb(this,b[1]);this.Jd=0;this.get=this.yt;break;case 3:case 8:this.xn=b[1];this.get=this.ot;break;case 6:this.Wa=this.b.Gl[b[1]];this.get=this.zt;break;case 9:this.key=b[1];this.get=this.xt;break;case 4:this.object=
this.b.q[b[1]];this.get=this.At;this.fc.gn(this.object);this.ia instanceof Mb?this.fc.Ij():this.fc.parent&&this.fc.parent.Ij();break;case 10:this.index=b[1];a.type&&a.type.B?(this.get=this.ut,this.Fc=!0):this.get=this.wt;break;case 11:this.Uh=b[1];this.Re=null;this.get=this.pt;break;case 2:case 12:this.Kn=b[1];this.get=this.nt;break;case 13:for(this.get=this.Bt,this.yf=[],this.Th=[],c=1,d=b.length;c<d;c++)e=new Nb(this.ia,b[c]),this.yf.push(e),this.Th.push(0)}}function e(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.ua=[];this.name=c[1];this.kv=c[2];this.ll=c[3];this.fh=!!c[4];this.Qi=!!c[5];this.M=c[6];this.b.zg[this.M.toString()]=this;this.data=this.ll;this.parent?(this.mf=this.fh||this.Qi?-1:this.b.Wu++,this.b.kr.push(this)):(this.mf=-1,this.b.jr.push(this))}function h(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ua=[];this.Yg=null;this.Ht=c[1];this.Ta=!0}function g(){this.Pp=[];this.reset(null)}var r=[];n.prototype.toString=function(){return this.name};n.prototype.ao=function(a,b,c){switch(a[0]){case 0:a=
new Qb(this,b,a);if(a.nc)for(c.push(a),c=0,b=a.Ua.length;c<b;c++)a.Ua[c].trigger&&this.bo(a,c);else a.qo()?this.bo(a,0):c.push(a);break;case 1:a=new Hb(this,b,a);c.push(a);break;case 2:a=new Rb(this,b,a),c.push(a)}};n.prototype.Ca=function(){var a,b;a=0;for(b=this.$d.length;a<b;a++)this.$d[a].Ca(a<b-1&&this.$d[a+1].Si)};n.prototype.Im=function(){S(this.Lk);S(this.rk);this.cn(this);S(this.rk)};n.prototype.cn=function(a){var b,c,d,e,g=a.Lk,f=a.rk,k=this.Zn.Ee();b=0;for(c=k.length;b<c;++b)d=k[b],e=d.Yg,
!d.Ta||a===e||-1<f.indexOf(e)||(f.push(e),e.cn(a),g.push(e))};n.prototype.Ha=function(a){this.b.Kw||(this.il=!0,a||(this.b.yl=!0));var b,c;b=0;for(c=this.$d.length;b<c;b++){var d=this.$d[b];d.Ha();this.b.Ck(d.ua);this.b.ee&&this.b.ib()}a||(this.b.yl=!1)};n.prototype.bo=function(a,b){a.nc||this.b.ak.push(a);var c,d,e=a.Ua[b],g;e.type?g=e.type.name:g="system";var f=(c=e.Gn)?this.Hn:this.Wp;f[g]||(f[g]=[]);g=f[g];f=e.bb;if(c){if(e.P.length&&(e=e.P[0],1===e.type&&2===e.hd.type)){e=e.hd.value.toLowerCase();
c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].Mg;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:f,Mg:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].Mg.push([a,b]);return}dc&&f===dc.prototype.k.Ff?g.unshift({method:f,Mg:[[a,b]]}):g.push({method:f,Mg:[[a,b]]})}};xb=n;v.prototype.hl=function(){return this.Y?this.type.d.length:this.d.length};v.prototype.Vb=function(){return this.Y?this.type.d:this.d};v.prototype.jg=function(a){a&&(a.b.La().Fb.nc?(this.Y&&
(S(this.d),za(this.L,a.type.d),this.Y=!1),a=this.L.indexOf(a),-1!==a&&(this.d.push(this.L[a]),this.L.splice(a,1))):(this.Y=!1,S(this.d),this.d[0]=a))};gb=v;window._c2hh_="EDDDE8C6D046454057AE2A476F2EE6054DBB51E2";t.prototype.Ca=function(a){var b,c=this.parent;if(this.group)for(this.Zj=!0;c;){if(!c.group){this.Zj=!1;break}c=c.parent}this.Dm=!this.qo()&&(!this.parent||this.parent.group&&this.parent.Zj);this.Xn=!!a;this.Be=this.ua.slice(0);for(c=this.parent;c;){a=0;for(b=c.ua.length;a<b;a++)this.er(c.ua[a]);
c=c.parent}this.ua=m(this.ua);this.Be=m(this.Be);a=0;for(b=this.Ua.length;a<b;a++)this.Ua[a].Ca();a=0;for(b=this.tc.length;a<b;a++)this.tc[a].Ca();a=0;for(b=this.Dc.length;a<b;a++)this.Dc[a].Ca(a<b-1&&this.Dc[a+1].Si)};t.prototype.Su=function(a){if(this.Rf!==!!a){this.Rf=!!a;var b;a=0;for(b=this.ji.length;a<b;++a)this.ji[a].aq();0<b&&this.b.V.Qe&&this.b.V.Qe.Im()}};t.prototype.gn=function(a){b(a,this.ua)};t.prototype.er=function(a){b(a,this.Be)};t.prototype.Ij=function(){this.Mp=!0;this.parent&&this.parent.Ij()};
t.prototype.qo=function(){return this.Ua.length?this.Ua[0].trigger:!1};t.prototype.Ha=function(){var a,b,c=!1,d=this.b,e=this.b.La();e.Fb=this;var g=this.Ua;this.Si||(e.Nk=!1);if(this.nc){0===g.length&&(c=!0);e.Ja=0;for(a=g.length;e.Ja<a;e.Ja++)b=g[e.Ja],b.trigger||(b=b.Ha())&&(c=!0);(e.ff=c)&&this.Fj()}else{e.Ja=0;for(a=g.length;e.Ja<a;e.Ja++)if(b=g[e.Ja].Ha(),!b){e.ff=!1;this.Dm&&d.ee&&d.ib();return}e.ff=!0;this.Fj()}this.hs(e)};t.prototype.hs=function(a){a.ff&&this.Xn&&(a.Nk=!0);this.Dm&&this.b.ee&&
this.b.ib()};t.prototype.Mu=function(a){this.b.La().Fb=this;this.Ua[a].Ha()&&(this.Fj(),this.b.La().ff=!0)};t.prototype.Fj=function(){var a=this.b.La(),b;a.ec=0;for(b=this.tc.length;a.ec<b;a.ec++)if(this.tc[a.ec].Ha())return;this.vp()};t.prototype.Ju=function(){var a=this.b.La(),b;for(b=this.tc.length;a.ec<b;a.ec++)if(this.tc[a.ec].Ha())return;this.vp()};t.prototype.vp=function(){if(this.Dc.length){var a,b,c,d,e=this.Dc.length-1;this.b.zj(this);if(this.Mp)for(a=0,b=this.Dc.length;a<b;a++)c=this.Dc[a],
(d=!this.Zj||!this.group&&a<e)&&this.b.yj(c.ua),c.Ha(),d?this.b.uf(c.ua):this.b.Ck(c.ua);else for(a=0,b=this.Dc.length;a<b;a++)this.Dc[a].Ha();this.b.uj()}};t.prototype.Nu=function(){var a=this.b.La();a.Fb=this;var b=!1,c;a.Ja=0;for(c=this.Ua.length;a.Ja<c;a.Ja++)if(this.Ua[a.Ja].Ha())b=!0;else if(!this.nc)return!1;return this.nc?b:!0};t.prototype.Ku=function(){this.b.Se++;var a=this.b.La().Ja,b=this.b.zj(this);if(!this.nc)for(b.Ja=a+1,a=this.Ua.length;b.Ja<a;b.Ja++)if(!this.Ua[b.Ja].Ha()){this.b.uj();
return}this.Fj();this.b.uj()};t.prototype.Pt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ua[b].type===a.type)return!1;return!0};Qb=t;a.prototype.Ca=function(){var a,b,c;a=0;for(b=this.P.length;a<b;a++)c=this.P[a],c.Ca(),c.Fc&&(this.Bg=!0)};a.prototype.Pu=function(){return!0};a.prototype.om=function(){var a,b;a=0;for(b=this.P.length;a<b;a++)this.Aa[a]=this.P[a].get();return Na(this.bb.apply(this.b.pd,this.Aa),this.Mi)};a.prototype.Ou=function(){var a,b;a=0;for(b=this.P.length;a<
b;a++)this.Aa[a]=this.P[a].get();a=this.bb.apply(this.Ie?this.Ie:this.type,this.Aa);this.type.uc();return a};a.prototype.nm=function(){var a,b,c,d,e,g,f,k,h=this.type,q=h.R(),r=this.fc.nc&&!this.trigger;b=0;var p=h.Ab,m=h.B,n=h.Ad,v=this.Ic,t=-1<v,w=this.Bg,G=this.P,D=this.Aa,H=this.Mi,R=this.bb,F;if(w)for(b=0,e=G.length;b<e;++b)g=G[b],g.Fc||(D[b]=g.get(0));else for(b=0,e=G.length;b<e;++b)D[b]=G[b].get(0);if(q.Y){S(q.d);S(q.L);F=h.d;a=0;for(d=F.length;a<d;++a){k=F[a];if(w)for(b=0,e=G.length;b<e;++b)g=
G[b],g.Fc&&(D[b]=g.get(a));t?(b=0,m&&(b=k.type.Of[n]),b=R.apply(k.N[v+b],D)):b=R.apply(k,D);(f=Na(b,H))?q.d.push(k):r&&q.L.push(k)}h.finish&&h.finish(!0);q.Y=!1;h.uc();return q.hl()}c=0;F=(f=r&&!this.fc.Pt(this))?q.L:q.d;var E=!1;a=0;for(d=F.length;a<d;++a){k=F[a];if(w)for(b=0,e=G.length;b<e;++b)g=G[b],g.Fc&&(D[b]=g.get(a));t?(b=0,m&&(b=k.type.Of[n]),b=R.apply(k.N[v+b],D)):b=R.apply(k,D);if(Na(b,H))if(E=!0,f){if(q.d.push(k),p)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.R().d.push(g)}else{F[c]=
k;if(p)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.R().d[c]=g;c++}else if(f){F[c]=k;if(p)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.R().L[c]=g;c++}else if(r&&(q.L.push(k),p))for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.R().L.push(g)}ya(F,c);if(p)for(m=h.Tb,a=0,d=m.length;a<d;a++)k=m[a].R(),f?ya(k.L,c):ya(k.d,c);c=E;if(f&&!E)for(a=0,d=q.d.length;a<d;a++){k=q.d[a];if(w)for(b=0,e=G.length;b<e;b++)g=G[b],g.Fc&&(D[b]=g.get(a));b=t?R.apply(k.N[v],D):R.apply(k,
D);if(Na(b,H)){E=!0;break}}h.finish&&h.finish(c||r);return r?E:q.hl()};Lb=a;c.prototype.Ca=function(){var a,b,c;a=0;for(b=this.P.length;a<b;a++)c=this.P[a],c.Ca(),c.Fc&&(this.Bg=!0)};c.prototype.om=function(){var a=this.b,b,c,d=this.P,e=this.Aa;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.bb.apply(a.pd,e)};c.prototype.nm=function(){var a=this.type,b=this.Ic,c=a.Ad,d=this.Bg,e=this.P,g=this.Aa,f=this.bb,k=a.R().Vb(),a=a.B,h=-1<b,q,r,p,m,n,v;if(d)for(r=0,m=e.length;r<m;++r)n=e[r],n.Fc||(g[r]=
n.get(0));else for(r=0,m=e.length;r<m;++r)g[r]=e[r].get(0);q=0;for(p=k.length;q<p;++q){v=k[q];if(d)for(r=0,m=e.length;r<m;++r)n=e[r],n.Fc&&(g[r]=n.get(q));h?(r=0,a&&(r=v.type.Of[c]),f.apply(v.N[b+r],g)):f.apply(v,g)}return!1};Mb=c;var k=[],w=-1;d.prototype.Ca=function(){var a,b;if(11===this.type)this.Re=this.b.Rn(this.Uh,this.fc.parent);else if(13===this.type)for(a=0,b=this.yf.length;a<b;a++)this.yf[a].Ca();this.hd&&this.hd.Ca()};d.prototype.$t=function(a){this.Fc||!a||a.ja.Jj||(this.Fc=!0)};d.prototype.Ep=
function(){this.Fc=!0};d.prototype.qt=function(a){this.Jd=a||0;a=q();this.hd.get(a);w--;return a.data};d.prototype.tt=function(a){this.Jd=a||0;a=q();this.hd.get(a);w--;return I(a.data)?a.data:""};d.prototype.At=function(){return this.object};d.prototype.ot=function(){return this.xn};d.prototype.yt=function(a){this.Jd=a||0;a=q();this.hd.get(a);w--;return a.Va()?this.b.Sg(a.data):this.b.al(a.data)};d.prototype.zt=function(){return this.Wa};d.prototype.xt=function(){return this.key};d.prototype.wt=function(){return this.index};
d.prototype.ut=function(a){a=a||0;var b=this.ia.type,c=null,c=b.R(),d=c.Vb();if(d.length)c=d[a%d.length].type;else if(c.L.length)c=c.L[a%c.L.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.vi[b.Ad]};d.prototype.pt=function(){return this.Re};d.prototype.nt=function(){return this.Kn};d.prototype.Bt=function(){var a,b;a=0;for(b=this.yf.length;a<b;a++)this.Th[a]=this.yf[a].get();return this.Th};Nb=d;e.prototype.Ca=function(){this.ua=m(this.ua)};e.prototype.um=
function(a){var b=this.b.Qn();this.parent&&!this.fh&&b?(this.mf>=b.length&&(b.length=this.mf+1),b[this.mf]=a):this.data=a};e.prototype.Ii=function(){var a=this.b.Qn();return!this.parent||this.fh||!a||this.Qi?this.data:this.mf>=a.length||"undefined"===typeof a[this.mf]?this.ll:a[this.mf]};e.prototype.Ha=function(){!this.parent||this.fh||this.Qi||this.um(this.ll)};Hb=e;h.prototype.toString=function(){return"include:"+this.Yg.toString()};h.prototype.Ca=function(){this.Yg=this.b.Pk[this.Ht];this.sheet.Zn.add(this);
this.ua=m(this.ua);for(var a=this.parent;a;)a.group&&a.ji.push(this),a=a.parent;this.aq()};h.prototype.Ha=function(){this.parent&&this.b.Eh(this.b.q);this.Yg.il||this.Yg.Ha(!0);this.parent&&this.b.uf(this.b.q)};h.prototype.aq=function(){for(var a=this.parent;a;){if(a.group&&!a.Rf){this.Ta=!1;return}a=a.parent}this.Ta=!0};Rb=h;g.prototype.reset=function(a){this.Fb=a;this.ec=this.Ja=0;S(this.Pp);this.Nk=this.ff=!1};Gb=g})();
(function(){function f(b,a){this.ia=b;this.b=b.b;this.type=a[0];this.get=[this.Es,this.As,this.Ns,this.Qs,this.ns,this.Os,this.Is,this.xs,this.Hs,this.Ms,this.os,this.Ls,this.ys,this.Js,this.Fs,this.Gs,this.Bs,this.Cs,this.ws,this.Ps,this.Ks,this.Ds,this.vs,this.zs][this.type];var c=null;this.Fd=this.P=this.Aa=this.bb=this.Xj=this.second=this.first=this.value=null;this.Ic=-1;this.Mc=null;this.hq=-1;this.Re=this.Uh=null;this.og=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Pb(b,a[1]);break;case 18:this.first=new Pb(b,a[1]);this.second=new Pb(b,a[2]);this.Xj=new Pb(b,a[3]);break;case 19:this.bb=this.b.Pd(a[1]);this.bb!==W.prototype.Ka.random&&this.bb!==W.prototype.Ka.ur||this.ia.Ep();this.Aa=[];this.P=[];3===a.length?(c=a[2],this.Aa.length=c.length+1):this.Aa.length=1;break;case 20:this.Fd=this.b.q[a[1]];this.Ic=-1;this.bb=this.b.Pd(a[2]);this.og=a[3];Tb.Function&&this.bb===Tb.Function.prototype.Ka.uv&&this.ia.Ep();a[4]?this.Mc=new Pb(b,a[4]):this.Mc=null;this.Aa=
[];this.P=[];6===a.length?(c=a[5],this.Aa.length=c.length+1):this.Aa.length=1;break;case 21:this.Fd=this.b.q[a[1]];this.og=a[2];a[3]?this.Mc=new Pb(b,a[3]):this.Mc=null;this.hq=a[4];break;case 22:this.Fd=this.b.q[a[1]];this.Fd.Di(a[2]);this.Ic=this.Fd.Xk(a[2]);this.bb=this.b.Pd(a[3]);this.og=a[4];a[5]?this.Mc=new Pb(b,a[5]):this.Mc=null;this.Aa=[];this.P=[];7===a.length?(c=a[6],this.Aa.length=c.length+1):this.Aa.length=1;break;case 23:this.Uh=a[1],this.Re=null}this.ia.$t(this.Fd);4<=this.type&&17>=
this.type&&(this.first=new Pb(b,a[1]),this.second=new Pb(b,a[2]));if(c){var f,d;f=0;for(d=c.length;f<d;f++)this.P.push(new Pb(b,c[f]))}}function p(){++t;v.length===t&&v.push(new Ob);return v[t]}function m(b,a,c){var f,d;f=0;for(d=b.length;f<d;++f)b[f].get(c),a[f+1]=c.data}function n(b,a){this.type=b||V.Df;this.data=a||0;this.qf=null;this.type==V.Df&&(this.data=Math.floor(this.data))}f.prototype.Ca=function(){23===this.type&&(this.Re=this.ia.b.Rn(this.Uh,this.ia.fc.parent));this.first&&this.first.Ca();
this.second&&this.second.Ca();this.Xj&&this.Xj.Ca();this.Mc&&this.Mc.Ca();if(this.P){var b,a;b=0;for(a=this.P.length;b<a;b++)this.P[b].Ca()}};var v=[],t=-1;f.prototype.Ps=function(b){var a=this.P,c=this.Aa;c[0]=b;b=p();m(a,c,b);--t;this.bb.apply(this.b.pd,c)};f.prototype.Ks=function(b){var a=this.Fd,c=this.Aa,f=this.P,d=this.Mc,e=this.bb,h=this.ia.Jd,g=a.R(),r=g.Vb();if(!r.length)if(g.L.length)r=g.L;else{this.og?b.$b(""):b.ka(0);return}c[0]=b;b.qf=a;b=p();m(f,c,b);d&&(d.get(b),b.Va()&&(h=b.data,r=
a.d));--t;a=r.length;if(h>=a||h<=-a)h%=a;0>h&&(h+=a);e.apply(r[h],c)};f.prototype.vs=function(b){var a=this.Fd,c=this.Aa,f=this.P,d=this.Mc,e=this.Ic,h=this.bb,g=this.ia.Jd,r=a.R(),k=r.Vb();if(!k.length)if(r.L.length)k=r.L;else{this.og?b.$b(""):b.ka(0);return}c[0]=b;b.qf=a;b=p();m(f,c,b);d&&(d.get(b),b.Va()&&(g=b.data,k=a.d));--t;f=k.length;if(g>=f||g<=-f)g%=f;0>g&&(g+=f);g=k[g];k=0;a.B&&(k=g.type.Of[a.Ad]);h.apply(g.N[e+k],c)};f.prototype.Ds=function(b){var a=this.Mc,c=this.Fd,f=this.hq,d=this.ia.Jd,
e=c.R(),h=e.Vb();if(!h.length)if(e.L.length)h=e.L;else{this.og?b.$b(""):b.ka(0);return}if(a){e=p();a.get(e);if(e.Va()){d=e.data;h=c.d;0!==h.length&&(d%=h.length,0>d&&(d+=h.length));d=c.$k(d);c=d.Ma[f];I(c)?b.$b(c):b.F(c);--t;return}--t}a=h.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=h[d];h=0;c.B&&(h=d.type.vi[c.Ad]);c=d.Ma[f+h];I(c)?b.$b(c):b.F(c)};f.prototype.Es=function(b){b.type=V.Df;b.data=this.value};f.prototype.As=function(b){b.type=V.Cf;b.data=this.value};f.prototype.Ns=function(b){b.type=V.String;
b.data=this.value};f.prototype.Qs=function(b){this.first.get(b);b.Va()&&(b.data=-b.data)};f.prototype.ns=function(b){this.first.get(b);var a=p();this.second.get(a);b.Va()&&a.Va()&&(b.data+=a.data,a.Vf()&&b.fg());--t};f.prototype.Os=function(b){this.first.get(b);var a=p();this.second.get(a);b.Va()&&a.Va()&&(b.data-=a.data,a.Vf()&&b.fg());--t};f.prototype.Is=function(b){this.first.get(b);var a=p();this.second.get(a);b.Va()&&a.Va()&&(b.data*=a.data,a.Vf()&&b.fg());--t};f.prototype.xs=function(b){this.first.get(b);
var a=p();this.second.get(a);b.Va()&&a.Va()&&(b.data/=a.data,b.fg());--t};f.prototype.Hs=function(b){this.first.get(b);var a=p();this.second.get(a);b.Va()&&a.Va()&&(b.data%=a.data,a.Vf()&&b.fg());--t};f.prototype.Ms=function(b){this.first.get(b);var a=p();this.second.get(a);b.Va()&&a.Va()&&(b.data=Math.pow(b.data,a.data),a.Vf()&&b.fg());--t};f.prototype.os=function(b){this.first.get(b);var a=p();this.second.get(a);a.Xf()||b.Xf()?this.ss(b,a):this.qs(b,a);--t};f.prototype.ss=function(b,a){b.Xf()&&
a.Xf()?this.us(b,a):this.ts(b,a)};f.prototype.us=function(b,a){b.data+=a.data};f.prototype.ts=function(b,a){b.Xf()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.$b(b.data.toString()+a.data)};f.prototype.qs=function(b,a){b.ka(b.data&&a.data?1:0)};f.prototype.Ls=function(b){this.first.get(b);var a=p();this.second.get(a);b.Va()&&a.Va()&&(b.data||a.data?b.ka(1):b.ka(0));--t};f.prototype.ws=function(b){this.first.get(b);b.data?this.second.get(b):this.Xj.get(b)};f.prototype.ys=function(b){this.first.get(b);
var a=p();this.second.get(a);b.ka(b.data===a.data?1:0);--t};f.prototype.Js=function(b){this.first.get(b);var a=p();this.second.get(a);b.ka(b.data!==a.data?1:0);--t};f.prototype.Fs=function(b){this.first.get(b);var a=p();this.second.get(a);b.ka(b.data<a.data?1:0);--t};f.prototype.Gs=function(b){this.first.get(b);var a=p();this.second.get(a);b.ka(b.data<=a.data?1:0);--t};f.prototype.Bs=function(b){this.first.get(b);var a=p();this.second.get(a);b.ka(b.data>a.data?1:0);--t};f.prototype.Cs=function(b){this.first.get(b);
var a=p();this.second.get(a);b.ka(b.data>=a.data?1:0);--t};f.prototype.zs=function(b){var a=this.Re.Ii();ha(a)?b.F(a):b.$b(a)};Pb=f;n.prototype.Vf=function(){return this.type===V.Cf};n.prototype.Va=function(){return this.type===V.Df||this.type===V.Cf};n.prototype.Xf=function(){return this.type===V.String};n.prototype.fg=function(){this.Vf()||(this.Xf()&&(this.data=parseFloat(this.data)),this.type=V.Cf)};n.prototype.ka=function(b){this.type=V.Df;this.data=Math.floor(b)};n.prototype.F=function(b){this.type=
V.Cf;this.data=b};n.prototype.$b=function(b){this.type=V.String;this.data=b};n.prototype.Uu=function(b){ha(b)?(this.type=V.Cf,this.data=b):I(b)?(this.type=V.String,this.data=b.toString()):(this.type=V.Df,this.data=0)};Ob=n;V={Df:0,Cf:1,String:2}})();function W(f){this.b=f;this.cc=[]}
W.prototype.Cb=function(){var f={},p,m,n,v,t,b,a,c;f.waits=[];var q=f.waits,d;p=0;for(m=this.cc.length;p<m;p++){b=this.cc[p];d={t:b.time,st:b.Vu,s:b.Jp,ev:b.Lg.M,sm:[],sols:{}};b.Lg.tc[b.ec]&&(d.act=b.Lg.tc[b.ec].M);n=0;for(v=b.ua.length;n<v;n++)d.sm.push(b.ua[n].M);for(t in b.ac)if(b.ac.hasOwnProperty(t)){a=this.b.q[parseInt(t,10)];c={sa:b.ac[t].wp,insts:[]};n=0;for(v=b.ac[t].$e.length;n<v;n++)c.insts.push(b.ac[t].$e[n].uid);d.sols[a.M.toString()]=c}q.push(d)}return f};
W.prototype.Xb=function(f){f=f.waits;var p,m,n,v,t,b,a,c,q,d,e;S(this.cc);p=0;for(m=f.length;p<m;p++)if(b=f[p],c=this.b.nn[b.ev.toString()]){q=-1;n=0;for(v=c.tc.length;n<v;n++)if(c.tc[n].M===b.act){q=n;break}if(-1!==q){a={ac:{},ua:[],Bn:!1};a.time=b.t;a.Vu=b.st||"";a.Jp=!!b.s;a.Lg=c;a.ec=q;n=0;for(v=b.sm.length;n<v;n++)(c=this.b.We(b.sm[n]))&&a.ua.push(c);for(t in b.sols)if(b.sols.hasOwnProperty(t)&&(c=this.b.We(parseInt(t,10)))){q=b.sols[t];d={wp:q.sa,$e:[]};n=0;for(v=q.insts.length;n<v;n++)(e=this.b.bl(q.insts[n]))&&
d.$e.push(e);a.ac[c.index.toString()]=d}this.cc.push(a)}}};
(function(){function f(){}function p(){}function m(){}var n=W.prototype;f.prototype.Qm=function(){return!0};f.prototype.Oq=function(){return!0};f.prototype.uq=function(b){var a=this.b.Fi(),c=a.C.Every_lastTime||0,f=this.b.Wb.ma;"undefined"===typeof a.C.Every_seconds&&(a.C.Every_seconds=b);var d=a.C.Every_seconds;if(f>=c+d)return a.C.Every_lastTime=c+d,f>=a.C.Every_lastTime+.04&&(a.C.Every_lastTime=f),a.C.Every_seconds=b,!0;f<c-.1&&(a.C.Every_lastTime=f);return!1};f.prototype.Sq=function(b){if(!b)return!1;
var a=b.R(),c=a.Vb(),f=K(Math.random()*c.length);if(f>=c.length)return!1;a.jg(c[f]);b.uc();return!0};f.prototype.qq=function(b,a,c){return Sb(b.Ii(),a,c)};f.prototype.yq=function(b){return(b=this.b.Wg[b.toLowerCase()])&&b.Rf};f.prototype.tq=function(){var b=this.b.La();return b.Nk?!1:!b.ff};f.prototype.Rm=function(){return!0};f.prototype.Fq=function(){return!0};f.prototype.lk=function(){return!0};f.prototype.Vm=function(){return!0};f.prototype.Pq=function(){return!0};f.prototype.kk=function(){return!0};
f.prototype.kq=function(b,a,c){return Ka(T(b),T(c))<=T(a)};f.prototype.xq=function(b,a){return Ma(T(b),T(a))};f.prototype.wq=function(b,a,c){b=Ia(b);a=Ia(a);c=Ia(c);return Ma(c,a)?Ma(b,a)&&!Ma(b,c):!(!Ma(b,a)&&Ma(b,c))};n.k=new f;p.prototype.rq=function(b,a,c,f){if(a&&b&&(a=this.b.Gk(b,a,c,f))){this.b.lc++;var d;this.b.trigger(Object.getPrototypeOf(b.ja).k.Ef,a);if(a.Ab)for(c=0,f=a.siblings.length;c<f;c++)d=a.siblings[c],this.b.trigger(Object.getPrototypeOf(d.type.ja).k.Ef,d);this.b.lc--;b=b.R();
b.Y=!1;S(b.d);b.d[0]=a;if(a.Ab)for(c=0,f=a.siblings.length;c<f;c++)d=a.siblings[c],b=d.type.R(),b.Y=!1,S(b.d),b.d[0]=d}};p.prototype.Xq=function(b,a){0===b.kv&&(ha(a)?b.um(b.Ii()-a):b.um(b.Ii()-parseFloat(a)))};var v=[],t=[];n.Fa=new p;m.prototype["int"]=function(b,a){I(a)?(b.ka(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.ka(a)};m.prototype["float"]=function(b,a){I(a)?(b.F(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.F(a)};m.prototype.random=function(b,a,c){void 0===c?b.F(Math.random()*a):b.F(Math.random()*
(c-a)+a)};m.prototype.sqrt=function(b,a){b.F(Math.sqrt(a))};m.prototype.abs=function(b,a){b.F(Math.abs(a))};m.prototype.round=function(b,a){b.ka(Math.round(a))};m.prototype.floor=function(b,a){b.ka(Math.floor(a))};m.prototype.ceil=function(b,a){b.ka(Math.ceil(a))};m.prototype.sin=function(b,a){b.F(Math.sin(T(a)))};m.prototype.cos=function(b,a){b.F(Math.cos(T(a)))};m.prototype.tan=function(b,a){b.F(Math.tan(T(a)))};m.prototype.asin=function(b,a){b.F(Ea(Math.asin(a)))};m.prototype.acos=function(b,a){b.F(Ea(Math.acos(a)))};
m.prototype.atan=function(b,a){b.F(Ea(Math.atan(a)))};m.prototype.exp=function(b,a){b.F(Math.exp(a))};m.prototype.log10=function(b,a){b.F(Math.log(a)/Math.LN10)};m.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,f,d;c=2;for(f=arguments.length;c<f;c++)d=arguments[c],"number"===typeof d&&a<d&&(a=d);b.F(a)};m.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,f,d;c=2;for(f=arguments.length;c<f;c++)d=arguments[c],"number"===typeof d&&a>d&&(a=d);
b.F(a)};m.prototype.Mf=function(b){b.F(this.b.Mf)};m.prototype.Qh=function(b){b.F(this.b.Qh)};m.prototype.time=function(b){b.F(this.b.Wb.ma)};m.prototype.qd=function(b){b.ka(this.b.qd)};m.prototype.jj=function(b){b.ka(this.b.jj)};m.prototype.Uk=function(b){b.ka(this.b.Uk)};m.prototype.i=function(b,a,c,f,d){b.F(Ea(Ja(a,c,f,d)))};m.prototype.left=function(b,a,c){b.$b(I(a)?a.substr(0,c):"")};m.prototype.right=function(b,a,c){b.$b(I(a)?a.substr(a.length-c):"")};m.prototype.replace=function(b,a,c,f){I(a)&&
I(c)&&I(f)?b.$b(a.replace(new RegExp(Va(c),"gi"),f)):b.$b(I(a)?a:"")};m.prototype.trim=function(b,a){b.$b(I(a)?a.trim():"")};m.prototype.ur=function(b){var a=K(Math.random()*(arguments.length-1));b.Uu(arguments[a+1])};m.prototype.Ek=function(b){b.F(this.b.Ek/1E3)};m.prototype.cj=function(b){b.F(this.b.cj)};n.Ka=new m;n.Lu=function(){var b,a,c,f,d,e,h=this.b.La();b=0;for(c=this.cc.length;b<c;b++){f=this.cc[b];if(-1===f.time){if(!f.Jp)continue}else if(f.time>this.b.Wb.ma)continue;h.Fb=f.Lg;h.ec=f.ec;
h.Ja=0;for(a in f.ac)f.ac.hasOwnProperty(a)&&(d=this.b.q[parseInt(a,10)].R(),e=f.ac[a],d.Y=e.wp,za(d.d,e.$e),d=e,S(d.$e),t.push(d));f.Lg.Ju();this.b.Ck(f.ua);f.Bn=!0}a=b=0;for(c=this.cc.length;b<c;b++)f=this.cc[b],this.cc[a]=f,f.Bn?(Pa(f.ac),S(f.ua),v.push(f)):a++;ya(this.cc,a)}})();
(function(){fb=function(f,m){var n=f[1],v=f[3],t=f[4],b=f[5],a=f[6],c=f[7],q=f[8];m.k||(m.k={});m.Fa||(m.Fa={});m.Ka||(m.Ka={});var d=m.k,e=m.Fa,h=m.Ka;v&&(d.yv=function(a,b){return Sb(this.x,a,b)},d.zv=function(a,b){return Sb(this.y,a,b)},d.Fv=function(){var a=this.j;this.ba();var b=this.ea;return!(b.right<a.Z||b.bottom<a.aa||b.left>a.da||b.top>a.ca)},d.Gv=function(){this.ba();var a=this.ea,b=this.b.V;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.Sv=function(a,b,c){var d=this.R(),
e=d.Vb();if(!e.length)return!1;var f=e[0],h=f,q=U(f.x,f.y,b,c),m,p,n;m=1;for(p=e.length;m<p;m++)if(f=e[m],n=U(f.x,f.y,b,c),0===a&&n<q||1===a&&n>q)q=n,h=f;d.jg(h);return!0},e.lw=function(a){this.x!==a&&(this.x=a,this.Q())},e.mw=function(a){this.y!==a&&(this.y=a,this.Q())},e.gw=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Q()},e.hw=function(a,b){var c=a.it(this);if(c){var d;c.Rg?(d=c.Rg(b,!0),c=c.Rg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Q()}},e.Lv=function(a){0!==
a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.Q())},e.Kv=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.Q())},h.nk=function(a){a.F(this.x)},h.ok=function(a){a.F(this.y)},h.Mf=function(a){a.F(this.b.Ue(this))});t&&(d.xv=function(a,b){return Sb(this.width,a,b)},d.vv=function(a,b){return Sb(this.height,a,b)},e.Tq=function(a){this.width!==a&&(this.width=a,this.Q())},e.dw=function(a){this.height!==a&&(this.height=a,this.Q())},e.iw=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.Q()},h.qw=function(a){a.F(this.width)},h.Bv=function(a){a.F(this.height)},h.rv=function(a){this.ba();a.F(this.ea.left)},h.tv=function(a){this.ba();a.F(this.ea.top)},h.sv=function(a){this.ba();a.F(this.ea.right)},h.qv=function(a){this.ba();a.F(this.ea.bottom)});b&&(d.kq=function(a,b){return Ka(this.i,T(b))<=T(a)},d.xq=function(a){return Ma(this.i,T(a))},d.wq=function(a,b){var c=Ia(a),d=Ia(b),e=Ga(this.i);return Ma(d,c)?Ma(e,c)&&!Ma(e,d):!(!Ma(e,c)&&
Ma(e,d))},e.$v=function(a){a=T(Fa(a));isNaN(a)||this.i===a||(this.i=a,this.Q())},e.Wv=function(a){0===a||isNaN(a)||(this.i+=T(a),this.i=Ga(this.i),this.Q())},e.Xv=function(a){0===a||isNaN(a)||(this.i-=T(a),this.i=Ga(this.i),this.Q())},e.Yv=function(a,b){var c=La(this.i,T(b),T(a));isNaN(c)||this.i===c||(this.i=c,this.Q())},e.Zv=function(a,b,c){a=La(this.i,Math.atan2(c-this.y,b-this.x),T(a));isNaN(a)||this.i===a||(this.i=a,this.Q())},e.jw=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||
this.i===c||(this.i=c,this.Q())},h.pv=function(a){a.F(Ha(this.i))});n||(d.oq=function(a,b,c){return Sb(this.Ma[a],b,c)},d.Dv=function(a){return this.Ma[a]},d.Tv=function(a,b){var c=this.R(),d=c.Vb();if(!d.length)return!1;var e=d[0],f=e,h=e.Ma[b],q,m,p;q=1;for(m=d.length;q<m;q++)if(e=d[q],p=e.Ma[b],0===a&&p<h||1===a&&p>h)h=p,f=e;c.jg(f);return!0},d.Rv=function(a){var b,c,d,e,f;if(this.b.Fi().Mi){f=this.R();if(f.Y)for(f.Y=!1,S(f.d),S(f.L),d=this.d,b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.L.push(e):
f.d.push(e);else{d=b=0;for(c=f.d.length;b<c;b++)e=f.d[b],f.d[d]=e,e.uid===a?f.L.push(e):d++;ya(f.d,d)}this.uc();return!!f.d.length}e=this.b.bl(a);if(!e)return!1;f=this.R();if(!f.Y&&-1===f.d.indexOf(e))return!1;if(this.B)for(a=e.type.qa,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.jg(e),this.uc(),!0}else if(e.type===this)return f.jg(e),this.uc(),!0;return!1},d.Ef=function(){return!0},d.Hq=function(){return!0},e.ew=function(a,b){var c=this.Ma;ha(c[a])?c[a]=ha(b)?b:parseFloat(b):I(c[a])&&(c[a]=I(b)?
b:b.toString())},e.ov=function(a,b){var c=this.Ma;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):I(c[a])&&(c[a]=I(b)?c[a]+b:c[a]+b.toString())},e.Wq=function(a,b){var c=this.Ma;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},e.aw=function(a,b){this.Ma[a]=b?1:0},e.ow=function(a){this.Ma[a]=1-this.Ma[a]},e.sq=function(){this.b.Fe(this)},e.Bq||(e.Bq=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.bj(this,b,!0);this.cd&&this.cd();if(this.N)for(a=0,b=this.N.length;a<b;++a)c=this.N[a],c.cd&&
c.cd()}),h.Av=function(a){var b=a.qf.d.length,c,d,e;c=0;for(d=this.b.Kc.length;c<d;c++)e=this.b.Kc[c],a.qf.B?0<=e.type.qa.indexOf(a.qf)&&b++:e.type===a.qf&&b++;a.ka(b)},h.Vv=function(a){a.ka(a.qf.R().Vb().length)},h.pw=function(a){a.ka(this.uid)},h.Cv=function(a){a.ka(this.Ug())},h.lq||(h.lq=function(a){a.$b(JSON.stringify(this.b.pm(this,!0)))}));a&&(d.Hv=function(){return this.visible},e.kw=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.X=!0)},d.wv=function(a,b){return Sb(bb(100*this.opacity),
a,b)},e.fw=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.X=!0)},h.Opacity=function(a){a.F(bb(100*this.opacity))});c&&(d.Ev=function(a){return a?this.j===a:!1},d.Uv=function(a){var b=this.R(),c=b.Vb();if(!c.length)return!1;var d=c[0],e=d,f,h;f=1;for(h=c.length;f<h;f++)if(d=c[f],0===a){if(d.j.index>e.j.index||d.j.index===e.j.index&&d.jd()>e.jd())e=d}else if(d.j.index<e.j.index||d.j.index===e.j.index&&d.jd()<e.jd())e=d;b.jg(e);return!0},e.Ov=function(){var a=this.j,
b=a.d;b.length&&b[b.length-1]===this||(a.ng(this,!1),a.Dg(this,!1),this.b.X=!0)},e.Mv=function(){var a=this.j,b=a.d;b.length&&b[0]===this||(a.ng(this,!1),a.xu(this),this.b.X=!0)},e.Nv=function(a){a&&a!=this.j&&(this.j.ng(this,!0),this.j=a,a.Dg(this,!0),this.b.X=!0)},e.sw=function(a,b){var c=0===a;if(b){var d=b.ct(this);d&&d.uid!==this.uid&&(this.j.index!==d.j.index&&(this.j.ng(this,!0),this.j=d.j,d.j.Dg(this,!0)),this.j.bu(this,d,c),this.b.X=!0)}},h.Jv=function(a){a.ka(this.j.Yo)},h.Iv=function(a){a.$b(this.j.name)},
h.rw=function(a){a.ka(this.jd())});q&&(e.bw=function(a,b){if(this.b.n){var c=this.type.Zk(b);if(!(0>c)){var d=1===a;this.Qd[c]!==d&&(this.Qd[c]=d,this.Zc(),this.b.X=!0)}}},e.cw=function(a,b,c){if(this.b.n){var d=this.type.Zk(a);0>d||(a=this.type.J[d],d=this.ya[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.n.lt(a.Ia,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Ta&&(this.b.X=!0))))}})};yb=function(){this.wk=this.ei=!0;this.type.Xh=!0;this.b.X=!0;var f,m,n=this.tk;f=0;for(m=n.length;f<m;++f)n[f](this);this.j.qc&&
this.ba()};zb=function(f){f&&this.tk.push(f)};Bb=function(){if(this.ei){var f=this.ea,m=this.Ya;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.Ib*this.width,-this.Jb*this.height);this.i?(f.offset(-this.x,-this.y),m.Gp(f,this.i),m.offset(this.x,this.y),m.pn(f)):m.Ae(f);f.normalize();this.ei=!1;this.dq()}};var f=new P(0,0,0,0);Cb=function(){if(this.j.qc){var p=this.j.hb,m=this.ea;f.set(p.Db(m.left),p.Eb(m.top),p.Db(m.right),p.Eb(m.bottom));this.Nb.Kg(f)||(this.Nb.right<this.Nb.left?
p.update(this,null,f):p.update(this,this.Nb,f),this.Nb.Hf(f),this.j.Vc=!0)}};Db=function(){if(this.wk&&this.fd){this.ba();var p=this.type.ii,m=this.ea;f.set(p.Db(m.left),p.Eb(m.top),p.Db(m.right),p.Eb(m.bottom));this.Wd.Kg(f)||(this.Wd.right<this.Wd.left?p.update(this,null,f):p.update(this,this.Wd,f),this.Wd.Hf(f),this.wk=!1)}};Ab=function(f,m){return this.ea.yb(f,m)&&this.Ya.yb(f,m)?this.T&&!this.T.df()?(this.T.Le(this.width,this.height,this.i),this.T.yb(f-this.x,m-this.y)):!0:!1};ub=function(){this.type.ck();
return this.Ye};Eb=function(){this.j.Km();return this.$c};Fb=function(){S(this.U);var f,m,n,v=!0;f=0;for(m=this.Qd.length;f<m;f++)this.Qd[f]&&(n=this.type.J[f],this.U.push(n),n.Qc||(v=!1));this.gq=!!this.U.length;this.Id=v};vb=function(){return"Inst"+this.rp};ib=function(f){if(f&&f.Ab&&f.type!=this){var m,n,v;m=0;for(n=f.siblings.length;m<n;m++)if(v=f.siblings[m],v.type==this)return v}f=this.R().Vb();return f.length?f[0]:null};jb=function(f){var m=this.R().Vb();return m.length?m[f.Ug()%m.length]:
null};hb=function(){if(this.sg&&!this.B){var f,m;f=0;for(m=this.d.length;f<m;f++)this.d[f].Ye=f;var n=f,v=this.b.Kc;f=0;for(m=v.length;f<m;++f)v[f].type===this&&(v[f].Ye=n++);this.sg=!1}};sb=function(f){if(f<this.d.length)return this.d[f];f-=this.d.length;var m=this.b.Kc,n,v;n=0;for(v=m.length;n<v;++n)if(m[n].type===this){if(0===f)return m[n];--f}return null};kb=function(){return this.Kd[this.gd]};lb=function(){this.gd++;this.gd===this.Kd.length?this.Kd.push(new gb(this)):(this.Kd[this.gd].Y=!0,S(this.Kd[this.gd].L))};
mb=function(){this.gd++;this.gd===this.Kd.length&&this.Kd.push(new gb(this));var f=this.Kd[this.gd],m=this.Kd[this.gd-1];m.Y?(f.Y=!0,S(f.L)):(f.Y=!1,za(f.d,m.d),za(f.L,m.L))};nb=function(){this.gd--};ob=function(f){var m,n,v,t,b,a=0;if(!this.B)for(m=0,n=this.qa.length;m<n;m++)for(b=this.qa[m],v=0,t=b.wa.length;v<t;v++){if(f===b.wa[v].name)return this.C.lastBehIndex=a,b.wa[v];a++}m=0;for(n=this.wa.length;m<n;m++){if(f===this.wa[m].name)return this.C.lastBehIndex=a,this.wa[m];a++}return null};pb=function(f){return this.Di(f)?
this.C.lastBehIndex:-1};qb=function(f){var m,n;m=0;for(n=this.J.length;m<n;m++)if(this.J[m].name===f)return m;return-1};rb=function(){if(this.Ab&&!this.B){var f,m,n,v,t,b,a;this.ck();b=this.R();var c=b.Y,q=(f=this.b.La())&&f.Fb&&f.Fb.nc;f=0;for(m=this.Tb.length;f<m;f++)if(t=this.Tb[f],t!==this&&(t.ck(),a=t.R(),a.Y=c,!c)){S(a.d);n=0;for(v=b.d.length;n<v;++n)a.d[n]=t.$k(b.d[n].Ye);if(q)for(S(a.L),n=0,v=b.L.length;n<v;++n)a.L[n]=t.$k(b.L[n].Ye)}}};tb=function(){return"Type"+this.M};Sb=function(f,m,n){if("undefined"===
typeof f||"undefined"===typeof n)return!1;switch(m){case 0:return f===n;case 1:return f!==n;case 2:return f<n;case 3:return f<=n;case 4:return f>n;case 5:return f>=n;default:return!1}}})();var ac={};function ec(f){this.b=f}
(function(){function f(f){this.ia=f;this.Ta=!1;this.i=this.speed=this.y=this.x=0;this.opacity=1;this.Sd=this.Sf=this.size=this.Ji=0}var p=ec.prototype;p.Ea=function(f){this.ja=f;this.b=f.b};var m=p.Ea.prototype;m.W=function(){this.B||(this.I=new Image,this.I.Fk=this.Wj,this.S=null,this.b.Nm(this.I,this.Vj))};m.Ah=function(){this.B||(this.S=null)};m.lj=function(){this.B||!this.d.length||this.S||(this.S=this.b.n.dg(this.I,!0,this.b.ga,this.Ph))};m.mh=function(){this.B||this.S||!this.b.n||(this.S=this.b.n.dg(this.I,
!0,this.b.ga,this.Ph))};m.bk=function(){this.B||this.d.length||!this.S||(this.b.n.deleteTexture(this.S),this.S=null)};m.wj=function(f){f.drawImage(this.I,0,0)};f.prototype.init=function(){var f=this.ia;this.x=f.x-f.hk/2+Math.random()*f.hk;this.y=f.y-f.ik/2+Math.random()*f.ik;this.speed=f.pl-f.Lj/2+Math.random()*f.Lj;this.i=f.i-f.Mj/2+Math.random()*f.Mj;this.opacity=f.nl;this.size=f.ol-f.Kj/2+Math.random()*f.Kj;this.Ji=f.gl-f.Ki/2+Math.random()*f.Ki;this.Sd=this.Sf=0};f.prototype.Rb=function(f){var m=
this.ia;this.x+=Math.cos(this.i)*this.speed*f;this.y+=Math.sin(this.i)*this.speed*f;this.y+=this.Sf*f;this.speed+=m.rc*f;this.size+=this.Ji*f;this.Sf+=m.ae*f;this.Sd+=f;1>this.size?this.Ta=!1:(0!==m.jh&&(this.i+=Math.random()*m.jh*f-m.jh*f/2),0!==m.lh&&(this.speed+=Math.random()*m.lh*f-m.lh*f/2),0!==m.kh&&(this.opacity+=Math.random()*m.kh*f-m.kh*f/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=m.Lf&&this.Sd>=m.timeout&&(this.Ta=!1),2===m.Lf&&0>=this.speed&&(this.Ta=!1))};f.prototype.hc=
function(f){var m=this.ia.opacity*this.opacity;if(0!==m){0===this.ia.Lf&&(m*=1-this.Sd/this.ia.timeout);f.globalAlpha=m;var m=this.x-this.size/2,b=this.y-this.size/2;this.ia.b.oc&&(m=m+.5|0,b=b+.5|0);f.drawImage(this.ia.type.I,m,b,this.size,this.size)}};f.prototype.pb=function(f){var m=this.ia.opacity*this.opacity;0===this.ia.Lf&&(m*=1-this.Sd/this.ia.timeout);var b=this.size,a=b*this.ia.lp,c=this.x-b/2,q=this.y-b/2;this.ia.b.oc&&(c=c+.5|0,q=q+.5|0);1>a||0===m||(a<f.au||a>f.Nl?(f.ze(m),f.lg(c,q,c+
b,q,c+b,q+b,c,q+b)):f.ru(this.x,this.y,a,m))};f.prototype.left=function(){return this.x-this.size/2};f.prototype.right=function(){return this.x+this.size/2};f.prototype.top=function(){return this.y-this.size/2};f.prototype.bottom=function(){return this.y+this.size/2};p.na=function(f){this.type=f;this.b=f.b};var m=p.na.prototype,n=[];m.W=function(){var f=this.D;this.Bj=f[0];this.Mj=T(f[1]);this.qg=f[2];this.wm=!0;this.pl=f[3];this.ol=f[4];this.nl=f[5]/100;this.gl=f[6];this.hk=f[7];this.ik=f[8];this.Lj=
f[9];this.Kj=f[10];this.Ki=f[11];this.rc=f[12];this.ae=f[13];this.jh=f[14];this.lh=f[15];this.kh=f[16];this.Lf=f[17];this.timeout=f[18];this.tf=0;this.lp=1;this.qj=this.x;this.sj=this.y;this.rj=this.x;this.pj=this.y;this.ir(function(f){f.ea.set(f.qj,f.sj,f.rj,f.pj);f.Ya.Ae(f.ea);f.ei=!1;f.Lm();f.dq()});this.Mb||(this.Bb=[]);this.b.Bm(this);this.type.mh();if(1===this.qg)for(f=0;f<this.Bj;f++)this.pk().opacity=0;this.yi=!0};m.Cb=function(){var f={r:this.Bj,sc:this.Mj,st:this.qg,s:this.wm,isp:this.pl,
isz:this.ol,io:this.nl,gr:this.gl,xr:this.hk,yr:this.ik,spr:this.Lj,szr:this.Kj,grnd:this.Ki,acc:this.rc,g:this.ae,lar:this.jh,lsr:this.lh,lor:this.kh,dm:this.Lf,to:this.timeout,pcc:this.tf,ft:this.yi,p:[]},m,b,a,c=f.p;m=0;for(b=this.Bb.length;m<b;m++)a=this.Bb[m],c.push([a.x,a.y,a.speed,a.i,a.opacity,a.Ji,a.size,a.Sf,a.Sd]);return f};m.Xb=function(f){this.Bj=f.r;this.Mj=f.sc;this.qg=f.st;this.wm=f.s;this.pl=f.isp;this.ol=f.isz;this.nl=f.io;this.gl=f.gr;this.hk=f.xr;this.ik=f.yr;this.Lj=f.spr;this.Kj=
f.szr;this.Ki=f.grnd;this.rc=f.acc;this.ae=f.g;this.jh=f.lar;this.lh=f.lsr;this.kh=f.lor;this.Lf=f.dm;this.timeout=f.to;this.tf=f.pcc;this.yi=f.ft;n.push.apply(n,this.Bb);S(this.Bb);var m,b,a,c=f.p;f=0;for(m=c.length;f<m;f++)b=this.pk(),a=c[f],b.x=a[0],b.y=a[1],b.speed=a[2],b.i=a[3],b.opacity=a[4],b.Ji=a[5],b.size=a[6],b.Sf=a[7],b.Sd=a[8]};m.te=function(){n.push.apply(n,this.Bb);S(this.Bb)};m.pk=function(){var m;n.length?(m=n.pop(),m.ia=this):m=new f(this);this.Bb.push(m);m.Ta=!0;return m};m.Rb=function(){var f=
this.b.Ue(this),m,b,a,c;if(0===this.qg&&this.wm)for(this.tf+=f*this.Bj,b=K(this.tf),this.tf-=b,m=0;m<b;m++)a=this.pk(),a.init();this.qj=this.x;this.sj=this.y;this.rj=this.x;this.pj=this.y;c=m=0;for(b=this.Bb.length;m<b;m++)a=this.Bb[m],this.Bb[c]=a,this.b.X=!0,1===this.qg&&this.yi&&a.init(),a.Rb(f),a.Ta?(a.left()<this.qj&&(this.qj=a.left()),a.right()>this.rj&&(this.rj=a.right()),a.top()<this.sj&&(this.sj=a.top()),a.bottom()>this.pj&&(this.pj=a.bottom()),c++):n.push(a);ya(this.Bb,c);this.Q();this.yi=
!1;1===this.qg&&0===this.Bb.length&&this.b.Fe(this)};m.hc=function(f){var m,b,a,c=this.j;m=0;for(b=this.Bb.length;m<b;m++)a=this.Bb[m],a.right()>=c.Z&&a.bottom()>=c.aa&&a.left()<=c.da&&a.top()<=c.ca&&a.hc(f)};m.pb=function(f){this.lp=this.j.Hb();f.Ob(this.type.S);var m,b,a,c=this.j;m=0;for(b=this.Bb.length;m<b;m++)a=this.Bb[m],a.right()>=c.Z&&a.bottom()>=c.aa&&a.left()<=c.da&&a.top()<=c.ca&&a.pb(f)};p.k=new function(){};p.Fa=new function(){};p.Ka=new function(){}})();function dc(f){this.b=f}
(function(){function f(){if(0===this.Jk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.rg?b.drawImage(this.I,this.gg,this.hg,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.I,0,0,this.width,this.height);this.Jk=a.toDataURL("image/png")}return this.Jk}function p(){}function m(a){a[0]=0;a[1]=0;a[2]=0;h.push(a)}function n(a,b){return a<b?""+a+","+b:""+b+","+a}function v(a,b,c,d){b=b.uid;c=c.uid;var e=n(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=h.length?h.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[e]=f}}function t(a,b,c){b=n(b.uid,c.uid);a.hasOwnProperty(b)&&(m(a[b]),delete a[b])}function b(a,b,c){b=n(b.uid,c.uid);if(a.hasOwnProperty(b))return g=a[b][2],!0;g=-2;return!1}function a(){}var c=dc.prototype;c.Ea=function(a){this.ja=a;this.b=a.b};var q=c.Ea.prototype;q.W=function(){if(!this.B){var a,b,c,d,e,g,k,h,l;this.Gc=[];this.Xg=!1;a=0;for(b=this.Sb.length;a<b;a++){e=this.Sb[a];k={};k.name=e[0];k.speed=e[1];k.loop=e[2];k.km=e[3];k.lm=
e[4];k.mp=e[5];k.M=e[6];k.frames=[];c=0;for(d=e[7].length;c<d;c++)g=e[7][c],h={},h.Vj=g[0],h.Wj=g[1],h.gg=g[2],h.hg=g[3],h.width=g[4],h.height=g[5],h.duration=g[6],h.Ib=g[7],h.Jb=g[8],h.kl=g[9],h.tj=g[10],h.np=g[11],h.rg=0!==h.width,h.Jk="",h.xw=f,l={left:0,top:0,right:1,bottom:1},h.vm=l,h.S=null,(l=this.b.Us(g[0]))?h.I=l:(h.I=new Image,h.I.Cr=g[0],h.I.Fk=g[1],h.I.qr=null,this.b.Nm(h.I,g[0])),k.frames.push(h),this.Gc.push(h);this.Sb[a]=k}}};q.cq=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=
this.d[a],c.li=c.Za.S};q.Ah=function(){if(!this.B){var a,b,c;a=0;for(b=this.Gc.length;a<b;++a)c=this.Gc[a],c.I.qr=null,c.S=null;this.Xg=!1;this.cq()}};q.lj=function(){if(!this.B&&this.d.length){var a,b,c;a=0;for(b=this.Gc.length;a<b;++a)c=this.Gc[a],c.S=this.b.n.dg(c.I,!1,this.b.ga,c.np);this.cq()}};q.mh=function(){if(!this.B&&!this.Xg&&this.b.n){var a,b,c;a=0;for(b=this.Gc.length;a<b;++a)c=this.Gc[a],c.S=this.b.n.dg(c.I,!1,this.b.ga,c.np);this.Xg=!0}};q.bk=function(){if(!this.B&&!this.d.length&&
this.Xg){var a,b,c;a=0;for(b=this.Gc.length;a<b;++a)c=this.Gc[a],this.b.n.deleteTexture(c.S),c.S=null;this.Xg=!1}};var d=[];q.wj=function(a){var b,c,e;S(d);b=0;for(c=this.Gc.length;b<c;++b)e=this.Gc[b].I,-1===d.indexOf(e)&&(a.drawImage(e,0,0),d.push(e))};c.na=function(a){this.type=a;this.b=a.b;a=this.type.Sb[0].frames[0].tj;this.Mb?this.T.Ih(a):this.T=new Wa(a)};var e=c.na.prototype;e.W=function(){this.visible=0===this.D[0];this.fd=0!==this.D[3];this.la=this.Pn(this.D[1])||this.type.Sb[0];this.A=
this.D[2];0>this.A&&(this.A=0);this.A>=this.la.frames.length&&(this.A=this.la.frames.length-1);var a=this.la.frames[this.A];this.T.Ih(a.tj);this.Ib=a.Ib;this.Jb=a.Jb;this.If=this.la.speed;this.Zd=this.la.lm;1===this.type.Sb.length&&1===this.type.Sb[0].frames.length||0===this.If||this.b.Bm(this);this.Mb?this.dd.reset():this.dd=new Ua;this.Bd=this.dd.ma;this.He=!0;this.sd=0;this.Ge=!0;this.Ak=this.hn="";this.sr=0;this.zk=-1;this.type.mh();var b,c,d,e,f,g,k,a=0;for(b=this.type.Sb.length;a<b;a++)for(e=
this.type.Sb[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.I.width,f.height=f.I.height),f.rg&&(k=f.I,g=f.vm,g.left=f.gg/k.width,g.top=f.hg/k.height,g.right=(f.gg+f.width)/k.width,g.bottom=(f.hg+f.height)/k.height,0===f.gg&&0===f.hg&&f.width===k.width&&f.height===k.height&&(f.rg=!1));this.Za=this.la.frames[this.A];this.li=this.Za.S};e.Cb=function(){var a={a:this.la.M,f:this.A,cas:this.If,fs:this.Bd,ar:this.sd,at:this.dd.ma,rt:this.Zd};this.He||(a.ap=this.He);this.Ge||(a.af=
this.Ge);return a};e.Xb=function(a){var b=this.Ys(a.a);b&&(this.la=b);this.A=a.f;0>this.A&&(this.A=0);this.A>=this.la.frames.length&&(this.A=this.la.frames.length-1);this.If=a.cas;this.Bd=a.fs;this.sd=a.ar;this.dd.reset();this.dd.ma=a.at;this.He=a.hasOwnProperty("ap")?a.ap:!0;this.Ge=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Zd=a.rt:this.Zd=this.la.lm;this.Za=this.la.frames[this.A];this.li=this.Za.S;this.T.Ih(this.Za.tj);this.Ib=this.Za.Ib;this.Jb=this.Za.Jb};e.sk=function(a){this.A=
a?0:this.la.frames.length-1;this.He=!1;this.hn=this.la.name;this.b.trigger(dc.prototype.k.Dq,this);this.b.trigger(dc.prototype.k.Cq,this);this.sd=0};e.$h=function(){return this.dd.ma};e.Rb=function(){this.dd.add(this.b.Ue(this));this.Ak.length&&this.Hr();0<=this.zk&&this.Ir();var a=this.dd.ma,b=this.la,c=b.frames[this.A],d=c.duration/this.If;this.He&&a>=this.Bd+d&&(this.Ge?this.A++:this.A--,this.Bd+=d,this.A>=b.frames.length&&(b.mp?(this.Ge=!1,this.A=b.frames.length-2):b.loop?this.A=this.Zd:(this.sd++,
this.sd>=b.km?this.sk(!1):this.A=this.Zd)),0>this.A&&(b.mp?(this.A=1,this.Ge=!0,b.loop||(this.sd++,this.sd>=b.km&&this.sk(!0))):b.loop?this.A=this.Zd:(this.sd++,this.sd>=b.km?this.sk(!0):this.A=this.Zd)),0>this.A?this.A=0:this.A>=b.frames.length&&(this.A=b.frames.length-1),a>this.Bd+b.frames[this.A].duration/this.If&&(this.Bd=a),a=b.frames[this.A],this.Ff(c,a),this.b.X=!0)};e.Pn=function(a){var b,c,d;b=0;for(c=this.type.Sb.length;b<c;b++)if(d=this.type.Sb[b],cb(d.name,a))return d;return null};e.Ys=
function(a){var b,c,d;b=0;for(c=this.type.Sb.length;b<c;b++)if(d=this.type.Sb[b],d.M===a)return d;return null};e.Hr=function(){var a=this.la.frames[this.A],b=this.Pn(this.Ak);this.Ak="";!b||cb(b.name,this.la.name)&&this.He||(this.la=b,this.If=b.speed,this.Zd=b.lm,0>this.A&&(this.A=0),this.A>=this.la.frames.length&&(this.A=this.la.frames.length-1),1===this.sr&&(this.A=0),this.He=!0,this.Bd=this.dd.ma,this.Ge=!0,this.Ff(a,this.la.frames[this.A]),this.b.X=!0)};e.Ir=function(){var a=this.la.frames[this.A],
b=this.A;this.A=K(this.zk);0>this.A&&(this.A=0);this.A>=this.la.frames.length&&(this.A=this.la.frames.length-1);b!==this.A&&(this.Ff(a,this.la.frames[this.A]),this.Bd=this.dd.ma,this.b.X=!0);this.zk=-1};e.Ff=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Ib=b.Ib;this.Jb=b.Jb;this.T.Ih(b.tj);this.Q();this.Za=b;this.li=b.S;c=0;for(d=this.N.length;c<d;c++)e=this.N[c],e.ku&&e.ku(a,b);this.b.trigger(dc.prototype.k.Ff,this)};e.hc=function(a){a.globalAlpha=
this.opacity;var b=this.Za,c=b.rg,d=b.I,e=this.x,f=this.y,g=this.width,k=this.height;if(0===this.i&&0<=g&&0<=k)e-=this.Ib*g,f-=this.Jb*k,this.b.oc&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.gg,b.hg,b.width,b.height,e,f,g,k):a.drawImage(d,e,f,g,k);else{this.b.oc&&(e=Math.round(e),f=Math.round(f));a.save();var h=0<g?1:-1,l=0<k?1:-1;a.translate(e,f);1===h&&1===l||a.scale(h,l);a.rotate(this.i*h*l);e=0-this.Ib*ka(g);f=0-this.Jb*ka(k);c?a.drawImage(d,b.gg,b.hg,b.width,b.height,e,f,ka(g),ka(k)):
a.drawImage(d,e,f,ka(g),ka(k));a.restore()}};e.Ne=function(a){this.pb(a)};e.pb=function(a){a.Ob(this.li);a.ze(this.opacity);var b=this.Za,c=this.Ya;if(this.b.oc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.rg?a.nd(c.Ra+d,c.Sa+e,c.ub+d,c.wb+e,c.mb+d,c.nb+e,c.kb+d,c.lb+e,b.vm):a.lg(c.Ra+d,c.Sa+e,c.ub+d,c.wb+e,c.mb+d,c.nb+e,c.kb+d,c.lb+e)}else b.rg?a.nd(c.Ra,c.Sa,c.ub,c.wb,c.mb,c.nb,c.kb,c.lb,b.vm):a.lg(c.Ra,c.Sa,c.ub,c.wb,c.mb,c.nb,c.kb,c.lb)};e.et=function(a){var b=this.Za,c,d;c=
0;for(d=b.kl.length;c<d;c++)if(cb(a,b.kl[c][0]))return c;return-1};e.Rg=function(a,b){var c=this.Za,d=c.kl,e;I(a)?e=this.et(a):e=a-1;e=K(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Ib)*this.width,d=d[e][2],d=(d-c.Jb)*this.height,c=Math.cos(this.i);e=Math.sin(this.i);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var h=[],g=-2,r=[];p.prototype.Gq=function(a){if(!a)return!1;var c=this.b,d=c.Fi(),e=d.type,f=null;d.C.collmemory?f=d.C.collmemory:(f={},d.C.collmemory=f);
d.C.spriteCreatedDestroyCallback||(d.C.spriteCreatedDestroyCallback=!0,c.dn(function(a){var b=d.C.collmemory;a=a.uid;var c,e;for(c in b)b.hasOwnProperty(c)&&(e=b[c],e[0]===a||e[1]===a)&&(m(b[c]),delete b[c])}));var k=e.R(),h=a.R(),k=k.Vb(),l,q,n,p,u,w,aa,G=this.b.qd,D=G-1,H=c.La().Fb;for(q=0;q<k.length;q++){n=k[q];h.Y?(n.ba(),this.b.Ei(n.j,a,n.ea,r),l=r):l=h.Vb();for(p=0;p<l.length;p++)u=l[p],c.Ce(n,u)||c.tr(n,u)?(w=b(f,n,u),w=!w||g<D,v(f,n,u,G),w&&(c.yj(H.ua),w=e.R(),aa=a.R(),w.Y=!1,aa.Y=!1,e===
a?(w.d.length=2,w.d[0]=n,w.d[1]=u,e.uc()):(w.d.length=1,aa.d.length=1,w.d[0]=n,aa.d[0]=u,e.uc(),a.uc()),H.Ku(),c.uf(H.ua))):t(f,n,u);S(r)}return!1};var k=null,w=new da,l=!1,u=[],aa=new P(0,0,0,0);q.finish=function(a){if(l){if(a){var b=this.b.La().Fb.nc;a=k.R();var c=w.Ee(),d,e;if(a.Y){a.Y=!1;S(a.d);d=0;for(e=c.length;d<e;++d)a.d[d]=c[d];if(b)for(S(a.L),d=0,e=k.d.length;d<e;++d)c=k.d[d],w.contains(c)||a.L.push(c)}else if(b)for(b=a.d.length,d=0,e=c.length;d<e;++d)a.d[b+d]=c[d],Ca(a.L,c[d]);else za(a.d,
c);k.uc()}w.clear();l=!1}};p.prototype.zq=function(a){if(a){var b=!1,c,d,e,f=this.b.Fi(),g=f.type,f=f.Mi;c=a.R();d=this.b.La().Fb.nc;var h;c.Y?(this.ba(),aa.Hf(this.ea),aa.offset(0,0),this.b.Ei(this.j,a,aa,u),h=u):h=d?this.b.Nt()&&!c.L.length&&c.d.length?c.d:c.L:c.d;k=a;l=g!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.b.Ce(this,e)){b=!0;if(f)break;g!==a&&w.add(e)}S(u);a=b}else a=!1;return a};p.prototype.Cq=function(a){return cb(this.hn,a)};p.prototype.Dq=function(){return!0};p.prototype.Ff=function(){return!0};
c.k=new p;a.prototype.Uq=function(a,b,c){if(a&&b&&(b=this.b.Gk(a,b,this.Rg(c,!0),this.Rg(c,!1)))){"undefined"!==typeof b.i&&(b.i=this.i,b.Q());this.b.lc++;var d,e,f;this.b.trigger(Object.getPrototypeOf(a.ja).k.Ef,b);if(b.Ab)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.ja).k.Ef,f);this.b.lc--;d=this.b.bt();c=!1;if(ga(d.C.Spawn_LastExec)||d.C.Spawn_LastExec<this.b.Se)c=!0,d.C.Spawn_LastExec=this.b.Se;if(a!=this.type&&(a=a.R(),a.Y=!1,c?(S(a.d),a.d[0]=
b):a.d.push(b),b.Ab))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.R(),a.Y=!1,c?(S(a.d),a.d[0]=f):a.d.push(f)}};c.Fa=new a;c.Ka=new function(){}})();function fc(f){this.b=f}
(function(){function f(){return b.length?b.pop():{}}function p(a){var c,f;c=0;for(f=a.length;c<f;c++)b.push(a[c]);S(a)}function m(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}var n=fc.prototype;n.W=function(){n.Fa.Tq=function(a){this.width!==a&&(this.width=a,this.ug=!0,this.Q())}};n.Ea=function(a){this.ja=a;this.b=a.b};var v=n.Ea.prototype;v.W=function(){};v.Ah=function(){if(!this.B){var a,b,f;a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.ld=null,f.pf=null,f.Yb=null}};
n.na=function(a){this.type=a;this.b=a.b;this.Mb?S(this.ne):this.ne=[];this.ug=!0};v=n.na.prototype;v.W=function(){this.text=this.D[0];this.visible=0===this.D[1];this.font=this.D[2];this.color=this.D[3];this.Li=this.D[4];this.ek=this.D[5];this.Om=0===this.D[7];this.Fl=this.Yi=this.width;this.Xi=this.height;this.Hl=this.D[8];this.Ai=this.Nf="";this.Rp=this.Sp=this.Dh=0;this.nu();this.Yb=this.pf=this.ld=null;this.Wo=!1;this.ih=this.b.qd;this.Mb?this.we.set(0,0,1,1):this.we=new P(0,0,1,1);this.b.n&&this.b.Bm(this)};
v.nu=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Dh=parseInt(a[b].substr(0,a[b].length-2));this.fm=Math.ceil(this.Dh/72*96)+4;0<b&&(this.Ai=a[b-1]);this.Nf=a[b+1];for(b+=2;b<a.length;b++)this.Nf+=" "+a[b];break}};v.Cb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Li,va:this.ek,wr:this.Om,lho:this.Hl,fn:this.Nf,fs:this.Ai,ps:this.Dh,pxh:this.fm,tw:this.Sp,th:this.Rp,lrt:this.ih}};v.Xb=function(a){this.text=a.t;this.font=
a.f;this.color=a.c;this.Li=a.ha;this.ek=a.va;this.Om=a.wr;this.Hl=a.lho;this.Nf=a.fn;this.Ai=a.fs;this.Dh=a.ps;this.fm=a.pxh;this.Sp=a.tw;this.Rp=a.th;this.ih=a.lrt;this.ug=!0;this.Fl=this.Yi=this.width;this.Xi=this.height};v.Rb=function(){if(this.b.n&&this.Yb&&300<=this.b.qd-this.ih){var a=this.j;this.ba();var b=this.ea;if(b.right<a.Z||b.bottom<a.aa||b.left>a.da||b.top>a.ca)this.b.n.deleteTexture(this.Yb),this.ld=this.pf=this.Yb=null}};v.te=function(){this.ld=this.pf=null;this.b.n&&this.Yb&&this.b.n.deleteTexture(this.Yb);
this.Yb=null};v.$h=function(){this.font=this.Ai+" "+this.Dh.toString()+"pt "+this.Nf;this.ug=!0;this.b.X=!0};v.hc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var f=1;b&&(f=Math.abs(this.j.Hb()),a.save(),a.scale(f,f));if(this.ug||this.width!==this.Fl)this.type.ja.Zq(this.text,this.ne,a,this.width,this.Om),this.ug=!1,this.Fl=this.width;this.ba();var f=b?0:this.Ya.Ra,d=b?0:this.Ya.Sa;this.b.oc&&(f=f+.5|0,d=d+.5|0);0===this.i||b||(a.save(),
a.translate(f,d),a.rotate(this.i),d=f=0);var e=d+this.height,h=this.fm,h=h+this.Hl,g,m;1===this.ek?d+=Math.max(this.height/2-this.ne.length*h/2,0):2===this.ek&&(d+=Math.max(this.height-this.ne.length*h-2,0));for(m=0;m<this.ne.length&&!(g=f,1===this.Li?g=f+(this.width-this.ne[m].width)/2:2===this.Li&&(g=f+(this.width-this.ne[m].width)),a.fillText(this.ne[m].text,g,d),d+=h,d>=e-h);m++);(0!==this.i||b)&&a.restore();this.ih=this.b.qd};v.pb=function(a){if(!(1>this.width||1>this.height)){var b=this.ug||
this.Wo;this.Wo=!1;var f=this.j.Hb(),d=this.j.Ub(),e=this.we,h=f*this.width,g=f*this.height,m=Math.ceil(h),k=Math.ceil(g),n=Math.abs(m),l=Math.abs(k),p=this.b.H/2,v=this.b.G/2;this.pf||(this.ld=document.createElement("canvas"),this.ld.width=n,this.ld.height=l,this.Yi=n,this.Xi=l,b=!0,this.pf=this.ld.getContext("2d"));if(n!==this.Yi||l!==this.Xi)this.ld.width=n,this.ld.height=l,this.Yb&&(a.deleteTexture(this.Yb),this.Yb=null),b=!0;b&&(this.pf.clearRect(0,0,n,l),this.hc(this.pf,!0),this.Yb||(this.Yb=
a.gc(n,l,this.b.ga,this.b.ie)),a.lv(this.ld,this.Yb,this.b.ie));this.Yi=n;this.Xi=l;a.Ob(this.Yb);a.ze(this.opacity);a.Bc();a.translate(-p,-v);a.pc();var t=this.Ya,b=this.j.ta(t.Ra,t.Sa,!0,!0),n=this.j.ta(t.Ra,t.Sa,!1,!0),l=this.j.ta(t.ub,t.wb,!0,!0),p=this.j.ta(t.ub,t.wb,!1,!0),v=this.j.ta(t.mb,t.nb,!0,!0),x=this.j.ta(t.mb,t.nb,!1,!0),A=this.j.ta(t.kb,t.lb,!0,!0),t=this.j.ta(t.kb,t.lb,!1,!0);if(this.b.oc||0===this.i&&0===d)var Z=(b+.5|0)-b,Y=(n+.5|0)-n,b=b+Z,n=n+Y,l=l+Z,p=p+Y,v=v+Z,x=x+Y,A=A+Z,t=
t+Y;0===this.i&&0===d?(l=b+m,p=n,v=l,x=n+k,A=b,t=x,e.right=1,e.bottom=1):(e.right=h/m,e.bottom=g/k);a.nd(b,n,l,p,v,x,A,t,e);a.Bc();a.scale(f,f);a.Ej(-this.j.Ub());a.translate((this.j.Z+this.j.da)/-2,(this.j.aa+this.j.ca)/-2);a.pc();this.ih=this.b.qd}};var t=[];n.Yq=function(a){S(t);for(var b="",f,d=0;d<a.length;)if(f=a.charAt(d),"\n"===f)b.length&&(t.push(b),b=""),t.push("\n"),++d;else if(" "===f||"\t"===f||"-"===f){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));
t.push(b);b=""}else d<a.length&&(b+=f,d++);b.length&&t.push(b)};var b=[];n.Zq=function(a,b,m,d,e){if(a&&a.length)if(2>=d)p(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var h=m.measureText(a).width;if(h<=d){p(b);b.push(f());b[0].text=a;b[0].width=h;return}}this.$q(a,b,m,d,e)}else p(b)};n.$q=function(a,c,n,d,e){e&&(this.Yq(a),a=t);var h="",g,p,k,v=0;for(k=0;k<a.length;k++)"\n"===a[k]?(v>=c.length&&c.push(f()),h=m(h),p=c[v],p.text=h,p.width=n.measureText(h).width,v++,h=""):(g=h,h+=a[k],p=n.measureText(h).width,
p>=d&&(v>=c.length&&c.push(f()),g=m(g),p=c[v],p.text=g,p.width=n.measureText(g).width,v++,h=a[k],e||" "!==h||(h="")));h.length&&(v>=c.length&&c.push(f()),h=m(h),p=c[v],p.text=h,p.width=n.measureText(h).width,v++);for(k=v;k<c.length;k++)b.push(c[k]);c.length=v};n.k=new function(){};n.Fa=new function(){};n.Ka=new function(){}})();function gc(f){this.b=f}
(function(){var f=gc.prototype;f.Ea=function(f){this.ja=f;this.b=f.b};var p=f.Ea.prototype;p.W=function(){this.B||(this.I=new Image,this.I.Fk=this.Wj,this.b.Nm(this.I,this.Vj),this.S=this.pattern=null)};p.Ah=function(){this.B||(this.S=null)};p.lj=function(){if(!this.B&&this.d.length){this.S||(this.S=this.b.n.dg(this.I,!0,this.b.ga,this.Ph));var f,n;f=0;for(n=this.d.length;f<n;f++)this.d[f].S=this.S}};p.mh=function(){this.B||this.S||!this.b.n||(this.S=this.b.n.dg(this.I,!0,this.b.ga,this.Ph))};p.bk=
function(){this.B||this.d.length||!this.S||(this.b.n.deleteTexture(this.S),this.S=null)};p.wj=function(f){f.drawImage(this.I,0,0)};f.na=function(f){this.type=f;this.b=f.b};p=f.na.prototype;p.W=function(){this.visible=0===this.D[0];this.we=new P(0,0,0,0);this.Yn=!1;this.I=this.type.I;this.b.n?(this.type.mh(),this.S=this.type.S):(this.type.pattern||(this.type.pattern=this.b.oa.createPattern(this.type.I,"repeat")),this.pattern=this.type.pattern)};p.cd=function(){this.Yn=!1;this.I=this.type.I};p.te=function(){this.b.n&&
this.Yn&&this.S&&(this.b.n.deleteTexture(this.S),this.S=null)};p.hc=function(f){f.globalAlpha=this.opacity;f.save();f.fillStyle=this.pattern;var n=this.x,p=this.y;this.b.oc&&(n=Math.round(n),p=Math.round(p));var t=-(this.Ib*this.width),b=-(this.Jb*this.height),a=t%this.I.width,c=b%this.I.height;0>a&&(a+=this.I.width);0>c&&(c+=this.I.height);f.translate(n,p);f.rotate(this.i);f.translate(a,c);f.fillRect(t-a,b-c,this.width,this.height);f.restore()};p.Ne=function(f){this.pb(f)};p.pb=function(f){f.Ob(this.S);
f.ze(this.opacity);var n=this.we;n.right=this.width/this.I.width;n.bottom=this.height/this.I.height;var p=this.Ya;if(this.b.oc){var t=Math.round(this.x)-this.x,b=Math.round(this.y)-this.y;f.nd(p.Ra+t,p.Sa+b,p.ub+t,p.wb+b,p.mb+t,p.nb+b,p.kb+t,p.lb+b,n)}else f.nd(p.Ra,p.Sa,p.ub,p.wb,p.mb,p.nb,p.kb,p.lb,n)};f.k=new function(){};f.Fa=new function(){};f.Ka=new function(){}})();function X(f){this.b=f}
(function(){function f(a){c=a.x;q=a.y;d=a.z}function p(a,b,c,d){var f;f=e.length?e.pop():new m;f.init(a,b,c,d);return f}function m(){this.Mh=this.id=this.jf=this.hf=this.y=this.x=this.Pj=this.Oj=this.El=this.time=this.ym=0;this.Rh=this.$j=!1}function n(){}function v(){}var t=X.prototype;t.Ea=function(a){this.ja=a;this.b=a.b};t.Ea.prototype.W=function(){};t.na=function(a){this.type=a;this.b=a.b;this.touches=[];this.Pl=!1};var b=t.na.prototype,a={left:0,top:0};b.Og=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var c=0,q=0,d=0,e=[];m.prototype.init=function(a,b,c,d){var e=Qa();this.ym=this.El=this.time=e;this.Oj=a;this.Pj=b;this.x=a;this.y=b;this.hf=a;this.jf=b;this.pressure=this.height=this.width=0;this.id=c;this.Mh=d;this.Rh=this.$j=!1};m.prototype.update=function(a,b,c,d,e,f){this.El=this.time;this.time=a;this.hf=this.x;this.jf=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Rh&&15<=U(this.Oj,this.Pj,this.x,this.y)&&(this.Rh=
!0)};m.prototype.Zt=function(a,b){!this.$j&&500<=Qa()-this.ym&&!this.Rh&&15>U(this.Oj,this.Pj,this.x,this.y)&&(this.$j=!0,a.rd=this.Mh,a.wg=this.id,a.Qf=b,a.b.trigger(X.prototype.k.Mq,a),a.vd=this.x,a.wd=this.y,a.b.trigger(X.prototype.k.Nq,a),a.Qf=0)};var h=-1E3,g=-1E3,r=-1E4;m.prototype.Qo=function(a,b){if(!this.$j){var c=Qa();333>=c-this.ym&&!this.Rh&&15>U(this.Oj,this.Pj,this.x,this.y)&&(a.rd=this.Mh,a.wg=this.id,a.Qf=b,666>=c-r&&25>U(h,g,this.x,this.y)?(a.b.trigger(X.prototype.k.Iq,a),a.vd=this.x,
a.wd=this.y,a.b.trigger(X.prototype.k.Jq,a),g=h=-1E3,r=-1E4):(a.b.trigger(X.prototype.k.Qq,a),a.vd=this.x,a.wd=this.y,a.b.trigger(X.prototype.k.Rq,a),h=this.x,g=this.y,r=c),a.Qf=0)}};b.W=function(){this.Qt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Qf=this.wg=this.rd=this.wd=this.vd=this.bn=this.an=this.$m=this.dr=this.cr=this.br=this.oj=this.nj=this.mj=0;this.iv=0!==this.D[0];var a=0<this.b.Gb?document:this.b.canvas,b=document;this.b.fe?b=a=window.Canvas:this.b.xc&&(b=
a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.ep(a)},!1),a.addEventListener("pointermove",function(a){c.dp(a)},!1),b.addEventListener("pointerup",function(a){c.kj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.kj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.ep(a)},!1),a.addEventListener("MSPointerMove",function(a){c.dp(a)},!1),b.addEventListener("MSPointerUp",function(a){c.kj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.kj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.gp(a)},!1),a.addEventListener("touchmove",function(a){c.fp(a)},!1),b.addEventListener("touchend",function(a){c.Vl(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Vl(a,!0)},!1));if(this.Qt){var d=function(a){a=a.reading;c.$m=a.accelerationX;c.an=a.accelerationY;c.bn=a.accelerationZ},e=function(a){a=a.reading;c.mj=a.yawDegrees;c.nj=a.pitchDegrees;c.oj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",d));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",d),h&&h.removeEventListener("readingchanged",e)):(g&&g.addEventListener("readingchanged",d),h&&h.addEventListener("readingchanged",
e))},!1)}else window.addEventListener("deviceorientation",function(a){c.mj=a.alpha||0;c.nj=a.beta||0;c.oj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.br=a.accelerationIncludingGravity.x||0,c.cr=a.accelerationIncludingGravity.y||0,c.dr=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.$m=a.acceleration.x||0,c.an=a.acceleration.y||0,c.bn=a.acceleration.z||0)},!1);this.iv&&!this.b.fb&&(jQuery(document).mousemove(function(a){c.iu(a)}),jQuery(document).mousedown(function(a){c.hu(a)}),
jQuery(document).mouseup(function(a){c.ju(a)}));!this.b.Ti&&this.b.kc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(f,null,{frequency:40});this.b.$u(this)};b.dp=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&b.preventDefault();var c=this.Og(b.pointerId),d=Qa();if(0<=c){var e=this.b.fb?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,b.pageX-e.left,b.pageY-e.top,
b.width||0,b.height||0,b.pressure||0)}}};b.ep=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&db(b)&&b.preventDefault();var c=this.b.fb?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top;Qa();this.rd=this.touches.length;this.wg=b.pointerId;this.touches.push(p(d,c,b.pointerId,this.rd));this.b.he=!0;this.b.trigger(X.prototype.k.Tm,this);this.b.trigger(X.prototype.k.Zm,this);this.vd=d;this.wd=c;this.b.trigger(X.prototype.k.mk,this);this.b.he=
!1}};b.kj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&db(a)&&a.preventDefault();var c=this.Og(a.pointerId);this.rd=0<=c?this.touches[c].Mh:-1;this.wg=0<=c?this.touches[c].id:-1;this.b.he=!0;this.b.trigger(X.prototype.k.Sm,this);this.b.trigger(X.prototype.k.Ym,this);0<=c&&(b||this.touches[c].Qo(this,c),100>e.length&&e.push(this.touches[c]),this.touches.splice(c,1));this.b.he=!1}};b.fp=function(b){b.preventDefault&&b.preventDefault();var c=Qa(),
d,e,f,g;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],g=this.Og(f.identifier),0<=g){var h=this.b.fb?a:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-h.left,f.pageY-h.top,2*(f.Iw||f.Qw||f.Cw||f.Fw||0),2*(f.Jw||f.Rw||f.Dw||f.Gw||0),f.ww||f.Pw||f.Bw||f.Ew||0)}};b.gp=function(b){b.preventDefault&&db(b)&&b.preventDefault();var c=this.b.fb?a:jQuery(this.b.canvas).offset();Qa();this.b.he=!0;var d,e,f,g;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],
g=this.Og(f.identifier),-1===g){g=f.pageX-c.left;var h=f.pageY-c.top;this.rd=this.touches.length;this.wg=f.identifier;this.touches.push(p(g,h,f.identifier,this.rd));this.b.trigger(X.prototype.k.Tm,this);this.b.trigger(X.prototype.k.Zm,this);this.vd=g;this.wd=h;this.b.trigger(X.prototype.k.mk,this)}this.b.he=!1};b.Vl=function(a,b){a.preventDefault&&db(a)&&a.preventDefault();this.b.he=!0;var c,d,f;c=0;for(d=a.changedTouches.length;c<d;c++)f=a.changedTouches[c],f=this.Og(f.identifier),0<=f&&(this.rd=
this.touches[f].Mh,this.wg=this.touches[f].id,this.b.trigger(X.prototype.k.Sm,this),this.b.trigger(X.prototype.k.Ym,this),b||this.touches[f].Qo(this,f),100>e.length&&e.push(this.touches[f]),this.touches.splice(f,1));this.b.he=!1};b.$h=function(){return this.b.kc&&0===this.mj&&0!==d?90*d:this.mj};b.vw=function(){return this.b.kc&&0===this.nj&&0!==q?90*q:this.nj};b.Aw=function(){return this.b.kc&&0===this.oj&&0!==c?90*c:this.oj};b.hu=function(a){this.gp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,
identifier:0}]});this.Pl=!0};b.iu=function(a){this.Pl&&this.fp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.ju=function(a){a.preventDefault&&this.b.Vn&&!this.b.ie&&a.preventDefault();this.b.Vn=!0;this.Vl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Pl=!1};b.Yj=function(){var a,b,c,d=Qa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.El=d),c.Zt(this,a)};n.prototype.Zm=function(){return!0};n.prototype.Ym=function(){return!0};n.prototype.mk=
function(a){return a?this.b.Tj(a,this.vd,this.wd):!1};n.prototype.Tm=function(a){a=Math.floor(a);return a===this.rd};n.prototype.Sm=function(a){a=Math.floor(a);return a===this.rd};n.prototype.Mq=function(){return!0};n.prototype.Qq=function(){return!0};n.prototype.Iq=function(){return!0};n.prototype.Nq=function(a){return a?this.b.Tj(a,this.vd,this.wd):!1};n.prototype.Rq=function(a){return a?this.b.Tj(a,this.vd,this.wd):!1};n.prototype.Jq=function(a){return a?this.b.Tj(a,this.vd,this.wd):!1};t.k=new n;
v.prototype.nk=function(a,b){var c=this.Qf;if(0>c||c>=this.touches.length)a.F(0);else{var d,e,f,g,h;ga(b)?(d=this.b.Sg(0),e=d.scale,f=d.ad,g=d.zc,h=d.i,d.scale=1,d.ad=1,d.zc=1,d.i=0,a.F(d.xb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.ad=f,d.zc=g,d.i=h):(d=ha(b)?this.b.Sg(b):this.b.al(b))?a.F(d.xb(this.touches[c].x,this.touches[c].y,!0)):a.F(0)}};v.prototype.ok=function(a,b){var c=this.Qf;if(0>c||c>=this.touches.length)a.F(0);else{var d,e,f,g,h;ga(b)?(d=this.b.Sg(0),e=d.scale,f=d.ad,g=d.Ac,
h=d.i,d.scale=1,d.ad=1,d.Ac=1,d.i=0,a.F(d.xb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.ad=f,d.Ac=g,d.i=h):(d=ha(b)?this.b.Sg(b):this.b.al(b))?a.F(d.xb(this.touches[c].x,this.touches[c].y,!1)):a.F(0)}};t.Ka=new v})();function hc(f){this.b=f}
(function(){function f(){}var p=hc.prototype;p.Ea=function(f){this.behavior=f;this.b=f.b};p.Ea.prototype.W=function(){};p.na=function(f,m){this.type=f;this.behavior=f.behavior;this.m=m;this.b=f.b};var m=p.na.prototype;m.W=function(){var f=this.D[0];this.rc=this.D[1];this.ae=this.D[2];this.or=0!==this.D[3];this.rm=0!==this.D[4];this.zb=Math.cos(this.m.i)*f;this.ab=Math.sin(this.m.i)*f;this.hf=this.m.x;this.jf=this.m.y;this.Oc=this.m.i;this.Sh=0;this.enabled=0!==this.D[5]};m.Cb=function(){return{acc:this.rc,
g:this.ae,dx:this.zb,dy:this.ab,lx:this.hf,ly:this.jf,lka:this.Oc,t:this.Sh,e:this.enabled}};m.Xb=function(f){this.rc=f.acc;this.ae=f.g;this.zb=f.dx;this.ab=f.dy;this.hf=f.lx;this.jf=f.ly;this.Oc=f.lka;this.Sh=f.t;this.enabled=f.e};m.Rb=function(){if(this.enabled){var f=this.b.Ue(this.m),m,p;this.m.i!==this.Oc&&(this.rm&&(m=U(0,0,this.zb,this.ab),this.zb=Math.cos(this.m.i)*m,this.ab=Math.sin(this.m.i)*m),this.Oc=this.m.i);0!==this.rc&&(m=U(0,0,this.zb,this.ab),p=0===this.zb&&0===this.ab?this.m.i:
Ja(0,0,this.zb,this.ab),m+=this.rc*f,0>m&&(m=0),this.zb=Math.cos(p)*m,this.ab=Math.sin(p)*m);0!==this.ae&&(this.ab+=this.ae*f);this.hf=this.m.x;this.jf=this.m.y;if(0!==this.zb||0!==this.ab)if(this.m.x+=this.zb*f,this.m.y+=this.ab*f,this.Sh+=U(0,0,this.zb*f,this.ab*f),this.rm&&(this.m.i=Ja(0,0,this.zb,this.ab),this.m.Q(),this.Oc=this.m.i),this.m.Q(),this.or&&(m=this.b.zf(this.m)))this.b.Fu(this.m,m),m=U(0,0,this.zb,this.ab),p=this.b.rr(this.m,this.hf,this.jf),this.zb=Math.cos(p)*m,this.ab=Math.sin(p)*
m,this.m.x+=this.zb*f,this.m.y+=this.ab*f,this.m.Q(),this.rm&&(this.Oc=this.m.i=p,this.m.Q()),this.b.Cu(this.m,this.zb/m,this.ab/m,Math.max(2.5*m*f,30))||this.b.Du(this.m)}};f.prototype.pq=function(f,m){return Sb(this.Sh,f,m)};p.k=new f;p.Fa=new function(){};p.Ka=new function(){}})();function ic(f){this.b=f}
(function(){function f(){}var p=ic.prototype;p.Ea=function(f){this.behavior=f;this.b=f.b};p.Ea.prototype.W=function(){};p.na=function(f,m){this.type=f;this.behavior=f.behavior;this.m=m;this.b=f.b};var m=p.na.prototype;m.W=function(){this.Af=this.Ld=this.Lh=this.Ul=this.Wl=0};m.Cb=function(){return{ontime:this.Wl,offtime:this.Ul,stage:this.Lh,stagetimeleft:this.Ld,timeleft:this.Af}};m.Xb=function(f){this.Wl=f.ontime;this.Ul=f.offtime;this.Lh=f.stage;this.Ld=f.stagetimeleft;this.Af=f.timeleft};m.Rb=
function(){if(!(0>=this.Af)){var f=this.b.Ue(this.m);this.Af-=f;0>=this.Af?(this.Af=0,this.m.visible=!0,this.b.X=!0,this.b.trigger(ic.prototype.k.Lq,this.m)):(this.Ld-=f,0>=this.Ld&&(0===this.Lh?(this.m.visible=!1,this.Lh=1,this.Ld+=this.Ul):(this.m.visible=!0,this.Lh=0,this.Ld+=this.Wl),this.b.X=!0))}};f.prototype.Lq=function(){return!0};p.k=new f;p.Fa=new function(){};p.Ka=new function(){}})();function jc(f){this.b=f}
(function(){function f(){}function p(){}var m={},n=jc.prototype;n.ig=function(){var a,b;for(a in m)m.hasOwnProperty(a)&&(b=m[a],b.Hd.unsetReady(),b.Fh=!0)};n.Ea=function(a){this.behavior=a;this.b=a.b};n.Ea.prototype.W=function(){this.yh=[];this.Xd=[]};n.na=function(a,b){this.type=a;this.behavior=a.behavior;this.m=b;this.b=a.b};var v=n.na.prototype;v.W=function(){this.xa=this.D[0];3>this.xa&&(this.xa=3);this.Jc=this.D[1];this.cu=this.D[2];this.kd=this.D[3];this.rc=this.D[4];this.Kk=this.D[5];this.Zh=
T(this.D[6]);this.xe=0!==this.D[7];this.si=0!==this.D[8];this.enabled=0!==this.D[9];this.Tf=this.Pg=this.vh=this.je=!1;this.Kb=0;this.Oc=this.bd=this.m.i;this.mg=this.Uc=this.Tc=this.Da=0;this.se=Math.ceil(this.b.V.width/this.xa);this.of=Math.ceil(this.b.V.height/this.xa);this.za=[];this.Kf=!1;this.pi=this.oi=0;this.$g=this.Ri=!1;this.un=this.tn=0;this.Ln=!0;var a=this;this.Mb||(this.pu=function(){a.Ri||(a.$g=!1,a.Br(),a.Tf=0<a.za.length,a.Kb=0,a.b.trigger(jc.prototype.k.Um,a.m),a.Mk())},this.ou=
function(){a.Ri||(a.$g=!1,a.wn(),a.Tf=!1,a.je=!1,a.Kb=0,a.b.trigger(jc.prototype.k.Kq,a.m),a.Mk())})};v.te=function(){this.Ri=!0;this.Kf=!1};v.Cb=function(){var a={cs:this.xa,cb:this.Jc,ms:this.kd,acc:this.rc,dec:this.Kk,av:this.Zh,re:this.xe,de:this.si,im:this.je,mfs:this.vh,ftmwm:this.Pg,hp:this.Tf,mn:this.Kb,a:this.bd,lka:this.Oc,s:this.Da,rx:this.Tc,ry:this.Uc,ra:this.mg,myhc:this.se,myvc:this.of,path:this.za,en:this.enabled,fr:this.Ln,obs:[],costs:[]};this.$g?(a.dfp=!0,a.dpx=this.tn,a.dpy=this.un):
(a.dfp=this.Kf,a.dpx=this.oi,a.dpy=this.pi);var b,f;b=0;for(f=this.type.yh.length;b<f;b++)a.obs.push(this.type.yh[b].M);b=0;for(f=this.type.Xd.length;b<f;b++)a.costs.push({sid:this.type.Xd[b].Zo.M,cost:this.type.Xd[b].yn});return a};v.Xb=function(a){this.xa=a.cs;this.Jc=a.cb;this.kd=a.ms;this.rc=a.acc;this.Kk=a.dec;this.Zh=a.av;this.xe=a.re;this.si=a.de;this.je=a.im;this.vh=a.mfs;this.Pg=a.ftmwm;this.Tf=a.hp;this.Kb=a.mn;this.bd=a.a;this.Oc=a.lka;this.Da=a.s;this.Tc=a.rx;this.Uc=a.ry;this.mg=a.ra;
this.se=a.myhc;this.of=a.myvc;this.za=a.path;this.enabled=a.en;this.Ln=a.fr;this.Kf=a.dfp;this.oi=a.dpx;this.pi=a.dpy;S(this.type.yh);var b=a.obs,f,d,e;f=0;for(d=b.length;f<d;f++)(e=this.b.We(b[f]))&&this.type.yh.push(e);S(this.type.Xd);a=a.costs;f=0;for(d=a.length;f<d;f++)(e=this.b.We(a[f].sid))&&this.type.Xd.push({Zo:e,yn:a[f].cost});this.Ve().Hd.setDiagonals(this.si)};v.cd=function(){this.Ve().Fh=!0};v.Rb=function(){if(this.enabled&&this.je){this.xe&&this.m.i!==this.Oc&&(this.bd=this.m.i);var a=
this.b.Ue(this.m),b,f,d,e,h,g=this.m,m=Math.min(.4*this.kd,2*Math.abs(this.m.width)),k=Math.max(1.5*this.Da,30);this.Kb<this.za.length?(e=this.za[this.Kb].x,h=this.za[this.Kb].y,d=U(this.Tc,this.Uc,e,h),d<3*k*a&&(this.Kb++,this.Tc=e,this.Uc=h,this.Kb<this.za.length&&(e=this.za[this.Kb].x,h=this.za[this.Kb].y))):(e=this.za[this.za.length-1].x,h=this.za[this.za.length-1].y);this.mg=Ja(this.Tc,this.Uc,e,h);d=U(g.x,g.y,this.Tc,this.Uc);d<m&&this.Kb<this.za.length&&(this.Pg?this.Pg=!1:m=k*a,this.Tc+=Math.cos(this.mg)*
m,this.Uc+=Math.sin(this.mg)*m);b=Ja(g.x,g.y,this.Tc,this.Uc);f=Ka(this.bd,b);m=U(g.x,g.y,this.za[this.za.length-1].x,this.za[this.za.length-1].y);k=this.kd*this.kd/(2*this.Kk);1<d&&(this.bd=La(this.bd,b,this.Zh*a),.5>=Ea(f)?f=this.kd:120<=Ea(f)||this.vh&&0===this.Kb?(f=0,this.vh=!0):(b=f/this.Zh,d=U(g.x,g.y,this.Tc,this.Uc),d=d/(2*Math.sin(f)),f=d*f/b,0>f&&(f=0),f>this.kd&&(f=this.kd)),m<k&&(f=Math.min(f,m/k*this.kd+this.kd/40)),this.Da+=this.rc*a,this.Da>f&&(this.Da=f));g.x+=Math.cos(this.bd)*this.Da*
a;g.y+=Math.sin(this.bd)*this.Da*a;this.xe&&(this.Oc=g.i=this.bd);g.Q();this.Kb===this.za.length&&U(g.x,g.y,e,h)<Math.max(3*this.Da*a,10)&&(this.Tf=this.je=!1,this.Da=this.Kb=0,this.b.trigger(jc.prototype.k.Eq,g))}};v.Yj=function(){this.enabled&&(this.Xs(),this.Mk())};v.Mk=function(){this.Kf&&!this.Ri&&(this.Kf=!1,this.Dn(this.m.x,this.m.y,this.oi,this.pi))};v.Ve=function(){var a=""+this.xa+","+this.Jc;m.hasOwnProperty(a)||(m[a]={Hd:new window.Pathfinder,cells:null,Fh:!1,vf:[]});return m[a]};v.Xs=
function(){var a=this.Ve();if(!a.Hd.isReady()||a.Fh||a.vf.length){var b,f,d,e,h,g,m,k,n,l;if(!a.Hd.isReady()||a.Fh){this.se=Math.ceil(this.b.V.width/this.xa);this.of=Math.ceil(this.b.V.height/this.xa);b=[];e=b.length=this.se;h=this.of;for(f=0;f<e;++f)for(b[f]=[],b[f].length=h,d=0;d<h;++d)b[f][d]=this.sp(f,d);a.cells=b;a.Hd.init(this.se,this.of,b,this.si);a.Fh=!1;S(a.vf)}else if(a.vf.length){g=0;for(m=a.vf.length;g<m;++g){b=a.vf[g];k=b[0];n=b[1];e=b[2];f=b[3];b=[];e=e-k;h=f-n;b.length=e;for(f=0;f<
e;++f)for(b[f]=[],b[f].length=h,d=0;d<h;++d)l=this.sp(k+f,n+d),b[f][d]=l,a.cells[k+f][n+d]=l;a.Hd.updateRegion(k,n,e,h,b)}S(a.vf)}}};v.wn=function(){var a,b;a=0;for(b=this.za.length;a<b;a++)window.freeResultNode(this.za[a]);S(this.za)};v.Br=function(){var a=this.Ve().Hd.pathList;this.wn();var b,f,d,e;b=0;for(f=a.length;b<f;b++)d=a[b],e=window.allocResultNode(),e.x=(d.x+.5)*this.xa,e.y=(d.y+.5)*this.xa,this.za.push(e)};var t=[],b=new P;v.sp=function(a,c){var f,d,e,h,g,m=0;b.left=a*this.xa-this.Jc;
b.top=c*this.xa-this.Jc;b.right=(a+1)*this.xa+this.Jc;b.bottom=(c+1)*this.xa+this.Jc;if(0===this.cu){if(this.b.Zu(b))return window.PF_OBSTACLE}else{this.b.Hi(this.m.j,this.type.yh,b,t);f=0;for(d=t.length;f<d;++f)if(this.b.Am(b,t[f]))return S(t),window.PF_OBSTACLE;t.length=0}f=0;for(d=this.type.Xd.length;f<d;f++){e=this.type.Xd[f].Zo;g=this.type.Xd[f].yn;this.b.Ei(this.m.j,e,b,t);e=0;for(h=t.length;e<h;++e)this.b.Am(b,t[e])&&(m+=g);S(t)}return m};v.Dn=function(a,b,f,d){var e=this.Ve().Hd;if(e.isReady()){this.$g=
!0;this.tn=f;this.un=d;a=Math.floor(a/this.xa);b=Math.floor(b/this.xa);f=Math.floor(f/this.xa);d=Math.floor(d/this.xa);var h,g,m,k,n,l,p;if(e.at(f,d)===window.PF_OBSTACLE){h=1E6;for(k=m=g=0;k<this.se;k++)for(n=0;n<this.of;n++)e.at(k,n)!==window.PF_OBSTACLE&&(l=f-k,p=d-n,l=l*l+p*p,l<h&&(h=l,g=k,m=n));f=g;d=m}e.findPath(a,b,f,d,this.pu,this.ou)}};f.prototype.Um=function(){return!0};f.prototype.Kq=function(){return!0};f.prototype.Eq=function(){return!0};n.k=new f;p.prototype.vq=function(a,b){this.enabled&&
(this.$g||!this.Ve().Hd.isReady()?(this.Kf=!0,this.oi=a,this.pi=b):this.Dn(this.m.x,this.m.y,a,b))};p.prototype.Vq=function(){this.Tf&&(this.je&&(this.Pg=!0),this.vh=!this.je,this.je=!0,this.Tc=this.m.x,this.Uc=this.m.y,this.mg=this.m.i)};v.$h=function(a,b,f,d){var e=Math.min(a,f)-this.Jc,h=Math.min(b,d)-this.Jc;a=Math.max(a,f)+this.Jc;b=Math.max(b,d)+this.Jc;e=Math.max(Math.floor(e/this.xa),0);h=Math.max(Math.floor(h/this.xa),0);a=Math.min(Math.ceil(a/this.xa),this.se);b=Math.min(Math.ceil(b/this.xa),
this.of);e>=a||h>=b||this.Ve().vf.push([e,h,a,b])};n.Fa=new p;n.Ka=new function(){}})();function kc(f){this.b=f}
(function(){function f(){}function p(){}var m=kc.prototype;m.Ea=function(b){this.behavior=b;this.b=b.b};m.Ea.prototype.W=function(){this.Xc=[]};m.na=function(b,a){this.type=b;this.behavior=b.behavior;this.m=a;this.b=b.b};var n=m.na.prototype;n.W=function(){this.Zb=this.D[0];this.ve=this.D[1];this.xe=0!==this.D[2];this.mm=T(this.D[3]);this.Sj=this.D[4];this.vj=0!==this.D[5];this.em=this.D[6];this.enabled=0!==this.D[7];this.fq=0!==this.D[8];this.Vi=0;this.Lc=this.ve;this.currentTarget=null;this.Il=
-1;this.sf=this.rf=0;this.Yf=[0,0,0,0];this.Wc=0;this.Qg=!0;var b=this;this.Mb||(this.Vo=function(a){b.gu(a)});this.b.dn(this.Vo)};n.Cb=function(){var b={r:this.Zb,rof:this.ve,re:this.xe,rs:this.mm,tm:this.Sj,pa:this.vj,ps:this.em,en:this.enabled,lct:this.Vi,ftc:this.Lc,target:this.currentTarget?this.currentTarget.uid:-1,ox:this.rf,oy:this.sf,ls:this.Yf,sc:this.Wc,targs:[]},a,c;a=0;for(c=this.type.Xc.length;a<c;a++)b.targs.push(this.type.Xc[a].M);return b};n.Xb=function(b){this.Zb=b.r;this.ve=b.rof;
this.xe=b.re;this.mm=b.rs;this.Sj=b.tm;this.vj=b.pa;this.em=b.ps;this.enabled=b.en;this.Vi=b.lct;this.Lc=b.ftc||0;this.Il=b.target;this.rf=b.ox;this.sf=b.oy;this.Yf=b.ls;this.Wc=b.sc;S(this.type.Xc);var a,c,f;a=0;for(c=b.targs.length;a<c;a++)(f=this.b.We(b.targs[a]))&&this.type.Xc.push(f)};n.cd=function(){-1===this.Il?this.currentTarget=null:this.currentTarget=this.b.bl(this.Il)};n.gu=function(b){this.currentTarget==b&&(this.currentTarget=null)};n.te=function(){this.currentTarget=null;this.b.Gu(this.Vo)};
n.hr=function(b){4>this.Wc?(this.Yf[this.Wc]=b,this.Wc++):(this.Yf.shift(),this.Yf.push(b))};n.mt=function(){for(var b=0,a=0;a<this.Wc;a++)b+=this.Yf[a];return b/this.Wc};n.lo=function(b){var a=this.m,c=b.x-a.x;b=b.y-a.y;return c*c+b*b<=this.Zb*this.Zb};var v=new P(0,0,0,0),t=[];n.Wt=function(){var b,a,c;v.left=this.m.x-this.Zb;v.top=this.m.y-this.Zb;v.right=this.m.x+this.Zb;v.bottom=this.m.y+this.Zb;if(this.fq)this.b.Hi(null,this.type.Xc,v,t);else for(b=0,a=this.type.Xc.length;b<a;++b)Aa(t,this.type.Xc[b].d);
b=0;for(a=t.length;b<a;++b)if(c=t[b],this.lo(c)){this.currentTarget=c;S(t);return}S(t)};n.Xt=function(){var b,a,c,f,d,e=this.m.x,h=this.m.y,g=this.Zb*this.Zb;this.currentTarget=null;v.left=e-this.Zb;v.top=h-this.Zb;v.right=e+this.Zb;v.bottom=h+this.Zb;if(this.fq)this.b.Hi(null,this.type.Xc,v,t);else for(b=0,a=this.type.Xc.length;b<a;++b)Aa(t,this.type.Xc[b].d);b=0;for(a=t.length;b<a;++b)c=t[b],f=e-c.x,d=h-c.y,f=f*f+d*d,f<g&&(this.currentTarget=c,g=f);t.length=0};n.Rb=function(){var b=this.b.Ue(this.m),
a=this.b.Wb.ma,c=this.m;if(this.enabled){this.currentTarget&&!this.lo(this.currentTarget)&&(this.currentTarget=null,this.Wc=0,this.Qg=!0);a>=this.Vi+.1&&((this.Vi=a,0!==this.Sj||this.currentTarget)?1===this.Sj&&(a=this.currentTarget,this.Xt(),this.currentTarget&&this.currentTarget!==a&&(this.Wc=0,this.Qg=!0,this.rf=this.currentTarget.x,this.sf=this.currentTarget.y,this.b.trigger(kc.prototype.k.Xm,this.m))):(this.Wt(),this.currentTarget&&(this.Wc=0,this.Qg=!0,this.rf=this.currentTarget.x,this.sf=this.currentTarget.y,
this.b.trigger(kc.prototype.k.Xm,this.m))));this.Lc+=b;if(this.currentTarget){a=Ja(c.x,c.y,this.currentTarget.x,this.currentTarget.y);if(this.vj){var f=c.x,d=c.y,e=this.currentTarget.x,h=this.currentTarget.y,g=Ja(e,h,this.rf,this.sf);this.Qg||this.hr(U(e,h,this.rf,this.sf)/b);var m=this.mt(),k=h-d,n=e-f,f=(m*Math.sin(g)*(f-e)-m*Math.cos(g)*(d-h))/this.em,k=Math.asin(f/Math.sqrt(k*k+n*n))-Math.atan2(k,-n)+Math.PI;isNaN(k)||(a=k)}this.xe&&(c.i=La(c.i,a,this.mm*b),c.Q());this.Lc>=this.ve&&.1>=Ea(Ka(c.i,
a))&&(!this.vj||4<=this.Wc)&&(this.Lc-=this.ve,this.Lc>=this.ve&&(this.Lc=0),this.b.trigger(kc.prototype.k.Wm,this.m));this.currentTarget&&(this.rf=this.currentTarget.x,this.sf=this.currentTarget.y);this.Qg=!1}this.Lc>this.ve&&(this.Lc=this.ve)}};f.prototype.Wm=function(){return!0};f.prototype.Xm=function(){return!0};m.k=new f;p.prototype.jq=function(b){var a=this.type.Xc;if(-1===a.indexOf(b)){var c,f,d;c=0;for(f=a.length;c<f;c++)if(d=a[c],d.B&&-1!==d.nf.indexOf(b))return;a.push(b)}};m.Fa=new p;m.Ka=
new function(){}})();function cc(f){this.b=f}(function(){var f=cc.prototype;f.Ea=function(f){this.behavior=f;this.b=f.b};f.Ea.prototype.W=function(){};f.na=function(f,n){this.type=f;this.behavior=f.behavior;this.m=n;this.b=f.b};var p=f.na.prototype;p.W=function(){this.m.C.solidEnabled=0!==this.D[0]};p.Rb=function(){};f.k=new function(){};f.Fa=new function(){}})();
function bc(){return[ec,fc,gc,dc,X,jc,ic,cc,kc,hc,W.prototype.k.yq,W.prototype.k.Qm,jc.prototype.Fa.vq,dc.prototype.Ka.nk,dc.prototype.Ka.ok,W.prototype.k.uq,dc.prototype.Fa.Uq,W.prototype.k.qq,W.prototype.Fa.Xq,jc.prototype.k.Um,jc.prototype.Fa.Vq,dc.prototype.k.Gq,dc.prototype.Fa.Wq,dc.prototype.Fa.sq,dc.prototype.k.oq,W.prototype.k.Sq,kc.prototype.Fa.jq,kc.prototype.k.Wm,hc.prototype.k.pq,X.prototype.k.mk,W.prototype.Fa.rq,W.prototype.Ka.round,X.prototype.Ka.nk,X.prototype.Ka.ok,dc.prototype.k.zq]}
;
